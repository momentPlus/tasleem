<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EventPlus - ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap');
        
        * {
            font-family: 'Tajawal', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #41296D 0%, #EC2B84 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .section-padding {
            padding: 4rem 1.5rem;
        }
        
        @media (max-width: 768px) {
            .section-padding {
                padding: 2.5rem 1rem;
            }
        }
        
        .smooth-scroll {
            scroll-behavior: smooth;
        }
        
        .device-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .price-tag {
            font-size: 2rem;
            font-weight: 900;
            color: #41296D;
        }
        
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Slideshow Styles */
        .slideshow-container {
            position: relative;
        }
        
        .slide {
            display: none;
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        
        .slide.active {
            display: flex;
            opacity: 1;
        }
        
        .slide-nav {
            z-index: 10;
        }
        
        .dot.active {
            background-color: rgba(255, 255, 255, 0.9) !important;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="smooth-scroll"><!-- Navigation -->
  <nav class="gradient-bg text-white sticky top-0 z-50 shadow-lg">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
     <div class="flex items-center gap-3">
      <div class="text-3xl">
       ๐ฏ
      </div>
      <div>
       <h1 class="text-2xl font-bold" id="nav-title">EventPlus</h1>
       <p class="text-xs opacity-90">ุญููู ุงูุนุฑุถ ุงูุฐููุฉ</p>
      </div>
     </div><button onclick="scrollToSection('booking')" class="bg-white text-purple-900 px-6 py-2.5 rounded-full font-bold hover:bg-gray-50 transition-all"> ุงุญุฌุฒ ุงูุขู </button>
    </div>
   </div>
  </nav><!-- Hero Section -->
  <section class="gradient-bg text-white section-padding">
   <div class="max-w-6xl mx-auto"><!-- Slideshow -->
    <div class="relative mb-12 rounded-3xl overflow-hidden shadow-2xl">
     <div class="slideshow-container relative h-96 md:h-[500px]"><!-- Slide 1 -->
      <div class="slide active bg-gradient-to-br from-blue-600 to-purple-700 h-full flex items-center justify-center text-white relative">
       <div class="absolute inset-0 bg-black/20"></div>
       <div class="text-center z-10">
        <div class="text-8xl mb-4">
         ๐บ
        </div>
        <h3 class="text-3xl font-bold mb-2">ุดุงุดุงุช ุงูุนุฑุถ ุงูุฐููุฉ</h3>
        <p class="text-lg opacity-90">ุชูููุฉ ูุชุทูุฑุฉ ูุนุฑุถ ุงููุญุชูู ุงูุชูุงุนูู</p>
       </div>
      </div><!-- Slide 2 -->
      <div class="slide bg-gradient-to-br from-teal-600 to-blue-700 h-full flex items-center justify-center text-white relative">
       <div class="absolute inset-0 bg-black/20"></div>
       <div class="text-center z-10">
        <div class="text-8xl mb-4">
         ๐
        </div>
        <h3 class="text-3xl font-bold mb-2">ุงูุฃูุดุงู ุงูุชูุงุนููุฉ</h3>
        <p class="text-lg opacity-90">ุชุฌุฑุจุฉ ููุณ ูุชูุฏูุฉ ูุฌูุน ุงูุจูุงูุงุช</p>
       </div>
      </div><!-- Slide 3 -->
      <div class="slide bg-gradient-to-br from-pink-600 to-purple-700 h-full flex items-center justify-center text-white relative">
       <div class="absolute inset-0 bg-black/20"></div>
       <div class="text-center z-10">
        <div class="text-8xl mb-4">
         ๐ช
        </div>
        <h3 class="text-3xl font-bold mb-2">ููุตุฉ ุงูุชุตููุฑ 360ยฐ</h3>
        <p class="text-lg opacity-90">ุชุฌุฑุจุฉ ุชุตููุฑ ุฏูุงุฑุฉ ูุฐููุฉ</p>
       </div>
      </div><!-- Slide 4 -->
      <div class="slide bg-gradient-to-br from-orange-600 to-red-700 h-full flex items-center justify-center text-white relative">
       <div class="absolute inset-0 bg-black/20"></div>
       <div class="text-center z-10">
        <div class="text-8xl mb-4">
         ๐ฏ
        </div>
        <h3 class="text-3xl font-bold mb-2">ุญููู ูุชูุงููุฉ</h3>
        <p class="text-lg opacity-90">ูู ุงูููุฑุฉ ุฅูู ุงูุชูููุฐ ุงูุงุญุชุฑุงูู</p>
       </div>
      </div><!-- Navigation arrows --> <button class="slide-nav prev absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all" onclick="changeSlide(-1)"> โฎ </button> <button class="slide-nav next absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all" onclick="changeSlide(1)"> โฏ </button> <!-- Dots indicator -->
      <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2"><button class="dot active w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(1)"></button> <button class="dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(2)"></button> <button class="dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(3)"></button> <button class="dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(4)"></button>
      </div>
     </div>
    </div>
    <div class="text-center">
     <h2 class="text-4xl md:text-6xl font-black mb-6 leading-tight" id="hero-title">EventPlus โ ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ููููููุฌุฑุงู ูุงูุดุงุดุงุช ุงูุฐููุฉ</h2>
     <p class="text-xl md:text-2xl mb-10 opacity-95 leading-relaxed" id="hero-subtitle">ูุญููู ุงูุชูููุฉ ุฅูู <span class="font-bold">ุชุฌุฑุจุฉ ุฅูุณุงููุฉ</span> ุชูููุน ุฌูููุฑูู ูุชููุชุฌ ุจูุงูุงุช ูุงุจูุฉ ูููุฑุงุฑ</p>
     <div class="flex flex-wrap justify-center gap-4"><button onclick="scrollToSection('booking')" class="bg-white text-purple-900 px-8 py-4 rounded-full text-lg font-bold hover:bg-gray-50 transition-all shadow-lg"> ุงุญุฌุฒ ุงูุขู ๐ </button> <button onclick="scrollToSection('catalog')" class="bg-pink-600 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-pink-700 transition-all"> ูุชุงููุฌ ุงูุดุงุดุงุช ๐ฑ </button> <a href="#" id="whatsapp-hero-btn" class="bg-teal-500 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-teal-600 transition-all inline-flex items-center gap-2"> ูุงุชุณุงุจ ๐ฌ </a>
     </div>
     <div class="mt-12 bg-white/10 backdrop-blur-sm rounded-2xl p-6 max-w-3xl mx-auto">
      <p class="text-sm font-semibold mb-2">โ ุฑุณูู ุงูุชูุตูู ูุญุณูุจุฉ ุชููุงุฆูุงู ุญุณุจ ุนุฏุฏ ุงูุดุงุดุงุช</p>
      <p class="text-xs opacity-90">๐ก ุฌููุน ุงูุฃุณุนุงุฑ ูุงุจูุฉ ููุชูุงูุถ โ ุฎุตููุงุช ุฐููุฉ ุชููุงุฆูุฉ</p>
     </div>
    </div>
   </div>
  </section><!-- Quick Features -->
  <section class="section-padding" style="background-color: #F5F5F7;">
   <div class="max-w-6xl mx-auto">
    <div class="grid md:grid-cols-3 gap-8">
     <div class="bg-white p-8 rounded-2xl shadow-md text-center">
      <div class="text-5xl mb-4">
       ๐จ
      </div>
      <h3 class="text-xl font-bold mb-3" style="color: #41296D;">ูุงุฐุง ููุฏููุ</h3>
      <p class="text-gray-600 leading-relaxed">ููููุฌุฑุงู ุซูุงุซู ุงูุฃุจุนุงุฏุ ุดุงุดุงุช ุฐููุฉุ 360 Photo Boothุ ุญููุงุช ุชูุงุนููุฉ ูููุงุณ ุงูุฃุซุฑ</p>
     </div>
     <div class="bg-white p-8 rounded-2xl shadow-md text-center">
      <div class="text-5xl mb-4">
       โก
      </div>
      <h3 class="text-xl font-bold mb-3" style="color: #41296D;">ููุงุฐุง ูุญูุ</h3>
      <p class="text-gray-600 leading-relaxed">ุชูููุฐ ููุฏุงูู ุณุฑูุน ุฏุงุฎู ูุณูุทุ ุจุงูุงุช ูุงุถุญุฉุ ุฏุนู ููู ุงุญุชุฑุงูู</p>
     </div>
     <div class="bg-white p-8 rounded-2xl shadow-md text-center">
      <div class="text-5xl mb-4">
       ๐
      </div>
      <h3 class="text-xl font-bold mb-3" style="color: #41296D;">ูุชุงุฆุฌ ูุงุจูุฉ ููููุงุณ</h3>
      <p class="text-gray-600 leading-relaxed">ูุงุฌูุงุช ููุณ/QRุ ุชูุงุฑูุฑ ูุฎุชุตุฑุฉ ุจุนุฏ ุงููุนุงููุฉ</p>
     </div>
    </div>
   </div>
  </section><!-- Catalog Section -->
  <section id="catalog" class="section-padding bg-white">
   <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-black mb-4">ูุชุงููุฌ ุงูุดุงุดุงุช ๐ฑ</h2>
     <p class="text-xl text-gray-600">ุงุฎุชุฑ ุงูุฌูุงุฒ ุงูููุงุณุจ ููุนุงููุชู</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-2 gap-8" id="devices-container"><!-- Device 1 -->
     <div class="device-card card-hover">
      <div class="h-48 bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white">
       <div class="text-center">
        <div class="text-6xl mb-2">
         ๐บ
        </div>
        <p class="text-sm opacity-90">ุตูุฑุฉ ุงูุดุงุดุฉ</p>
       </div>
      </div>
      <div class="bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white">
       <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ</h3><span class="badge bg-white text-blue-600">ุดุงุดุฉ ุฑูููุฉ</span>
       </div>
       <p class="text-blue-100">HuwiyaTek 32 LED NoNFC View (Digital Notice Board)</p>
      </div>
      <div class="p-6">
       <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
        <div>
         <span class="font-semibold">ุงูููุงุณ:</span> 32โณ
        </div>
        <div>
         <span class="font-semibold">ุงูุดุงุดุฉ:</span> LED
        </div>
        <div>
         <span class="font-semibold">ุงูููุณ:</span> ูุนู
        </div>
        <div>
         <span class="font-semibold">NFC:</span> ูุง
        </div>
        <div>
         <span class="font-semibold">ุงููุธุงู:</span> Android 11
        </div>
        <div>
         <span class="font-semibold">ุงูุณุนุฉ:</span> 2+32G
        </div>
       </div>
       <p class="text-gray-600 mb-4 text-sm"><strong>ุงูุงุณุชุฎุฏุงู ุงููุซุงูู:</strong> ุดุงุดุฉ ุนุฑุถ ุซุงุจุชุฉ ูุนุฑุถ ุงููููุฉ ูุงูุนุฑูุถ ุงูุชุนุฑูููุฉ ูู ุงููุฏุงุฎู ูุงููุนุงุฑุถ ูุงูููุงุชุจ ุงูุฑุณููุฉ</p>
       <div class="flex justify-between items-center mb-4">
        <div>
         <div class="price-tag">
          45 OMR
         </div>
         <div class="text-sm text-gray-500">
          ููู ูุงุญุฏ
         </div>
        </div><button onclick="addDeviceToSelection('ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ', 45, 350)" class="bg-pink-600 text-white px-6 py-3 rounded-full font-bold hover:bg-pink-700 transition-all"> ุฃุถู ููุญุฌุฒ </button>
       </div>
       <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
        <div class="text-xs text-blue-800 font-semibold mb-1">
         ๐ก ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ
        </div>
        <div class="text-xs text-blue-700">
         โข ูู 4 ุฃูุงู: ุฎุตู 15%<br>
          โข ูู 8 ุฃูุงู: ุฎุตู 50%<br>
          โข ุงูุณูู ุงูุดูุฑู: 157.50 OMR
        </div>
       </div>
      </div>
     </div><!-- Device 2 -->
     <div class="device-card card-hover">
      <div class="h-48 bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center text-white">
       <div class="text-center">
        <div class="text-6xl mb-2">
         ๐
        </div>
        <p class="text-sm opacity-90">ุตูุฑุฉ ุงูุดุงุดุฉ</p>
       </div>
      </div>
      <div class="bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white">
       <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ</h3><span class="badge bg-white text-purple-600">ุจุทุงุฑูุฉ</span>
       </div>
       <p class="text-purple-100">HuwiyaTek 32 LED NFC Battery (Battery Operated Kiosk)</p>
      </div>
      <div class="p-6">
       <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
        <div>
         <span class="font-semibold">ุงูููุงุณ:</span> 32โณ
        </div>
        <div>
         <span class="font-semibold">ุงูุดุงุดุฉ:</span> LED
        </div>
        <div>
         <span class="font-semibold">ุงูููุณ:</span> 10-ููุงุท
        </div>
        <div>
         <span class="font-semibold">NFC:</span> ูุนู
        </div>
        <div>
         <span class="font-semibold">ุงููุธุงู:</span> Android 13
        </div>
        <div>
         <span class="font-semibold">ุงูุจุทุงุฑูุฉ:</span> 8 ุณุงุนุงุช
        </div>
       </div>
       <p class="text-gray-600 mb-4 text-sm"><strong>ุงูุงุณุชุฎุฏุงู ุงููุซุงูู:</strong> ุดุงุดุฉ ุนุฑุถ ุฐููุฉ ุชุนูู ุจุงูุจุทุงุฑูุฉ ูุชุฏุนู NFCุ ูุซุงููุฉ ููุนุฑูุถ ุงูููุฏุงููุฉ ูุงูุชูุดูุทุงุช ุงูุฎุงุฑุฌูุฉ</p>
       <div class="flex justify-between items-center mb-4">
        <div>
         <div class="price-tag">
          45 OMR
         </div>
         <div class="text-sm text-gray-500">
          ููู ูุงุญุฏ
         </div>
        </div><button onclick="addDeviceToSelection('ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ', 45, 400)" class="bg-pink-600 text-white px-6 py-3 rounded-full font-bold hover:bg-pink-700 transition-all"> ุฃุถู ููุญุฌุฒ </button>
       </div>
       <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
        <div class="text-xs text-purple-800 font-semibold mb-1">
         ๐ก ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ
        </div>
        <div class="text-xs text-purple-700">
         โข ูู 4 ุฃูุงู: ุฎุตู 15%<br>
          โข ูู 8 ุฃูุงู: ุฎุตู 50%<br>
          โข ุงูุณูู ุงูุดูุฑู: 180.00 OMR
        </div>
       </div>
      </div>
     </div><!-- Device 3 -->
     <div class="device-card card-hover">
      <div class="h-48 bg-gradient-to-br from-teal-500 to-teal-600 flex items-center justify-center text-white">
       <div class="text-center">
        <div class="text-6xl mb-2">
         ๐
        </div>
        <p class="text-sm opacity-90">ุตูุฑุฉ ุงูุดุงุดุฉ</p>
       </div>
      </div>
      <div class="bg-gradient-to-br from-teal-500 to-teal-600 p-6 text-white">
       <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ</h3><span class="badge bg-white text-teal-600">ุชูุงุนูู</span>
       </div>
       <p class="text-teal-100">LamsaTek 21 LCD NFC Kiosk (K-Type Interactive Kiosk)</p>
      </div>
      <div class="p-6">
       <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
        <div>
         <span class="font-semibold">ุงูููุงุณ:</span> 21.5โณ
        </div>
        <div>
         <span class="font-semibold">ุงูุดุงุดุฉ:</span> LCD
        </div>
        <div>
         <span class="font-semibold">ุงูููุณ:</span> ูุนู
        </div>
        <div>
         <span class="font-semibold">NFC:</span> ูุนู
        </div>
        <div>
         <span class="font-semibold">ุงููุธุงู:</span> Android 11
        </div>
        <div>
         <span class="font-semibold">ุงูุณุนุฉ:</span> 2+32G
        </div>
       </div>
       <p class="text-gray-600 mb-4 text-sm"><strong>ุงูุงุณุชุฎุฏุงู ุงููุซุงูู:</strong> ูุดู ุชูุงุนูู ุจุชุตููู K ุงูุนููุฏูุ ูุฒูุฏ ุจุดุงุดุฉ ููุณ ูNFC ูุฌูุน ุงูุจูุงูุงุช ูุชุณุฌูู ุงูุฒูุงุฑ ุจุทุฑููุฉ ุนุตุฑูุฉ</p>
       <div class="flex justify-between items-center mb-4">
        <div>
         <div class="price-tag">
          50 OMR
         </div>
         <div class="text-sm text-gray-500">
          ููู ูุงุญุฏ
         </div>
        </div><button onclick="addDeviceToSelection('ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ', 50, 400)" class="bg-teal-600 text-white px-6 py-3 rounded-full font-bold hover:bg-teal-700 transition-all"> ุฃุถู ููุญุฌุฒ </button>
       </div>
       <div class="bg-teal-50 border border-teal-200 rounded-lg p-3">
        <div class="text-xs text-teal-800 font-semibold mb-1">
         ๐ก ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ
        </div>
        <div class="text-xs text-teal-700">
         โข ูู 4 ุฃูุงู: ุฎุตู 15%<br>
          โข ูู 8 ุฃูุงู: ุฎุตู 50%<br>
          โข ุงูุณูู ุงูุดูุฑู: 180.00 OMR
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </section><!-- Packages Section -->
  <section id="packages" class="section-padding" style="background-color: #F5F5F7;">
   <div class="max-w-6xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-black mb-4">ุงูุจุงูุงุช ุงูุฑุณููุฉ ๐ฆ</h2>
     <p class="text-xl text-gray-600">ุจุงูุงุช ุฌุงูุฒุฉ ุจุฃุณุนุงุฑ ุซุงุจุชุฉ ูุฎุตููุงุช ุฐููุฉ</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"><!-- Essential Plus Package -->
     <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
      <div class="text-white p-6 text-center" style="background: linear-gradient(135deg, #00B9A8 0%, #41296D 100%);">
       <div class="text-4xl mb-2">
        ๐บ
       </div>
       <h3 class="text-2xl font-bold">Essential Plus</h3>
       <p class="opacity-90">ุดุงุดุฉ ุงูุนุฑุถ + ุฅุถุงูุงุช ุฐููุฉ</p>
      </div>
      <div class="p-6">
       <div class="text-center mb-6">
        <div class="text-4xl font-black mb-2" style="color: #41296D;">
         75-120 OMR
        </div>
        <div class="text-sm text-gray-400 mt-1">
         ููู ูุงุญุฏ (ุญุณุจ ุงูุฅุถุงูุงุช)
        </div>
       </div>
       <ul class="space-y-3 mb-6">
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุดุงุดุฉ ูุงุญุฏุฉ (ุญุณุจ ุงุฎุชูุงุฑู)</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุตูุญุฉ ุชูุงุนููุฉ HTML ูุฎุตุตุฉ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ููุฏูู ููุดู ุจุงูุดุนุงุฑ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุจุฑุงูุฏูุบ ุงูุฌูุงุฒ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุงูุชูุตูู ูุงูุชุฑููุจ ูุฌุงูุงู</span></li>
       </ul>
       <div class="bg-teal-50 border border-teal-200 rounded-lg p-3 mb-4">
        <div class="text-xs text-teal-800 font-semibold mb-1">
         ๐ก ุงูุฅุถุงูุงุช ุงููุดูููุฉ
        </div>
        <div class="text-xs text-teal-700">
         โข ุตูุญุฉ HTML: 30-80 OMR<br>
          โข ููุฏูู ููุดู: 30-60 OMR<br>
          โข ุจุฑุงูุฏูุบ: 15-25 OMR<br>
          โข ุฎุตู ุงูุจุงูุฉ: 10%
        </div>
       </div><button onclick="selectEssentialPlusPackage()" class="w-full text-white py-3 rounded-full font-bold transition-all" style="background-color: #00B9A8;" onmouseover="this.style.backgroundColor='#009688'" onmouseout="this.style.backgroundColor='#00B9A8'"> ุงุฎุชุฑ Essential Plus </button>
      </div>
     </div><!-- Interactive Pro Package -->
     <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover border-4" style="border-color: #EC2B84;">
      <div class="text-white p-6 text-center" style="background: linear-gradient(135deg, #EC2B84 0%, #41296D 100%);">
       <div class="text-4xl mb-2">
        ๐
       </div>
       <h3 class="text-2xl font-bold">Interactive Pro</h3>
       <p class="opacity-90">ูุดู ุชูุงุนูู + ุญููู ูุชูุฏูุฉ</p><span class="badge bg-yellow-400 text-yellow-900 mt-2">ุงูุฃูุซุฑ ุทูุจุงู</span>
      </div>
      <div class="p-6">
       <div class="text-center mb-6">
        <div class="text-4xl font-black mb-2" style="color: #41296D;">
         120-200 OMR
        </div>
        <div class="text-sm text-gray-400 mt-1">
         ููู ูุงุญุฏ (ุญุณุจ ุงูุฅุถุงูุงุช)
        </div>
       </div>
       <ul class="space-y-3 mb-6">
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุดุงุดุฉ ูุงุญุฏุฉ (ุญุณุจ ุงุฎุชูุงุฑู)</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ูุนุจุฉ ุชูุงุนููุฉ ุฌุงูุฒุฉ APK</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุตูุญุฉ ุฌูุน ุงูุจูุงูุงุช ุงููุชูุฏูุฉ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุชูุฑูุฑ ุงูุจูุงูุงุช ุงูุชูุตููู</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุจุฑุงูุฏูุบ ูุงูู ูููุดู</span></li>
       </ul>
       <div class="bg-pink-50 border border-pink-200 rounded-lg p-3 mb-4">
        <div class="text-xs text-pink-800 font-semibold mb-1">
         ๐ก ุงูุฅุถุงูุงุช ุงููุดูููุฉ
        </div>
        <div class="text-xs text-pink-700">
         โข ูุนุจุฉ ุฌุงูุฒุฉ: 120-180 OMR<br>
          โข ุตูุญุฉ ูุชูุฏูุฉ: 50-90 OMR<br>
          โข ุจุฑุงูุฏูุบ ูุงูู: 25-35 OMR<br>
          โข ุฎุตู ุงูุจุงูุฉ: 15%
        </div>
       </div><button onclick="selectInteractiveProPackage()" class="w-full text-white py-3 rounded-full font-bold transition-all" style="background-color: #EC2B84;" onmouseover="this.style.backgroundColor='#D91A72'" onmouseout="this.style.backgroundColor='#EC2B84'"> ุงุฎุชุฑ Interactive Pro </button>
      </div>
     </div><!-- Premium Complete Package -->
     <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover">
      <div class="text-white p-6 text-center" style="background: linear-gradient(135deg, #41296D 0%, #EC2B84 100%);">
       <div class="text-4xl mb-2">
        ๐ฏ
       </div>
       <h3 class="text-2xl font-bold">Premium Complete</h3>
       <p class="opacity-90">ุงูุญู ุงูุดุงูู + ุชุตููุฑ ุงุญุชุฑุงูู</p>
      </div>
      <div class="p-6">
       <div class="text-center mb-6">
        <div class="text-4xl font-black mb-2" style="color: #41296D;">
         180-280 OMR
        </div>
        <div class="text-sm text-gray-400 mt-1">
         ููู ูุงุญุฏ (ุญุณุจ ุงูุฅุถุงูุงุช)
        </div>
        <div class="text-xs text-purple-600 font-semibold mt-1">
         ููุฑ ุญุชู 50 OMR ูุน ุฎุตู ุงูุจุงูุฉ ุงูุดุงููุฉ!
        </div>
       </div>
       <ul class="space-y-3 mb-6">
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุดุงุดุชุงู (ุญุณุจ ุงุฎุชูุงุฑู)</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ูุนุจุฉ ูุฎุตุตุฉ ุญุณุจ ุงูุทูุจ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุชุตููุฑ ุงุญุชุฑุงูู + ููุฎุต ููุฏูู</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุฏุนู ููู ูุฎุตุต ุจุงูุณุงุนุฉ</span></li>
       </ul>
       <div class="bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4">
        <div class="text-xs text-purple-800 font-semibold mb-1">
         ๐ ุงูุฅุถุงูุงุช ุงููุดูููุฉ
        </div>
        <div class="text-xs text-purple-700">
         โข ูุนุจุฉ ูุฎุตุตุฉ: 350+ OMR<br>
          โข ุชุตููุฑ ุงุญุชุฑุงูู: 65-120 OMR<br>
          โข ุตูุฑ ูุฎุตุตุฉ: 25-80 OMR<br>
          โข ุฎุตู ุงูุจุงูุฉ ุงูุดุงููุฉ: 20%
        </div>
       </div><button onclick="selectPremiumCompletePackage()" class="w-full text-white py-3 rounded-full font-bold transition-all" style="background-color: #41296D;" onmouseover="this.style.backgroundColor='#2F1B4F'" onmouseout="this.style.backgroundColor='#41296D'"> ุงุฎุชุฑ Premium Complete </button>
      </div>
     </div>
    </div>
   </div>
  </section><!-- Add-ons Section -->
  <section id="addons" class="section-padding bg-white">
   <div class="max-w-6xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-black mb-4">ุงูุฅุถุงูุงุช ๐</h2>
     <p class="text-xl text-gray-600">ุนุฒุฒ ุชุฌุฑุจุชู ุจุฎุฏูุงุช ุฅุถุงููุฉ</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
     <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐ฌ
      </div>
      <h3 class="text-xl font-bold mb-2">ููุฏูู ููุดู ุฌุงูุฒ</h3>
      <p class="text-gray-600 text-sm mb-3">ุชุฎุตูุต ุดุนุงุฑ ููุต</p>
      <div class="text-2xl font-bold text-orange-600">
       30-100 OMR
      </div>
     </div>
     <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐ป
      </div>
      <h3 class="text-xl font-bold mb-2">ุตูุญุฉ ุชูุงุนููุฉ HTML</h3>
      <p class="text-gray-600 text-sm mb-3">ุชุณุฌูู/ุงุณุชุจูุงู/ุนุฑุถ</p>
      <div class="text-2xl font-bold text-blue-600">
       30-120 OMR
      </div>
     </div>
     <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐ฎ
      </div>
      <h3 class="text-xl font-bold mb-2">ูุนุจุฉ ุฌุงูุฒุฉ APK</h3>
      <p class="text-gray-600 text-sm mb-3">ูุนุจุฉ ููุงุท/ุณูุงุฑุฉ</p>
      <div class="text-2xl font-bold text-green-600">
       120-250 OMR
      </div>
     </div>
     <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐ฏ
      </div>
      <h3 class="text-xl font-bold mb-2">ูุนุจุฉ ูุฎุตุตุฉ</h3>
      <p class="text-gray-600 text-sm mb-3">ุจุฑูุฌุฉ ุญุณุจ ุงูููุฑุฉ</p>
      <div class="text-2xl font-bold text-purple-600">
       ูู 350 OMR
      </div>
     </div>
     <div class="bg-gradient-to-br from-pink-50 to-pink-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐จ
      </div>
      <h3 class="text-xl font-bold mb-2">ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ</h3>
      <p class="text-gray-600 text-sm mb-3">ูููุฉ ุนูู ุงููููู</p>
      <div class="text-2xl font-bold text-pink-600">
       15-35 OMR
      </div>
     </div>
     <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐ธ
      </div>
      <h3 class="text-xl font-bold mb-2">ุชุตููุฑ ุงุญุชุฑุงูู</h3>
      <p class="text-gray-600 text-sm mb-3">ููุชู/ููุฏูู + ููุฎุต</p>
      <div class="text-2xl font-bold text-yellow-600">
       65-120 OMR
      </div>
     </div>
     <div class="bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-2xl">
      <div class="text-3xl mb-3">
       ๐ผ๏ธ
      </div>
      <h3 class="text-xl font-bold mb-2">ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช</h3>
      <p class="text-gray-600 text-sm mb-3">ุชุตููู/ุชุญุฑูุฑ ุญุณุจ ุงูููุงุณ</p>
      <div class="text-2xl font-bold text-indigo-600">
       25-80 OMR
      </div>
     </div>
    </div>
   </div>
  </section><!-- Booking Form Section -->
  <section id="booking" class="section-padding bg-gradient-to-br from-purple-50 to-blue-50">
   <div class="max-w-7xl mx-auto">
    <div class="text-center mb-12">
     <h2 class="text-4xl md:text-5xl font-black mb-4">ุงุญุฌุฒ ุงูุขู ๐</h2>
     <p class="text-xl text-gray-600">ุงุฎุชุฑ ุฃุฌูุฒุชูุ ุญุฏูุฏ ุงูุชุงุฑูุฎ ูุงูููุช ูุงููููุนุ ูุณูุคูุฏ ูู ุงูุชููุฑ ุฎูุงู ุณุงุนุงุช ุงูุนูู</p><!-- ุฒุฑ ุนุฑุถ ุณุฌู ุงูุญุฌูุฒุงุช -->
     <div class="mt-6"><button onclick="toggleBookingHistory()" id="history-toggle-btn" class="bg-white text-purple-600 px-6 py-3 rounded-full font-bold hover:bg-gray-50 transition-all shadow-lg"> ุนุฑุถ ุณุฌู ุงูุญุฌูุฒุงุช ุงูุณุงุจูุฉ ๐ (<span id="bookings-count">0</span>) </button>
     </div><!-- ุณุฌู ุงูุญุฌูุฒุงุช -->
     <div id="booking-history" class="hidden mt-8 bg-white rounded-3xl shadow-2xl p-6">
      <div class="flex justify-between items-center mb-6">
       <h3 class="text-2xl font-bold text-purple-900">ุณุฌู ุงูุญุฌูุฒุงุช ุงูุณุงุจูุฉ ๐</h3><button onclick="toggleBookingHistory()" class="text-gray-500 hover:text-gray-700 text-2xl">โ</button>
      </div>
      <div id="bookings-list" class="space-y-4 max-h-96 overflow-y-auto"><!-- ุณูุชู ููุก ุงูุญุฌูุฒุงุช ููุง -->
      </div>
     </div>
    </div>
    <div class="grid lg:grid-cols-3 gap-8"><!-- Main Form -->
     <div class="lg:col-span-2">
      <div class="bg-white rounded-3xl shadow-2xl p-8">
       <form id="booking-form" class="space-y-8"><!-- ุฃ. ุชูุงุตูู ุงููุนุงููุฉ -->
        <div class="border-b pb-6">
         <h3 class="text-2xl font-bold mb-6 text-purple-900">ุฃ. ุชูุงุตูู ุงููุนุงููุฉ</h3>
         <div class="mb-6"><label class="block text-sm font-bold mb-2" for="event-type">ููุน ุงููุนุงููุฉ *</label> <select id="event-type" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all"> <option value="">ุงุฎุชุฑ ููุน ุงููุนุงููุฉ</option> <option value="ูุนุฑุถ">ูุนุฑุถ</option> <option value="ูุคุชูุฑ">ูุคุชูุฑ</option> <option value="ุชุฏุดูู">ุชุฏุดูู</option> <option value="ูุชุฌุฑ">ูุชุฌุฑ</option> <option value="ุฎุงุต">ุฎุงุต</option> </select>
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2" for="event-location">ุงููุฏููุฉ/ุงููููุน *</label> <input type="text" id="event-location" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ูุณูุทุ ุนููุงู">
         </div>
<div class="grid md:grid-cols-3 gap-6 mb-6">
  <div>
    <label class="block text-sm font-bold mb-2" for="event-date">ุชุงุฑูุฎ ุงููุนุงููุฉ *</label>
    <input type="date" id="event-date" required
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all">
  </div>
  <div>
    <label class="block text-sm font-bold mb-2" for="event-start">ููุช ุงูุจุฏุงูุฉ *</label>
    <input type="time" id="event-start" required
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all">
  </div>
  <div>
    <label class="block text-sm font-bold mb-2" for="event-end">ููุช ุงูุงูุชูุงุก *</label>
    <input type="time" id="event-end" required
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all">
  </div>
</div>

         <div class="mb-6"><label class="block text-sm font-bold mb-2">ุฏุงุฎู ูุณูุทุ *</label>
          <div class="flex gap-4"><label class="flex items-center"> <input type="radio" name="inside-muscat" value="yes" id="inside-muscat-yes" class="ml-2" onchange="toggleDistanceField()"> <span>ูุนู</span> </label> <label class="flex items-center"> <input type="radio" name="inside-muscat" value="no" id="inside-muscat-no" class="ml-2" onchange="toggleDistanceField()"> <span>ูุง</span> </label>
          </div>
         </div>
         <div id="distance-field" class="mb-6 hidden"><label class="block text-sm font-bold mb-2" for="distance-km">ุงููุณุงูุฉ ุงูุชูุฏูุฑูุฉ ูู ูุณูุท (ูู)</label> <input type="number" id="distance-km" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ูุซุงู: 150">
          <p class="text-sm text-gray-500 mt-1">ุณูุชู ุฅุถุงูุฉ 0.25-0.35 OMR/ูู + ุจุฏู ุณูู ูููุฑูู ุฅู ูุฒู</p>
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2">ุชูููุฑ ุงูููุฑุจุงุก *</label>
          <div class="flex gap-4 pt-3"><label class="flex items-center"> <input type="radio" name="electricity" value="yes" id="electricity-yes" class="ml-2" onchange="toggleBatteryRecommendation()"> <span>ูุนู</span> </label> <label class="flex items-center"> <input type="radio" name="electricity" value="no" id="electricity-no" class="ml-2" onchange="toggleBatteryRecommendation()"> <span>ูุง</span> </label>
          </div>
         </div>
         <div id="battery-recommendation" class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 hidden">
          <div class="flex items-start gap-3"><span class="text-2xl">๐ก</span>
           <div>
            <h4 class="font-bold text-yellow-800">ุชูุตูุฉ ุฐููุฉ</h4>
            <p class="text-yellow-700">ุจูุง ุฃู ุงูููุฑุจุงุก ุบูุฑ ูุชููุฑุฉุ ููุตุญ ุจุฌูุงุฒ HTek 32 NFC (ุจุทุงุฑูุฉ) ุงูุฐู ูุนูู ููุฏุฉ 8 ุณุงุนุงุช ูุชูุงุตูุฉ</p>
           </div>
          </div>
         </div>
        </div><!-- ุจ. ุงูุฃุฌูุฒุฉ ุงููุฎุชุงุฑุฉ -->
        <div class="border-b pb-6">
         <h3 class="text-2xl font-bold mb-6 text-purple-900">ุจ. ุงูุฃุฌูุฒุฉ ุงููุฎุชุงุฑุฉ</h3>
         <div class="space-y-4" id="device-selection">
          <div class="border border-gray-200 rounded-xl p-4">
           <div class="flex justify-between items-center mb-3"><label class="flex items-center"> <input type="checkbox" class="device-checkbox ml-3" data-device="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ" data-price="45" data-base-price="350" onchange="handleDeviceCheckboxChange(this)"> <span class="font-bold">ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ</span> </label> <span class="text-purple-600 font-bold">45 OMR/ููู</span>
           </div>
           <div class="flex items-center gap-4"><label class="text-sm">ุงููููุฉ:</label> <input type="number" class="device-quantity w-20 px-2 py-1 border border-gray-300 rounded" min="0" max="10" value="0" data-device="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ" onchange="handleQuantityChange(this)"> <label class="text-sm">ุนุฏุฏ ุงูุฃูุงู:</label> <input type="number" class="device-days w-20 px-2 py-1 border border-gray-300 rounded" min="1" max="30" value="1" data-device="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ" onchange="handleDaysChange(this)">
           </div>
          </div>
          <div class="border border-gray-200 rounded-xl p-4">
           <div class="flex justify-between items-center mb-3"><label class="flex items-center"> <input type="checkbox" class="device-checkbox ml-3" data-device="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ" data-price="45" data-base-price="400" onchange="handleDeviceCheckboxChange(this)"> <span class="font-bold">ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ (ุจุทุงุฑูุฉ)</span> </label> <span class="text-purple-600 font-bold">45 OMR/ููู</span>
           </div>
           <div class="flex items-center gap-4"><label class="text-sm">ุงููููุฉ:</label> <input type="number" class="device-quantity w-20 px-2 py-1 border border-gray-300 rounded" min="0" max="10" value="0" data-device="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ" onchange="handleQuantityChange(this)"> <label class="text-sm">ุนุฏุฏ ุงูุฃูุงู:</label> <input type="number" class="device-days w-20 px-2 py-1 border border-gray-300 rounded" min="1" max="30" value="1" data-device="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ" onchange="handleDaysChange(this)">
           </div>
          </div>
          <div class="border border-gray-200 rounded-xl p-4">
           <div class="flex justify-between items-center mb-3"><label class="flex items-center"> <input type="checkbox" class="device-checkbox ml-3" data-device="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ" data-price="50" data-base-price="400" onchange="handleDeviceCheckboxChange(this)"> <span class="font-bold">ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ</span> </label> <span class="text-purple-600 font-bold">50 OMR/ููู</span>
           </div>
           <div class="flex items-center gap-4"><label class="text-sm">ุงููููุฉ:</label> <input type="number" class="device-quantity w-20 px-2 py-1 border border-gray-300 rounded" min="0" max="10" value="0" data-device="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ" onchange="handleQuantityChange(this)"> <label class="text-sm">ุนุฏุฏ ุงูุฃูุงู:</label> <input type="number" class="device-days w-20 px-2 py-1 border border-gray-300 rounded" min="1" max="30" value="1" data-device="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ" onchange="handleDaysChange(this)">
           </div>
          </div>
         </div>
        </div><!-- ุฌ. ุงูุฅุถุงูุงุช -->
        <div class="border-b pb-6">
         <h3 class="text-2xl font-bold mb-6 text-purple-900">ุฌ. ุงูุฅุถุงูุงุช</h3>
         <div class="grid md:grid-cols-2 gap-4"><label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุตูุญุฉ ุชูุงุนููุฉ HTML">
           <div class="flex-1"><span class="font-semibold">ุตูุญุฉ ุชูุงุนููุฉ HTML</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label> <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ููุฏูู ููุดู">
           <div class="flex-1"><span class="font-semibold">ููุฏูู ููุดู</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label> <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ูุนุจุฉ ุฌุงูุฒุฉ">
           <div class="flex-1"><span class="font-semibold">ูุนุจุฉ ุฌุงูุฒุฉ APK</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label> <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ">
           <div class="flex-1"><span class="font-semibold">ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label> <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุชุตููุฑ ุงุญุชุฑุงูู">
           <div class="flex-1"><span class="font-semibold">ุชุตููุฑ ุงุญุชุฑุงูู</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label> <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุฏุนู ููู ุจุงูุณุงุนุฉ">
           <div class="flex-1"><span class="font-semibold">ุฏุนู ููู ุจุงูุณุงุนุฉ</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label> <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช">
           <div class="flex-1"><span class="font-semibold">ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช</span>
            <div class="text-sm text-blue-600 font-semibold">
             ุณุนุฑ ุญุณุจ ุงูุทูุจ
            </div>
           </div></label>
         </div>
        </div><!-- ุฏ. ุงูุจูุงูุงุช -->
        <div>
         <h3 class="text-2xl font-bold mb-6 text-purple-900">ุฏ. ุงูุจูุงูุงุช</h3>
         <div class="grid md:grid-cols-2 gap-6 mb-6">
          <div><label class="block text-sm font-bold mb-2" for="customer-name">ุงูุงุณู ุงูุซูุงุซู / ุงูุฌูุฉ *</label> <input type="text" id="customer-name" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all">
          </div>
          <div><label class="block text-sm font-bold mb-2" for="customer-phone">ุฑูู ุงูุฌูุงู *</label> <input type="tel" id="customer-phone" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="+968">
          </div>
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2" for="customer-email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)</label> <input type="email" id="customer-email" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ููุญุตูู ุนูู ูุณุฎุฉ ูู ุงูุทูุจ">
         </div>
         <div><label class="block text-sm font-bold mb-2" for="notes">ููุงุญุธุงุช ุฅุถุงููุฉ</label> <textarea id="notes" rows="4" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ุฃู ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงููุนุงููุฉ..."></textarea>
         </div>
        </div>
       </form>
      </div>
     </div><!-- Sidebar Summary -->
     <div class="lg:col-span-1">
      <div class="bg-white rounded-3xl shadow-2xl p-6 sticky top-24">
       <h3 class="text-2xl font-bold mb-6 text-purple-900">ููุฎูุต ููุฑู ๐</h3>
       <div id="booking-summary" class="space-y-4 mb-6">
        <div class="text-center text-gray-400 py-8">
         <div class="text-4xl mb-2">
          ๐ฑ
         </div>
         <p>ุงุฎุชุฑ ุงูุฃุฌูุฒุฉ ูุฑุคูุฉ ุงูููุฎุต</p>
        </div>
       </div>
       <div class="border-t pt-4 space-y-3">
        <div class="flex justify-between text-lg font-bold"><span>ุงูุฅุฌูุงูู ุงููุณุชุญู:</span> <span class="text-purple-600" id="sidebar-total">0 OMR</span>
        </div>
        <p class="text-xs text-gray-500 mt-2">โ ุฑุณูู ุงูุชูุตูู ุญุณุจ ุนุฏุฏ ุงูุดุงุดุงุช โข ุงูุฃุณุนุงุฑ ูุงุจูุฉ ููุชูุงูุถ</p>
       </div><!-- ูุณู ูุทุงูุจุฉ ุงูุฎุตููุงุช ุงูุฎุงุตุฉ -->
       <div class="bg-gradient-to-r from-green-50 to-blue-50 border-2 border-dashed border-green-300 rounded-2xl p-4 mb-6">
        <div class="text-center mb-3">
         <div class="text-2xl mb-2">
          ๐๐
         </div>
         <h4 class="font-bold text-green-800 mb-2">ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต</h4>
         <p class="text-xs text-green-700">ููุทูุงุจ ูุงูุฌูุงุช ุงูุฎูุฑูุฉ ูุงููุคุณุณุงุช ุบูุฑ ุงูุฑุจุญูุฉ</p>
        </div>
        <div class="space-y-2 mb-4"><label class="flex items-center p-2 bg-white rounded-lg cursor-pointer hover:bg-gray-50"> <input type="checkbox" id="student-discount" class="ml-2" onchange="handleSpecialDiscountRequest()">
          <div class="flex-1"><span class="font-semibold text-sm">๐ ุทุงูุจ ุฌุงูุนู</span>
           <div class="text-xs text-blue-600">
            ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต ููุทูุงุจ
           </div>
          </div></label> <label class="flex items-center p-2 bg-white rounded-lg cursor-pointer hover:bg-gray-50"> <input type="checkbox" id="charity-discount" class="ml-2" onchange="handleSpecialDiscountRequest()">
          <div class="flex-1"><span class="font-semibold text-sm">๐ ุฌูุฉ ุฎูุฑูุฉ/ุบูุฑ ุฑุจุญูุฉ</span>
           <div class="text-xs text-green-600">
            ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต ููุฌูุงุช ุงูุฎูุฑูุฉ
           </div>
          </div></label>
        </div>
        <div id="special-discount-request" class="hidden bg-white border border-orange-200 rounded-lg p-3">
         <div class="text-sm font-bold text-orange-800 mb-3">
          ๐ ุณุจุจ ูุทุงูุจุชู ุจุงูุฎุตู:
         </div><textarea id="discount-reason" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-orange-500 focus:outline-none" placeholder="ูุซุงู: ุทุงูุจ ูู ุฌุงูุนุฉ ุงูุณูุทุงู ูุงุจูุณุ ูููุฉ ุงูููุฏุณุฉุ ุฃุญุชุงุฌ ุงูุฃุฌูุฒุฉ ููุดุฑูุน ุงูุชุฎุฑุฌ..."></textarea>
         <div class="text-xs text-orange-700 mt-2 font-semibold">
          ๐ก ุณูุชู ุชูุฌูู ูุทุงูุจุชู ุฅูู ูุฑูููุง ูุฏุฑุงุณุชูุง ูุณูุนูุฏ ุฅููู ุจุงูุฑุฏ
         </div>
        </div>
       </div>
       <div class="mt-6 space-y-3">
        <div class="text-center mb-4">
         <h4 class="font-bold text-purple-900 mb-2">ุงุฎุชุฑ ุทุฑููุฉ ุงูุฅุฑุณุงู:</h4>
         <p class="text-sm text-gray-600">ููููู ุฅุฑุณุงู ุทูุจู ุจุฅุญุฏู ุงูุทุฑููุชูู</p>
        </div><button type="button" id="email-submit-btn" class="w-full text-white py-3 rounded-full font-bold transition-all shadow-lg flex items-center justify-center gap-2" style="background: linear-gradient(135deg, #EC2B84 0%, #41296D 100%);"> <span>ุฅุฑุณุงู ุนุจุฑ ุงูุฅูููู (ุฎุงุต)</span> <span>๐ง</span> </button> <button type="button" id="whatsapp-submit-btn" class="w-full bg-green-500 text-white py-3 rounded-full font-bold hover:bg-green-600 transition-all flex items-center justify-center gap-2"> <span>ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ</span> <span>๐ฌ</span> </button>
        <p class="text-xs text-gray-500 text-center mt-3">๐ ุงูุฅูููู: ุฎุตูุตูุฉ ูุงููุฉ | ๐ฌ ุงููุงุชุณุงุจ: ุชูุงุตู ูุจุงุดุฑ</p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </section><!-- FAQ Section -->
  <section id="faq" class="section-padding bg-white">
   <div class="max-w-4xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-black mb-4">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ โ</h2>
    </div>
    <div class="space-y-4">
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ููุฌุฏ ุฎุตููุงุช ุนูู ุงูุทูุจุงุชุ</summary>
      <p class="mt-4 text-gray-600">ูุนู! ูุทุจู ุฎุตููุงุช ุฐููุฉ ุชููุงุฆูุฉ: ุฎุตู ุงูุฃุฌูุฒุฉ ุงููุชุนุฏุฏุฉุ ุฎุตู ุงูุฅุถุงูุงุชุ ุฎุตู ุงูุฃูุงู ุงููุชุนุฏุฏุฉุ ูุนุฑูุถ ุฎุงุตุฉ ุญุณุจ ุงุฎุชูุงุฑุงุชู.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ุงูุชูุตูู ูุงูุชุฑููุจ ูุดูููุงูุ</summary>
      <p class="mt-4 text-gray-600">ุฏุงุฎู ูุณูุท โค30 ูู ูุนู. ุฎุงุฑุฌูุง ุชูุญุณุจ 0.25โ0.35 OMR/ูู + ุจุฏู ุณูู ูููุฑูู ุฅู ูุฒู.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูุง ุตูุบ ุงููุญุชูู ุงูููุงุณุจุฉ ููุดุงุดุงุชุ</summary>
      <p class="mt-4 text-gray-600">MP4 (ุญุณุจ ุงุชุฌุงู ุงูุฌูุงุฒ) ุฃู HTML/ุตูุฑ. ูุณุงุนุฏ ูู ูุทุงุจูุฉ ุงูููุงุณุงุช.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ูููู ุงูุญุตูู ุนูู ุชูุฑูุฑ ุจูุงูุงุชุ</summary>
      <p class="mt-4 text-gray-600">ุนูุฏ ุงุณุชุฎุฏุงู ุงูููุงุฐุฌ/ุงูููุณ/QR ููููุฑ ููููุง ูุฎุชุตุฑูุง ุจุงููุคุดุฑุงุช.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูุง ุณูุงุณุฉ ุงูุฏูุน ูุงูุฅูุบุงุกุ</summary>
      <p class="mt-4 text-gray-600">50% ุนูุฏ ุงูุญุฌุฒ ู50% ูุจู ุงููุนุงููุฉ. ุงูุฅูุบุงุก: โฅ7 ุฃูุงู (10%)ุ 3โ6 ุฃูุงู (30%)ุ &lt;72 ุณุงุนุฉ (50%)ุ &lt;24 ุณุงุนุฉ (80โ100%).</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูุงุฐุง ูู ุญุฏุซ ุนุทูุ</summary>
      <p class="mt-4 text-gray-600">ุจุฏูู ููุฑู ุฅู ุฃููู ุฃู ุชุนููุถ ูุณุจู ุญุณุจ ุณูุงุณุฉ ุงูุถูุงู.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ูููู ุชูุฏูุฏ ุณุงุนุงุช 360ุ</summary>
      <p class="mt-4 text-gray-600">ูุนู ุจุฅุถุงูุฉ ุณุงุนุงุช ุถูู ุงูุฏุนู ุจุงูุณุงุนุฉ.</p>
     </details>
    </div>
   </div>
  </section><!-- Floating Chat Button -->
  <div id="floating-chat-btn" class="fixed bottom-6 left-6 z-50"><button onclick="toggleFloatingChat()" class="w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center text-2xl animate-pulse"> ๐ค </button>
   <div class="absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center"><span class="w-3 h-3 bg-white rounded-full animate-ping"></span>
   </div>
  </div><!-- Floating Chat Window -->
  <div id="floating-chat-window" class="fixed bottom-24 left-6 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-3xl shadow-2xl z-50 hidden">
   <div class="flex items-center gap-3 p-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-t-3xl">
    <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-lg">
     ๐ค
    </div>
    <div class="flex-1">
     <h3 class="font-bold">ุนุงุฑู - ุงููุณุงุนุฏ ุงูุฐูู</h3>
     <p class="text-xs opacity-90">ูุชุฎุตุต ูู ุญููู ุงูุนุฑุถ</p>
    </div><button onclick="toggleFloatingChat()" class="text-white/80 hover:text-white text-xl">โ</button>
   </div>
   <div class="p-4"><!-- Chat Messages -->
    <div id="floating-chat-messages" class="space-y-3 mb-4 max-h-64 overflow-y-auto">
     <div class="flex gap-2">
      <div class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-white text-xs">
       ๐ค
      </div>
      <div class="bg-purple-50 rounded-2xl rounded-tl-sm p-3 max-w-xs">
       <p class="text-sm">ูุฑุญุจุงู! ุฃูุง ุนุงุฑู ๐ ููู ูููููู ูุณุงุนุฏุชู ุงููููุ</p>
      </div>
     </div>
    </div><!-- Quick Questions -->
    <div class="mb-3">
     <div class="flex flex-wrap gap-1 mb-3"><button onclick="askFloatingQuestion('ูุง ูู ุงูุจุฑุงูุฏูุบุ')" class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs hover:bg-blue-200 transition-all"> ุงูุจุฑุงูุฏูุบุ </button> <button onclick="askFloatingQuestion('ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ')" class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs hover:bg-green-200 transition-all"> ุดุงุดุฉ ูุนุฑุถ </button> <button onclick="askFloatingQuestion('ูู ุชูููุฉ ุงูุชุตููุฑุ')" class="bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs hover:bg-orange-200 transition-all"> ุชูููุฉ ุงูุชุตููุฑุ </button>
     </div>
    </div><!-- Chat Input -->
    <div class="flex gap-2"><input type="text" id="floating-chat-input" placeholder="ุงูุชุจ ุณุคุงูู..." class="flex-1 px-3 py-2 border border-gray-200 rounded-xl text-sm focus:border-purple-500 focus:outline-none" onkeypress="handleFloatingChatKeyPress(event)"> <button onclick="sendFloatingChatMessage()" class="bg-purple-600 text-white px-4 py-2 rounded-xl text-sm font-bold hover:bg-purple-700 transition-all"> ุฅุฑุณุงู </button>
    </div>
   </div>
  </div><!-- Smart Assistant Section -->
  <section id="smart-assistant" class="section-padding bg-gradient-to-br from-indigo-50 to-purple-50">
   <div class="max-w-6xl mx-auto">
    <div class="text-center mb-12">
     <h2 class="text-4xl md:text-5xl font-black mb-4">ุงููุณุงุนุฏ ุงูุฐูู ุนุงุฑู ๐ค</h2>
     <p class="text-xl text-gray-600">ุงุณุฃู ุนุงุฑู ุฃู ุณุคุงู ูุณููุฏู ูู ุงูุชุฑุงุญุงุช ูุฎุตุตุฉ ููุนุงููุชู</p>
    </div>
    <div class="grid lg:grid-cols-3 gap-8"><!-- Smart Assistant Chat -->
     <div class="lg:col-span-2">
      <div class="bg-white rounded-3xl shadow-2xl p-6">
       <div class="flex items-center gap-3 mb-6 pb-4 border-b">
        <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white text-xl">
         ๐ค
        </div>
        <div>
         <h3 class="text-xl font-bold text-purple-900">ุนุงุฑู - ุงููุณุงุนุฏ ุงูุฐูู</h3>
         <p class="text-sm text-gray-500">ูุชุฎุตุต ูู ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู</p>
        </div>
        <div class="mr-auto"><span class="inline-block w-3 h-3 bg-green-500 rounded-full animate-pulse"></span> <span class="text-xs text-green-600 font-semibold mr-1">ูุชุตู</span>
        </div>
       </div><!-- Chat Messages -->
       <div id="chat-messages" class="space-y-4 mb-6 max-h-96 overflow-y-auto">
        <div class="flex gap-3">
         <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm">
          ๐ค
         </div>
         <div class="bg-purple-50 rounded-2xl rounded-tl-sm p-4 max-w-md">
          <p class="text-sm">ูุฑุญุจุงู! ุฃูุง ุนุงุฑูุ ูุณุงุนุฏู ุงูุฐูู ูู EventPlus ๐</p>
          <p class="text-sm mt-2">ุฃุฎุจุฑูู ุนู ูุนุงููุชู ูุณุฃูุฏู ูู ุฃูุถู ุงูุงูุชุฑุงุญุงุช ุงููุฎุตุตุฉ!</p>
         </div>
        </div>
       </div><!-- Quick Questions -->
       <div class="mb-4">
        <p class="text-sm font-semibold text-gray-700 mb-3">ุฃุณุฆูุฉ ุณุฑูุนุฉ:</p>
        <div class="flex flex-wrap gap-2"><button onclick="askQuickQuestion('ูุง ูู ุงูุจุฑุงูุฏูุบุ')" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs hover:bg-blue-200 transition-all"> ูุง ูู ุงูุจุฑุงูุฏูุบุ </button> <button onclick="askQuickQuestion('ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ')" class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs hover:bg-green-200 transition-all"> ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ </button> <button onclick="askQuickQuestion('ูุง ุงููุฑู ุจูู ุงูุฃุฌูุฒุฉุ')" class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs hover:bg-purple-200 transition-all"> ูุง ุงููุฑู ุจูู ุงูุฃุฌูุฒุฉุ </button> <button onclick="askQuickQuestion('ูู ุชูููุฉ ุงูุชุตููุฑุ')" class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs hover:bg-orange-200 transition-all"> ูู ุชูููุฉ ุงูุชุตููุฑุ </button>
        </div>
       </div><!-- Chat Input -->
       <div class="flex gap-3"><input type="text" id="chat-input" placeholder="ุงูุชุจ ุณุคุงูู ููุง..." class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" onkeypress="handleChatKeyPress(event)"> <button onclick="sendChatMessage()" class="bg-purple-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-purple-700 transition-all"> ุฅุฑุณุงู </button>
       </div>
      </div>
     </div><!-- Wasl AI Card -->
     <div class="lg:col-span-1">
      <div class="bg-white rounded-3xl shadow-2xl p-6 h-fit">
       <div class="text-center mb-6">
        <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-2xl mx-auto mb-4">
         ๐ง
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">ุจุทุงูุฉ Wasl AI ุงูุฐููุฉ</h3>
        <p class="text-sm text-gray-600">ุชุนุฑูู ุนูููุง ุฃูุซุฑ ูู ุฎูุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</p>
       </div>
       <div class="space-y-4 mb-6">
        <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-xl"><span class="text-blue-600">๐ฏ</span>
         <div>
          <p class="font-semibold text-sm">ุชุญููู ุฐูู ููุงุญุชูุงุฌุงุช</p>
          <p class="text-xs text-gray-600">ูููู ูุชุทูุจุงุชู ุจุฏูุฉ</p>
         </div>
        </div>
        <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-xl"><span class="text-purple-600">๐ก</span>
         <div>
          <p class="font-semibold text-sm">ุงูุชุฑุงุญุงุช ูุฎุตุตุฉ</p>
          <p class="text-xs text-gray-600">ุญููู ูุจุชูุฑุฉ ููู ูุนุงููุฉ</p>
         </div>
        </div>
        <div class="flex items-center gap-3 p-3 bg-green-50 rounded-xl"><span class="text-green-600">โก</span>
         <div>
          <p class="font-semibold text-sm">ุงุณุชุฌุงุจุฉ ููุฑูุฉ</p>
          <p class="text-xs text-gray-600">ุฅุฌุงุจุงุช ุณุฑูุนุฉ ูุฏูููุฉ</p>
         </div>
        </div>
       </div><a href="https://eventplus.wsal.ai/" target="_blank" rel="noopener noreferrer" class="block w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white text-center py-3 rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 transition-all"> ุงูุชุดู Wasl AI ๐ </a>
       <p class="text-xs text-gray-500 text-center mt-3">ููุตุฉ ุฐููุฉ ูุชุทูุฑุฉ ูููู ุงุญุชูุงุฌุงุชู ุงูุชูููุฉ</p>
      </div>
     </div>
    </div>
   </div>
  </section><!-- Contact Section -->
  <section id="contact" class="section-padding gradient-bg text-white">
   <div class="max-w-4xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-black mb-6">ุชูุงุตู ูุนูุง ๐</h2>
    <p class="text-xl mb-10 opacity-95">ูุญู ููุง ููุฅุฌุงุจุฉ ุนูู ุฌููุน ุงุณุชูุณุงุฑุงุชู</p>
    <div class="grid md:grid-cols-2 gap-8 mb-10">
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8">
      <div class="text-4xl mb-4">
       ๐ฌ
      </div>
      <h3 class="text-2xl font-bold mb-3">ูุงุชุณุงุจ</h3>
      <p class="mb-4 opacity-90" id="whatsapp-display">+968 XXXX XXXX</p><a href="#" id="whatsapp-contact-btn" class="inline-block bg-green-500 text-white px-6 py-3 rounded-full font-bold hover:bg-green-600 transition-all"> ุชูุงุตู ุงูุขู </a>
     </div>
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8">
      <div class="text-4xl mb-4">
       ๐ง
      </div>
      <h3 class="text-2xl font-bold mb-3">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</h3>
      <p class="mb-4 opacity-90" id="email-display">info@eventplus.om</p><a href="#" id="email-contact-btn" class="inline-block bg-blue-500 text-white px-6 py-3 rounded-full font-bold hover:bg-blue-600 transition-all"> ุฑุงุณููุง </a>
     </div>
    </div>
   </div>
  </section><!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
   <div class="max-w-6xl mx-auto px-4 text-center">
    <div class="text-3xl mb-4">
     ๐ฏ
    </div>
    <h3 class="text-2xl font-bold mb-2">EventPlus</h3>
    <p class="text-gray-400 mb-6">ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ุงูุฐููุฉ</p>
    <p class="text-sm text-gray-500">ยฉ 2024 EventPlus. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
   </div>
  </footer>
 <script>
/* ========== EventPlus โ App JS (ูุณุฎุฉ ููุญูุฏุฉ ููุงุฆูุฉ) ========== */

/* 0) ุซูุงุจุช ุงูุฅุฑุณุงู */
const FORMSPREE_ENDPOINT = 'https://formspree.io/f/mdkpqkgy';
const COMPANY_EMAIL      = 'info@momentconnect.com';

/* 1) ุฅุนุฏุงุฏุงุช ุงูุชุฑุงุถูุฉ ููุซูู/ุงููููุชูุช */
const defaultConfig = window.defaultConfig || {
  hero_title: "EventPlus โ ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ููููููุฌุฑุงู ูุงูุดุงุดุงุช ุงูุฐููุฉ",
  hero_subtitle: "ูุญููู ุงูุชูููุฉ ุฅูู ุชุฌุฑุจุฉ ุฅูุณุงููุฉ ุชูููุน ุฌูููุฑูู ูุชููุชุฌ ุจูุงูุงุช ูุงุจูุฉ ูููุฑุงุฑ",
  whatsapp_number: "+968 98567383",
  email_address: "info@momentconnect.com",
  background_color: "#41296D",
  surface_color: "#F5F5F7",
  text_color: "#2C2C2C",
  primary_action_color: "#EC2B84",
  secondary_action_color: "#00B9A8"
};

let bookings = [];
let selectedDevices = [];
let selectedAddons = [];
let currentSlideIndex = 0;
let specialDiscountType = null;
let specialDiscountActive = false;

/* 2) Helpers UI */
function scrollToSection(id){ document.getElementById(id)?.scrollIntoView({behavior:'smooth'}); }
function showToast(msg){
  const t = document.createElement('div');
  t.className = 'toast';
  t.innerHTML = `<div class="flex items-center gap-3"><span class="text-2xl">โ</span><span class="font-semibold">${msg}</span></div>`;
  document.body.appendChild(t);
  setTimeout(()=>t.remove(), 3000);
}
function showSuccessMessage(message){
  const d = document.createElement('div');
  d.className='fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
  d.innerHTML = `
    <div class="bg-white rounded-3xl p-8 max-w-md mx-4 text-center">
      <div class="text-6xl mb-4">โ</div>
      <h3 class="text-2xl font-bold mb-4 text-green-600">ูุฌุญ ุงูุฅุฑุณุงู!</h3>
      <p class="text-gray-600 mb-6">${message}</p>
      <p class="text-sm text-gray-500 mb-6">ุณูุฑุงุฌุน ุทูุจู ููุนูุฏ ุฅููู ุจุงูุชุฃููุฏ ูุฎูุงุฑุงุช ุงูุฏูุน ุฎูุงู ุณุงุนุงุช ุงูุนูู.</p>
      <button onclick="this.closest('.fixed').remove()" class="bg-purple-600 text-white px-6 py-3 rounded-full font-bold hover:bg-purple-700">ุญุณูุงู</button>
    </div>`;
  document.body.appendChild(d);
}

/* 3) ุณูุงูุฏุฑ ุงูููุฑู */
function showSlide(index){
  const slides = document.querySelectorAll('.slide');
  const dots   = document.querySelectorAll('.dot');
  if (!slides.length) return;
  slides.forEach(s=>{ s.classList.remove('active'); s.style.display='none'; s.style.opacity='0'; });
  dots.forEach(d=>d.classList.remove('active'));

  if (index >= slides.length) currentSlideIndex = 0;
  else if (index < 0) currentSlideIndex = slides.length-1;

  const s = slides[currentSlideIndex];
  s.style.display='flex';
  requestAnimationFrame(()=>{ s.classList.add('active'); s.style.opacity='1'; });
  dots[currentSlideIndex]?.classList.add('active');
}
function changeSlide(dir){ currentSlideIndex+=dir; showSlide(currentSlideIndex); }
function currentSlideTo(i){ currentSlideIndex=i-1; showSlide(currentSlideIndex); }
function startAutoSlideshow(){ setInterval(()=>{ currentSlideIndex++; showSlide(currentSlideIndex); }, 5000); }

/* 4) ุชุณุนูุฑ ุฐูู ูููุชุฑุงุช ุงูุทูููุฉ */
function longTermFactor(days){
  if (days<=3)  return 1.00; // 1-3 ุจุฏูู ุฎุตู
  if (days<=7)  return 0.85; // 4-7 ุฎุตู 15%
  if (days<=14) return 0.50; // 8-14 ุฎุตู 50%
  if (days<=21) return 0.40; // 15-21 ุฎุตู 60%
  return 0.40;               // 22+ ููุณ 0.40 ูุน ุณูู ุดูุฑู
}
function calculateSmartPrice(dailyRate, basePrice, days, qty=1){
  let subtotal = dailyRate * days * longTermFactor(days);
  if (days >= 22){
    const monthlyCap = basePrice * 0.45; // ุณูู ุดูุฑู 45% ูู ูููุฉ ุงูุฃุตู
    subtotal = Math.min(subtotal, monthlyCap);
  }
  subtotal = Math.min(subtotal, basePrice); // ูุง ูุชุฌุงูุฒ ูููุฉ ุงูุฃุตู
  return subtotal * qty;
}
function calculateDeliveryFee(totalQty){
  if (totalQty===0) return 0;
  if (totalQty<=2)  return 15;
  if (totalQty===3) return 20;
  if (totalQty===4) return 30;
  if (totalQty===5) return 40;
  if (totalQty>=6)  return 60;
  return 15;
}

/* 5) ุงุฎุชูุงุฑ ุงูุฃุฌูุฒุฉ ูุงูุฅุถุงูุงุช */
function updateDeviceSelection(){
  selectedDevices = [];
  document.querySelectorAll('.device-checkbox:checked').forEach(cb=>{
    const name = cb.dataset.device;
    const dailyRate = parseFloat(cb.dataset.price||'0');
    const basePrice = parseFloat(cb.dataset.basePrice||'0');
    const qEl   = document.querySelector(`.device-quantity[data-device="${name}"]`);
    const dEl   = document.querySelector(`.device-days[data-device="${name}"]`);
    const qty   = Math.max(0, parseInt(qEl?.value||'0',10));
    const days  = Math.max(1, parseInt(dEl?.value||'1',10));
    if (qty>0){
      const total = calculateSmartPrice(dailyRate, basePrice, days, qty);
      selectedDevices.push({
        name, dailyRate, basePrice, quantity:qty, days,
        factor: longTermFactor(days), isLongTerm: days>=4, total
      });
    }
  });
  updateBookingSummary();
}
function updateAddonSelection(){
  selectedAddons = [];
  document.querySelectorAll('.addon-checkbox:checked').forEach(cb=>{
    selectedAddons.push({name: cb.dataset.addon, price: 0});
  });
  updateBookingSummary();
}

/* 6) ุงูุญุณุงุจ ูุงูููุฎูุต */
function calculateSmartPricing(){
  const devicesTotal = selectedDevices.reduce((s,d)=>s+d.total,0);
  const subtotal = devicesTotal;
  const discounts = [];
  const suggestions = [];
  const hasLongTerm = selectedDevices.some(d=>d.isLongTerm);
  const longTermPerks = hasLongTerm ? [
    'ุตูุงูุฉ ููุงุฆูุฉ ูู 10 ุฃูุงู + ุฒูุงุฑุฉ ุทูุงุฑุฆ ูุฌุงููุฉ',
    'ุชุญุฏูุซ ุงููุญุชูู ุญุชู 3 ูุฑุงุช ุฎูุงู ูุชุฑุฉ ุงูุฅูุฌุงุฑ',
    'ุฏุนู ููู ูุงุชุณุงุจ/ุงุชุตุงู ุฃููููุฉ',
    'ููู ูุธุงู ุงูุนุฑุถ (Kiosk/Lockdown)',
    'ุจุฏูู ูุคูุช ุนูุฏ ุงูุนุทู ุบูุฑ ุงููุชุนูุฏ (ุญุณุจ ุงูุชูุงูุฑ)'
  ] : [];

  const totalQty = selectedDevices.reduce((s,d)=>s+d.quantity,0);

  // ุฎุตู ุชุนุฏุฏ ุงูุฃุฌูุฒุฉ
  let multiDeviceDiscount = 0;
  if (totalQty>=2 && devicesTotal>0){
    multiDeviceDiscount = devicesTotal*0.10;
    discounts.push({name:'ุฎุตู ุชุนุฏุฏ ุงูุฃุฌูุฒุฉ (10%)', amount:multiDeviceDiscount});
  }

  // ุฎุตู ุชุนุฏุฏ ุงูุฅุถุงูุงุช
  let addonsDiscount = 0;
  if (selectedAddons.length>=3 && devicesTotal>0){
    addonsDiscount = devicesTotal*0.15;
    discounts.push({name:'ุฎุตู ุงูุฅุถุงูุงุช ุงููุชุนุฏุฏุฉ (15%)', amount:addonsDiscount});
  }else if (selectedAddons.length>=2 && devicesTotal>0){
    addonsDiscount = devicesTotal*0.08;
    discounts.push({name:'ุฎุตู ุงูุฅุถุงูุงุช ุงููุชุนุฏุฏุฉ (8%)', amount:addonsDiscount});
  }

  // ุงูุชุฑุงุญ/ุฎุตู ุตูุญุฉ ุชูุงุนููุฉ ููุดุงุดุงุช ุงูุฐููุฉ
  const hasDigitalBoard = selectedDevices.some(d=>d.name.includes('ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ'));
  const hasBatteryKiosk = selectedDevices.some(d=>d.name.includes('ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ'));
  const hasInteractiveHTML = selectedAddons.some(a=>a.name.includes('ุตูุญุฉ ุชูุงุนููุฉ HTML'));

  let interactivePageDiscount = 0;
  if ((hasDigitalBoard||hasBatteryKiosk) && !hasInteractiveHTML){
    suggestions.push({
      type:'interactive_page',
      title:'๐ก ุงูุชุฑุงุญ ุฐูู: ุตูุญุฉ ุชูุงุนููุฉ',
      message:'ุฃุถู ุตูุญุฉ ุชูุงุนููุฉ HTML ูุงุญุตู ุนูู ุฎุตู ุฅุถุงูู 5% ุนูู ุงููุฌููุน!'
    });
  }else if ((hasDigitalBoard||hasBatteryKiosk) && hasInteractiveHTML && devicesTotal>0){
    interactivePageDiscount = devicesTotal*0.05;
    discounts.push({name:'ุฎุตู ุงูุตูุญุฉ ุงูุชูุงุนููุฉ ููุดุงุดุงุช ุงูุฐููุฉ (5%)', amount:interactivePageDiscount});
  }

  const totalDiscount = multiDeviceDiscount + addonsDiscount + interactivePageDiscount;
  const finalSubtotal = Math.max(0, subtotal - totalDiscount);

  // ุชูุตูู ููุณุงูุฉ ุฅุถุงููุฉ
  const deliveryFee = calculateDeliveryFee(totalQty);
  const distanceKm = parseInt(document.getElementById('distance-km')?.value||'0',10);
  const extraKm = Math.max(0, distanceKm - 30);
  const extraDistanceFee = extraKm * 0.30; // ุฃู 0.25/0.35 ุญุณุจ ุงูุณูุงุณุฉ
 // ุนุฏูููุง ุฅูู 0.25โ0.35 ุฅุฐุง ุญุจูุช

  return {
    originalSubtotal: subtotal,
    discounts, suggestions, longTermPerks,
    totalDiscount, finalSubtotal,
    deliveryFee, extraDistanceFee,
    totalQuantity: totalQty, hasLongTerm
  };
}
function updateBookingSummary(){
  const box = document.getElementById('booking-summary');
  if (!box) return;

  if (!selectedDevices.length && !selectedAddons.length){
    box.innerHTML = `
      <div class="text-center text-gray-400 py-8">
        <div class="text-4xl mb-2">๐ฑ</div>
        <p>ุงุฎุชุฑ ุงูุฃุฌูุฒุฉ ุฃู ุงูุฅุถุงูุงุช ูุฑุคูุฉ ุงูููุฎุต</p>
      </div>`;
    document.getElementById('sidebar-total').textContent = '0 OMR';
    return;
  }

  const p = calculateSmartPricing();
  let html = '';

  if (p.hasLongTerm){
    html += `
      <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg p-3 mb-4">
        <div class="flex items-center gap-2 mb-1"><span class="text-lg">๐</span><span class="font-bold text-sm">ุชู ุชูุนูู ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ</span></div>
        <div class="text-xs opacity-90">ุชูุช ุฅุถุงูุฉ ูุฒุงูุง ูุฌุงููุฉ ูุทูุจู!</div>
      </div>`;
  }

  if (selectedDevices.length){
    html += `<div class="mb-4"><h4 class="font-bold text-purple-900 mb-2">ุงูุฃุฌูุฒุฉ:</h4>`;
    selectedDevices.forEach(d=>{
      const original = d.dailyRate*d.days*d.quantity;
      const save = Math.max(0, original - d.total);
      html += `
        <div class="border-b border-gray-100 pb-2 mb-2 last:border-b-0">
          <div class="flex justify-between items-start text-sm">
            <span class="font-medium">${d.name}</span>
            <span class="font-semibold">${d.total.toFixed(2)} OMR</span>
          </div>
          <div class="text-xs text-gray-500 mt-1">
            ${d.quantity} ุฌูุงุฒ ร ${d.days} ุฃูุงู
            ${d.isLongTerm?`<span class="text-purple-600 font-semibold"> (ุฎุตู ${Math.round((1-d.factor)*100)}%)</span>`:''}
          </div>
          ${save>0?`<div class="text-xs text-green-600 font-semibold">ููุฑุช ${save.toFixed(2)} OMR</div>`:''}
        </div>`;
    });
    html += `</div>`;
  }

  if (p.longTermPerks.length){
    html += `
      <div class="bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4">
        <div class="text-sm font-bold text-purple-800 mb-2">๐ Long-Term Perks (ูุฌุงูุงู):</div>
        <div class="text-xs text-purple-700 space-y-1">
          ${p.longTermPerks.map(x=>`<div>โข ${x}</div>`).join('')}
        </div>
      </div>`;
  }

  if (selectedDevices.length){
    html += `
      <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
        <div class="text-sm font-bold text-blue-800 mb-2">๐ ุฑุณูู ุงูุชูุตูู:</div>
        <div class="text-xs text-blue-700">
          <div class="grid grid-cols-2 gap-1 mb-2">
            <div>ุญุชู 2 ุดุงุดุฉ: 15 OMR</div><div>3 ุดุงุดุงุช: 20 OMR</div>
            <div>4 ุดุงุดุงุช: 30 OMR</div><div>5 ุดุงุดุงุช: 40 OMR</div>
            <div>6+ ุดุงุดุงุช: 60 OMR</div>
          </div>
          <div class="font-semibold text-blue-800">ุทูุจู ุงูุญุงูู (${p.totalQuantity} ุดุงุดุฉ): ${p.deliveryFee} OMR</div>
          ${p.extraDistanceFee>0?`<div class="font-semibold text-blue-800">ุฑุณูู ุงููุณุงูุฉ ุงูุฅุถุงููุฉ: ${p.extraDistanceFee.toFixed(2)} OMR</div>`:''}
        </div>
      </div>`;
  }

  if (selectedAddons.length){
    html += `<div class="mb-4"><h4 class="font-bold text-purple-900 mb-2">ุงูุฅุถุงูุงุช:</h4>`;
    selectedAddons.forEach(a=>{
      html += `<div class="flex justify-between items-center text-sm mb-1">
        <span>${a.name}</span><span class="font-semibold text-blue-600">ุณุนุฑ ุญุณุจ ุงูุทูุจ</span></div>`;
    });
    html += `</div>
      <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3">
        <div class="text-sm font-bold text-blue-800 mb-1">๐ก ููุงุญุธุฉ ูููุฉ</div>
        <div class="text-xs text-blue-700">ุงูุฅุถุงูุงุช ุชูุณุนูุฑ ุญุณุจ ุงูุทูุจุ ุงูุชุจ ุชูุงุตููู ูู ุงูููุงุญุธุงุช ููุฑุณู ุนุฑุถ ูุฎุตุต.</div>
      </div>`;
  }

  if (p.suggestions.length){
    html += `<div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3">` +
      p.suggestions.map(s=>`
        <div class="mb-3 last:mb-0">
          <div class="text-sm font-bold text-blue-800 mb-1">${s.title}</div>
          <div class="text-xs text-blue-700 mb-2">${s.message}</div>
          <button class="bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-700" onclick="applySuggestion('${s.type}')">ุชุทุจูู ุงูุงูุชุฑุงุญ</button>
        </div>`).join('') + `</div>`;
  }

  if (p.discounts.length){
    html += `<div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-3">
      <div class="text-sm font-bold text-green-800 mb-2">๐ ุฎุตููุงุช ุฅุถุงููุฉ:</div>
      ${p.discounts.map(d=>`<div class="flex justify-between text-xs text-green-700"><span>${d.name}</span><span>-${d.amount.toFixed(2)} OMR</span></div>`).join('')}
      <div class="border-t border-green-300 mt-2 pt-2 flex justify-between text-sm font-bold text-green-800">
        <span>ุฅุฌูุงูู ุงูุฎุตู ุงูุฅุถุงูู:</span><span>-${p.totalDiscount.toFixed(2)} OMR</span>
      </div>
    </div>`;
  }

  const finalTotal = p.finalSubtotal + p.deliveryFee + p.extraDistanceFee;
  document.getElementById('sidebar-total').textContent =
    selectedDevices.length ? `${finalTotal.toFixed(2)} OMR${selectedAddons.length?' + ุฅุถุงูุงุช':''}` :
    (selectedAddons.length ? 'ุณุนุฑ ุญุณุจ ุงูุทูุจ' : '0 OMR');

  box.innerHTML = html;
}

/* 7) ุงูุชุฑุงุญุงุช ุณุฑูุนุฉ */
function applySuggestion(type){
  if (type==='interactive_page'){
    const cb = document.querySelector('.addon-checkbox[data-addon="ุตูุญุฉ ุชูุงุนููุฉ HTML"]');
    if (cb && !cb.checked){ cb.checked = true; updateAddonSelection(); showToast('โ ุชู ุฅุถุงูุฉ ุงูุตูุญุฉ ุงูุชูุงุนููุฉ ูุน ุฎุตู 5%!'); }
  }
}

/* 8) ุชุญููู ุญููู ููุทููุฉ */
function toggleDistanceField(){
  const isNo = document.getElementById('inside-muscat-no')?.checked;
  document.getElementById('distance-field')?.classList.toggle('hidden', !isNo);
}
function toggleBatteryRecommendation(){
  const isNo = document.getElementById('electricity-no')?.checked;
  document.getElementById('battery-recommendation')?.classList.toggle('hidden', !isNo);
}

/* 9) ุชูููุฏ ุฑุณุงูุฉ ูุงุชุณุงุจ */
function generateWhatsAppMessage(){
  const name = document.getElementById('customer-name').value || 'ุนููู';
  const phone = document.getElementById('customer-phone').value || '';
  let msg = `ูุฑุญุจูุงุ ุฃูุง ${name}${phone?` - ${phone}`:''}\n\n`;

  if (selectedDevices.length){
    msg += "๐ฑ ุงูุฃุฌูุฒุฉ:\n";
    selectedDevices.forEach(d=>{ msg += `โข ${d.name} - ุงููููุฉ: ${d.quantity} - ุงููุฏุฉ: ${d.days} ุฃูุงู\n`; });
    msg += "\n";
  }

  if (selectedAddons.length){
    msg += `${selectedDevices.length?"๐ ุงูุฅุถุงูุงุช ุงููุทููุจุฉ":"๐ ุงูุฎุฏูุงุช ุงููุทููุจุฉ"} (ุณุนุฑ ุญุณุจ ุงูุทูุจ):\n`;
    selectedAddons.forEach(a=> msg += `โข ${a.name}\n`);
    msg += "\n";
  }

  if (selectedDevices.length){
    const type = document.getElementById('event-type').value;
    const loc  = document.getElementById('event-location').value;
    const insideMuscat = document.querySelector('input[name="inside-muscat"]:checked')?.value;
    const electricity  = document.querySelector('input[name="electricity"]:checked')?.value;

    msg += "๐ ุชูุงุตูู ุงููุนุงููุฉ:\n";
    if (type) msg += `โข ุงูููุน: ${type}\n`;
    if (loc)  msg += `โข ุงููููุน: ${loc}\n`;
    if (insideMuscat) msg += `โข ุฏุงุฎู ูุณูุท: ${insideMuscat==='yes'?'ูุนู':'ูุง'}\n`;
    if (electricity)  msg += `โข ุงูููุฑุจุงุก: ${electricity==='yes'?'ูุชููุฑุฉ':'ุบูุฑ ูุชููุฑุฉ'}\n`;

    const p = calculateSmartPricing();
    const finalTotal = p.finalSubtotal + p.deliveryFee + p.extraDistanceFee;

    msg += `\n๐ฐ ุงูุชุณุนูุฑ:\n`;
    if (p.discounts.length){
      msg += `โข ุงููุฌููุน ูุจู ุงูุฎุตู: ${p.originalSubtotal.toFixed(2)} OMR\n`;
      msg += `โข ุฅุฌูุงูู ุงูุฎุตู: -${p.totalDiscount.toFixed(2)} OMR\n`;
    }
    msg += `โข ุงูุฅุฌูุงูู ููุฃุฌูุฒุฉ: ${p.finalSubtotal.toFixed(2)} OMR\n`;
    if (p.deliveryFee>0)       msg += `โข ุฑุณูู ุงูุชูุตูู (${p.totalQuantity} ุดุงุดุฉ): ${p.deliveryFee} OMR\n`;
    if (p.extraDistanceFee>0)  msg += `โข ุฑุณูู ุงููุณุงูุฉ ุงูุฅุถุงููุฉ: ${p.extraDistanceFee.toFixed(2)} OMR\n`;
    msg += `โข ุงููุฌููุน ุงูููุงุฆู: ${finalTotal.toFixed(2)} OMR\n`;
    if (selectedAddons.length) msg += `โข ุงูุฅุถุงูุงุช: ุณุนุฑ ุญุณุจ ุงูุทูุจ\n`;
    if (specialDiscountActive){
      const reason = (document.getElementById('discount-reason')?.value||'').trim();
      const kind = specialDiscountType==='student'?'ุทุงูุจ ุฌุงูุนู':'ุฌูุฉ ุฎูุฑูุฉ/ุบูุฑ ุฑุจุญูุฉ';
      msg += `\n๐๐ ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต (${kind})${reason?`:\nโข ุงูุณุจุจ: ${reason}\n`:''}`;
    }
    msg += `\nูู ุงูุฃุฌูุฒุฉ ูุชุงุญุฉ ูู ูุฐุง ุงูุชุงุฑูุฎุ`;
  }else{
    const notes = document.getElementById('notes').value;
    if (notes) msg += `๐ ุชูุงุตูู ุงูุทูุจ:\n${notes}\n\n`;
    msg += "ูุฑุฌู ุชุฒููุฏู ุจุนุฑุถ ุณุนุฑ ูุฎุตุต ููุฐู ุงูุฎุฏูุงุช ๐ฐ";
  }
  return encodeURIComponent(msg);
}

/* 10) ุชุญููู ูุจู ุงูุฅุฑุณุงู */
function validateForm(){
  const need = (id)=>document.getElementById(id)?.value.trim();
  if (!need('customer-name')){ showToast('โ๏ธ ูุฑุฌู ูุชุงุจุฉ ุงูุงุณู'); return false; }
  if (!need('customer-phone')){ showToast('โ๏ธ ูุฑุฌู ูุชุงุจุฉ ุฑูู ุงูุฌูุงู'); return false; }
  if (!selectedDevices.length && !selectedAddons.length){
    showToast('โ๏ธ ุงุฎุชุฑ ุฌูุงุฒูุง ูุงุญุฏูุง ุนูู ุงูุฃูู ุฃู ุฅุถุงูุฉ ูุงุญุฏุฉ'); return false;
  }
  if (selectedDevices.length){
    if (!need('event-type')){ showToast('โ๏ธ ุงุฎุชุฑ ููุน ุงููุนุงููุฉ'); return false; }
    if (!need('event-location')){ showToast('โ๏ธ ุงูุชุจ ุงููุฏููุฉ/ุงููููุน'); return false; }
    if (!document.querySelector('input[name="inside-muscat"]:checked')){ showToast('โ๏ธ ุญุฏุฏ ุฏุงุฎู ูุณูุท ุฃู ูุง'); return false; }
    if (!document.querySelector('input[name="electricity"]:checked')){ showToast('โ๏ธ ุญุฏุฏ ุชูููุฑ ุงูููุฑุจุงุก'); return false; }
  }
  return true;
}

/* 11) ุญูุธ ูุญูู/ุฎุงุฑุฌู */
async function saveBookingToDatabase(pricing){
  if (!window.dataSdk) return;
  if (bookings.length>=999){ showToast('โ๏ธ ุงูุญุฏ ุงูุฃูุตู ููุญุฌูุฒุงุช 999'); return; }

  const payload = {
    id: `booking_${Date.now()}`,
    customer_name: document.getElementById('customer-name').value,
    customer_email: document.getElementById('customer-email').value || '',
    customer_phone: document.getElementById('customer-phone').value,
    event_type: document.getElementById('event-type').value || '',
    event_location: document.getElementById('event-location').value || '',
    inside_muscat: document.querySelector('input[name="inside-muscat"]:checked')?.value || '',
    electricity_available: document.querySelector('input[name="electricity"]:checked')?.value || '',
    distance_km: document.getElementById('distance-km')?.value || '0',
    selected_devices: JSON.stringify(selectedDevices),
    selected_addons: JSON.stringify(selectedAddons),
    original_price: pricing.originalSubtotal.toFixed(2),
    total_discount: pricing.totalDiscount.toFixed(2),
    final_price: (pricing.finalSubtotal + pricing.deliveryFee + pricing.extraDistanceFee).toFixed(2),
    delivery_fee: String(pricing.deliveryFee),
    extra_distance_fee: pricing.extraDistanceFee.toFixed(2),
    total_quantity: String(pricing.totalQuantity),
    notes: document.getElementById('notes')?.value || '',
    special_discount_type: specialDiscountType || '',
    special_discount_active: String(specialDiscountActive),
    discount_reason: document.getElementById('discount-reason')?.value || '',
    created_at: new Date().toISOString(),
    status: 'ูุฑุณู'
  };
  let ok = false;
if (window.dataSdk){
  const r = await window.dataSdk.create(payload);
  ok = !!r.isOk;
}
if (!ok){ saveLocalBooking(payload); }

}

/* 12) ุฅุฑุณุงู ุนุจุฑ Formspree + fallback */
async function submitViaEmail(){
  if (!validateForm()) return;

  const btn  = document.getElementById('email-submit-btn');
  const prev = btn.innerHTML;
  btn.disabled = true;
  btn.innerHTML = '<div class="loading-spinner mx-auto"></div>';

  let message = '';
  try{
    // ุชุณุนูุฑ + ุญูุธ
    const p = calculateSmartPricing();
    await saveBookingToDatabase(p);

    // ุชุฌููุน ูุต ุงูุฅูููู
    const name  = document.getElementById('customer-name').value.trim();
    const phone = document.getElementById('customer-phone').value.trim();
    const email = (document.getElementById('customer-email').value || '').trim();
    const type  = document.getElementById('event-type').value || '';
    const loc   = document.getElementById('event-location').value || '';
    const insideMuscat = document.querySelector('input[name="inside-muscat"]:checked')?.value || '';
    const electricity  = document.querySelector('input[name="electricity"]:checked')?.value || '';
    const distanceKm   = document.getElementById('distance-km')?.value || '0';
    const notes        = document.getElementById('notes')?.value || '';

    const devicesLines = selectedDevices.length
      ? selectedDevices.map(d=>`โข ${d.name} โ ${d.quantity}ร โ ${d.days} ููู`).join('\n')
      : 'โ';
    const addonsLines = selectedAddons.length
      ? selectedAddons.map(a=>`โข ${a.name}`).join('\n')
      : 'โ';

    const finalTotal = (p.finalSubtotal + p.deliveryFee + p.extraDistanceFee).toFixed(2);

    message =
`[ุญุฌุฒ ุฌุฏูุฏ โ EventPlus]
ุงูุงุณู: ${name}
ุงูุฌูุงู: ${phone}
ุงูุจุฑูุฏ: ${email || 'โ'}

ุงููุนุงููุฉ:
โข ุงูููุน: ${type || 'โ'}
โข ุงููููุน: ${loc || 'โ'}
โข ุฏุงุฎู ูุณูุท: ${insideMuscat==='yes'?'ูุนู':insideMuscat==='no'?'ูุง':'โ'}
โข ุงูููุฑุจุงุก: ${electricity==='yes'?'ูุชููุฑุฉ':electricity==='no'?'ุบูุฑ ูุชููุฑุฉ':'โ'}
โข ุงููุณุงูุฉ: ${distanceKm} ูู

ุงูุฃุฌูุฒุฉ:
${devicesLines}

ุงูุฅุถุงูุงุช (ุณุนุฑ ุญุณุจ ุงูุทูุจ):
${addonsLines}

ุงูุชุณุนูุฑ:
โข ูุจู ุงูุฎุตู: ${p.originalSubtotal.toFixed(2)} OMR
โข ุฅุฌูุงูู ุงูุฎุตู: -${p.totalDiscount.toFixed(2)} OMR
โข ุงูุฃุฌูุฒุฉ ุจุนุฏ ุงูุฎุตู: ${p.finalSubtotal.toFixed(2)} OMR
โข ุงูุชูุตูู: ${p.deliveryFee} OMR
${p.extraDistanceFee>0?`โข ูุณุงูุฉ ุฅุถุงููุฉ: ${p.extraDistanceFee.toFixed(2)} OMR\n`:''}โข ุงูุฅุฌูุงูู: ${finalTotal} OMR

ููุงุญุธุงุช:
${notes || 'โ'}
`;

    // ุฅุฑุณุงู ุนุจุฑ FormData (ุฃูุถู ุชูุงูููุง ูู JSON)
    const fd = new FormData();
    fd.append('email',    email || COMPANY_EMAIL);
    fd.append('_replyto', email || COMPANY_EMAIL);
    fd.append('_subject', `ุญุฌุฒ ุฌุฏูุฏ โ ${name} (${phone})`);
    fd.append('message',  message);
    fd.append('name', name);
    fd.append('phone', phone);
    fd.append('type', type);
    fd.append('location', loc);
    fd.append('inside_muscat', insideMuscat);
    fd.append('electricity', electricity);
    fd.append('distance_km', distanceKm);
    fd.append('selected_devices', JSON.stringify(selectedDevices));
    fd.append('selected_addons', JSON.stringify(selectedAddons));
    fd.append('original_price', p.originalSubtotal.toFixed(2));
    fd.append('total_discount', p.totalDiscount.toFixed(2));
    fd.append('final_price', finalTotal);

    const res  = await fetch(FORMSPREE_ENDPOINT, { method:'POST', body: fd, headers:{ Accept:'application/json' }});
    const json = await res.json().catch(()=> ({}));

    if (!res.ok || json.ok !== true) {
      console.error('Formspree error:', res.status, json);
      throw new Error('send-failed');
    }

    showSuccessMessage('ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ ุนุจุฑ ุงูุฅูููู! ๐ง');
    resetForm();

  } catch (err){
    console.warn('Email failed, fallback mailto', err);
    // Fallback mailto ุจูู ุงูุชูุงุตูู
    const subject = encodeURIComponent('ุญุฌุฒ ุฌุฏูุฏ โ EventPlus');
    const body    = encodeURIComponent(message || 'ุชุนุฐูุฑ ุฅูุดุงุก ูุต ุงูุญุฌุฒ ุชููุงุฆููุง.');
    window.location.href = `mailto:${COMPANY_EMAIL}?subject=${subject}&body=${body}`;
    showToast('โน๏ธ ูุชุญูุง ุจุฑูุงูุฌ ุงูุฅูููู ูุฏูู ูุญู ูุคูุช.');
  } finally {
    btn.disabled = false;
    btn.innerHTML = prev;
  }
}

/* 13) ูุงุชุณุงุจ */
async function submitViaWhatsApp(){
  if (!validateForm()) return;
  try{
    const p = calculateSmartPricing();
    await saveBookingToDatabase(p);
    const msg = generateWhatsAppMessage();
    const waNumber = (window.elementSdk?.state?.config?.whatsapp_number || defaultConfig.whatsapp_number || '').replace(/[^0-9]/g,'');
window.open(`https://wa.me/${waNumber}?text=${msg}`, '_blank');

    showSuccessMessage('ุชู ุชูุฌููู ุฅูู ุงููุงุชุณุงุจ! ๐ฌ');
    resetForm();
  }catch(e){ showToast('โ ุชุนุฐูุฑ ุชุฌููุฒ ุฑุณุงูุฉ ุงููุงุชุณุงุจ.'); }
}

/* 14) ุณุฌู ุงูุญุฌูุฒุงุช */
function updateBookingsCount(){ const el=document.getElementById('bookings-count'); if (el) el.textContent = bookings.length; }
function toggleBookingHistory(){
  const box = document.getElementById('booking-history');
  const btn = document.getElementById('history-toggle-btn');
  if (!box||!btn) return;
  if (box.classList.contains('hidden')){
    box.classList.remove('hidden'); btn.textContent = `ุฅุฎูุงุก ุณุฌู ุงูุญุฌูุฒุงุช ๐ (${bookings.length})`;
    renderBookingHistory();
  }else{
    box.classList.add('hidden'); btn.innerHTML = `ุนุฑุถ ุณุฌู ุงูุญุฌูุฒุงุช ุงูุณุงุจูุฉ ๐ (<span id="bookings-count">${bookings.length}</span>)`;
  }
}
function renderBookingHistory(){
  const list = document.getElementById('bookings-list');
  if (!list) return;
  if (!bookings.length){
    list.innerHTML = `
      <div class="text-center text-gray-400 py-8">
        <div class="text-4xl mb-2">๐</div>

        <p>ูุง ุชูุฌุฏ ุญุฌูุฒุงุช ุณุงุจูุฉ</p>
        <p class="text-sm mt-2">ุณุชุธูุฑ ุญุฌูุฒุงุชู ููุง ุจุนุฏ ุฅุฑุณุงู ุฃูู ุทูุจ</p>
      </div>`;
    return;
  }
  const sorted = [...bookings].sort((a,b)=> new Date(b.created_at)-new Date(a.created_at));
  list.innerHTML = sorted.map(b=>{
    const created = new Date(b.created_at).toLocaleString('ar-SA',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});
    let devices='ุบูุฑ ูุญุฏุฏ', addons='ูุง ุชูุฌุฏ ุฅุถุงูุงุช';
    try{ const arr=JSON.parse(b.selected_devices||'[]'); devices = arr.map(d=>`${d.name} (${d.quantity}ร${d.days} ุฃูุงู)`).join('ุ ');}catch{}
    try{ const arr=JSON.parse(b.selected_addons||'[]'); addons = arr.length?arr.map(a=>a.name).join('ุ '):'ูุง ุชูุฌุฏ ุฅุถุงูุงุช'; }catch{}
    return `
      <div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all">
        <div class="flex justify-between items-start mb-3">
          <div><h4 class="font-bold text-lg text-purple-900">${b.customer_name}</h4><p class="text-sm text-gray-500">${created}</p></div>
          <div class="text-left"><div class="text-lg font-bold text-purple-600">${b.final_price} OMR</div><span class="inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">${b.status}</span></div>
        </div>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div>
            <p class="text-gray-600 mb-1"><strong>ุงูุฌูุงู:</strong> ${b.customer_phone}</p>
            ${b.customer_email?`<p class="text-gray-600 mb-1"><strong>ุงูุฅูููู:</strong> ${b.customer_email}</p>`:''}
            ${b.event_type?`<p class="text-gray-600 mb-1"><strong>ููุน ุงููุนุงููุฉ:</strong> ${b.event_type}</p>`:''}
            ${b.event_location?`<p class="text-gray-600 mb-1"><strong>ุงููููุน:</strong> ${b.event_location}</p>`:''}
          </div>
          <div>
            <p class="text-gray-600 mb-1"><strong>ุงูุฃุฌูุฒุฉ:</strong> ${devices}</p>
            <p class="text-gray-600 mb-1"><strong>ุงูุฅุถุงูุงุช:</strong> ${addons}</p>
            ${b.total_discount && parseFloat(b.total_discount)>0?`<p class="text-green-600 font-semibold"><strong>ุฎุตู:</strong> -${b.total_discount} OMR</p>`:''}
            ${b.special_discount_active==='true'?`<p class="text-orange-600 font-semibold"><strong>ูุทุงูุจุฉ ุฎุตู:</strong> ${b.special_discount_type==='student'?'๐ ุทุงูุจ':'๐ ุฎูุฑูุฉ'}</p>`:''}
          </div>
        </div>
        ${b.notes?`<div class="mt-3 p-3 bg-gray-50 rounded-lg"><p class="text-sm text-gray-700"><strong>ููุงุญุธุงุช:</strong> ${b.notes}</p></div>`:''}
      </div>`;
  }).join('');
}

/* 15) ุฏูุงู ุฏุนู ุงููุชุงููุฌ/ุงููุฏุฎูุงุช ุงููุฐููุฑุฉ ูู HTML */
function addDeviceToSelection(deviceName, dailyRate, basePrice){
  const cb   = document.querySelector(`.device-checkbox[data-device="${deviceName}"]`);
  const qty  = document.querySelector(`.device-quantity[data-device="${deviceName}"]`);
  const days = document.querySelector(`.device-days[data-device="${deviceName}"]`);

  if (cb){ cb.checked = true; }
  if (qty){ if (parseInt(qty.value||'0',10) < 1) qty.value = 1; }
  if (days){ if (parseInt(days.value||'0',10) < 1) days.value = 1; }

  updateDeviceSelection();
  showToast('โ ุชูุช ุฅุถุงูุฉ ุงูุฌูุงุฒ ุฅูู ุงูููุฎูุต');
}
function handleDeviceCheckboxChange(){ updateDeviceSelection(); }
function handleQuantityChange(el){
  const v = Math.max(0, parseInt(el.value||'0',10));
  el.value = v;
  updateDeviceSelection();
}
function handleDaysChange(el){
  let d = Math.max(1, parseInt(el.value||'1',10));
  if (d>30){ d = 30; showToast('โน๏ธ ูุฃูุซุฑ ูู 30 ููู: ุชูุงุตู ูุนูุง ูุนุฑุถ ุฎุงุต'); }
  el.value = d;
  updateDeviceSelection();
}

/* 16) ุฎุตููุงุช ุฎุงุตุฉ */
function handleSpecialDiscountRequest(e){
  const student = document.getElementById('student-discount');
  const charity = document.getElementById('charity-discount');
  const box = document.getElementById('special-discount-request');

  if (student?.checked && charity?.checked){
    if (e?.target===student) charity.checked=false; else student.checked=false;
  }

  if (student?.checked){
    specialDiscountType='student'; specialDiscountActive=true;
    box?.classList.remove('hidden');
    const t=document.getElementById('discount-reason'); if(t) t.placeholder='ูุซุงู: ุทุงูุจ ูู ุฌุงูุนุฉ ุงูุณูุทุงู ูุงุจูุณ...';
  }else if (charity?.checked){
    specialDiscountType='charity'; specialDiscountActive=true;
    box?.classList.remove('hidden');
    const t=document.getElementById('discount-reason'); if(t) t.placeholder='ูุซุงู: ุฌูุนูุฉ ุฎูุฑูุฉ ูุณุฌูุฉ...';
  }else{
    specialDiscountType=null; specialDiscountActive=false;
    box?.classList.add('hidden');
    const t=document.getElementById('discount-reason'); if (t) t.value='';
  }
  updateBookingSummary();
}

/* 17) Reset */
function resetForm(){
  document.getElementById('booking-form')?.reset();
  selectedDevices = []; selectedAddons = [];
  specialDiscountType = null; specialDiscountActive = false;
  document.getElementById('distance-field')?.classList.add('hidden');
  document.getElementById('battery-recommendation')?.classList.add('hidden');
  document.querySelectorAll('.device-checkbox,.addon-checkbox').forEach(cb=> cb.checked=false);
  document.querySelectorAll('.device-quantity').forEach(i=> i.value=0);
  document.querySelectorAll('.device-days').forEach(i=> i.value=1);
  updateBookingSummary();
}

/* 18) SDK + ุชููุฆุฉ ูุฑูุงุจุท */
const dataHandler = {
  onDataChanged(data){ bookings = data; updateBookingsCount(); renderBookingHistory(); }
};

function loadLocalBookings(){
  try{ bookings = JSON.parse(localStorage.getItem('eventplus_bookings')||'[]'); }
  catch{ bookings = []; }
}
function saveLocalBooking(b){
  try{
    const list = JSON.parse(localStorage.getItem('eventplus_bookings')||'[]');
    list.push(b);
    localStorage.setItem('eventplus_bookings', JSON.stringify(list));
    bookings = list;
  }catch{}
}

async function initializeApp(){
  /* 0) ุชุญููู ุณุฌู ุงูุญุฌูุฒุงุช ุงููุญูู ูุจุฏุงูุฉ */
  try {
    loadLocalBookings();
    updateBookingsCount();
    renderBookingHistory();
  } catch(e){ console.warn('local bookings init skipped', e); }

  /* 1) dataSdk */
  try{
    if (window.dataSdk){
      const r = await window.dataSdk.init(dataHandler);
      if (!r.isOk) console.error('Failed to init data SDK');
    }
  }catch(e){ console.warn('dataSdk init skipped', e); }

  /* 2) elementSdk (ุซูู/ูุญุชูู ุฏููุงูููู) */
  try{
    if (window.elementSdk){
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: (config)=>{
          document.getElementById('hero-title').textContent = config.hero_title || defaultConfig.hero_title;
          document.getElementById('hero-subtitle').textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
          document.getElementById('nav-title').textContent = 'EventPlus';

          const whatsappNum = (config.whatsapp_number || defaultConfig.whatsapp_number);
          const email = (config.email_address || defaultConfig.email_address);

          document.getElementById('whatsapp-display').textContent = whatsappNum;
          document.getElementById('email-display').textContent = email;

          const wa = `https://wa.me/${whatsappNum.replace(/[^0-9]/g,'')}`;
          const heroBtn = document.getElementById('whatsapp-hero-btn');
          const contactBtn = document.getElementById('whatsapp-contact-btn');
          const emailBtn = document.getElementById('email-contact-btn');
          if (heroBtn) heroBtn.href = wa;
          if (contactBtn) contactBtn.href = wa;
          if (emailBtn) emailBtn.href = `mailto:${email}`;

          const bg = config.background_color || defaultConfig.background_color;
          const pri = config.primary_action_color || defaultConfig.primary_action_color;
          document.querySelectorAll('.gradient-bg').forEach(el=> el.style.background = `linear-gradient(135deg, ${bg} 0%, ${pri} 100%)`);
        }
      });
    }
  }catch(e){ console.warn('elementSdk init skipped', e); }

  /* 3) ุฑูุงุจุท ุงูุชุฑุงุถูุฉ ุฅุฐุง ูุง ููู elementSdk/Config */
  try {
    const whatsappNum = (defaultConfig.whatsapp_number || '').replace(/[^0-9]/g,'');
    const email = defaultConfig.email_address || COMPANY_EMAIL;

    const wa = `https://wa.me/${whatsappNum}`;
    const heroBtn = document.getElementById('whatsapp-hero-btn');
    const contactBtn = document.getElementById('whatsapp-contact-btn');
    const emailBtn = document.getElementById('email-contact-btn');

    if (heroBtn && !heroBtn.href) heroBtn.href = wa;
    if (contactBtn && !contactBtn.href) contactBtn.href = wa;
    if (emailBtn && !emailBtn.href) emailBtn.href = `mailto:${email}`;

    const waDisp = document.getElementById('whatsapp-display');
    const emDisp = document.getElementById('email-display');
    if (waDisp && !waDisp.textContent.trim()) waDisp.textContent = defaultConfig.whatsapp_number;
    if (emDisp && !emDisp.textContent.trim()) emDisp.textContent = email;
  } catch(e){ /* no-op */ }

  /* 4) ุณูุงูุฏุฑ */
  currentSlideIndex = 0;
  showSlide(currentSlideIndex);
  startAutoSlideshow();

  /* 5) ุฑุจุท ุงูุฃุฒุฑุงุฑ ุงูุฑุฆูุณูุฉ */
  (document.getElementById('email-submit-btn')||{}).onclick    = submitViaEmail;
  (document.getElementById('whatsapp-submit-btn')||{}).onclick = submitViaWhatsApp;

  /* 6) ุฑุจุท ุฒุฑ ุงูุชุตุฏูุฑ CSV ุฅู ููุฌุฏ */
  try{
    const exportBtn = document.getElementById('export-csv-btn');
    if (exportBtn && typeof exportSummaryCSV === 'function'){
      exportBtn.onclick = exportSummaryCSV;
    }
  }catch(e){ /* ignore */ }

  /* 7) ุชุบููุฑุงุช ุงูุฃุฌูุฒุฉ ูุงูุฅุถุงูุงุช */
  document.querySelectorAll('.device-checkbox').forEach(cb=>{
    cb.addEventListener('change', ()=>{
      const name = cb.dataset.device;
      const q = document.querySelector(`.device-quantity[data-device="${name}"]`);
      if (cb.checked && q && parseInt(q.value||'0',10)===0){ q.value = 1; }
      updateDeviceSelection();
    });
  });
  document.querySelectorAll('.device-quantity').forEach(inp=>{
    inp.addEventListener('input', ()=>{ handleQuantityChange(inp); });
  });
  document.querySelectorAll('.device-days').forEach(inp=>{
    inp.addEventListener('input', ()=>{ handleDaysChange(inp); });
  });
  document.querySelectorAll('.addon-checkbox').forEach(cb=> cb.addEventListener('change', updateAddonSelection));

  /* 8) ุญููู ููุทููุฉ */
  (document.getElementById('inside-muscat-yes')||{}).onchange = toggleDistanceField;
  (document.getElementById('inside-muscat-no')||{}).onchange  = toggleDistanceField;
  (document.getElementById('electricity-yes')||{}).onchange   = toggleBatteryRecommendation;
  (document.getElementById('electricity-no')||{}).onchange    = toggleBatteryRecommendation;

  /* 9) ุฎุตููุงุช ุฎุงุตุฉ */
  (document.getElementById('student-discount')||{}).onchange = handleSpecialDiscountRequest;
  (document.getElementById('charity-discount')||{}).onchange = handleSpecialDiscountRequest;

  /* 10) ุชุญุฏูุซ ุฃููู ููููุฎุต */
  updateBookingSummary();
}


/* 19) ุชุดุบูู */
document.addEventListener('DOMContentLoaded', initializeApp);

/* 20) ุฑุจุท ุฏูุงู ููุณุทุฑูุฉ ุงูููุฌูุฏุฉ ูู HTML */
window.changeSlide = changeSlide;
window.currentSlide = currentSlideTo;
window.applySuggestion = applySuggestion;
window.scrollToSection = scrollToSection;
window.toggleBookingHistory = toggleBookingHistory;
window.toggleDistanceField = toggleDistanceField;
window.toggleBatteryRecommendation = toggleBatteryRecommendation;
/* ====== (A) ุฏูุงู ุงูุฏุฑุฏุดุฉ ุงูุนุงุฆูุฉ "ุนุงุฑู" โ ุญุฏ ุฃุฏูู ุนููู ุจุฏูู ุจุงู-ุฅูุฏ ====== */
function toggleFloatingChat(){
  const win = document.getElementById('floating-chat-window');
  if (!win) return;
  win.classList.toggle('hidden');
}
function appendFloatingMsg(text, from='bot'){
  const box = document.getElementById('floating-chat-messages');
  if (!box) return;
  const isBot = from==='bot';
  const avatar = isBot ? '๐ค' : '๐ง';
  const bubbleCls = isBot ? 'bg-purple-50 rounded-2xl rounded-tl-sm' : 'bg-blue-50 rounded-2xl rounded-tr-sm';
  const align = isBot ? 'flex-row' : 'flex-row-reverse';
  const html = `
    <div class="flex ${align} gap-2">
      <div class="w-6 h-6 ${isBot?'bg-purple-500':'bg-blue-500'} rounded-full flex items-center justify-center text-white text-xs">${avatar}</div>
      <div class="${bubbleCls} p-3 max-w-xs"><p class="text-sm whitespace-pre-wrap">${text}</p></div>
    </div>`;
  box.insertAdjacentHTML('beforeend', html);
  box.scrollTop = box.scrollHeight;
}
function qaRouter(q){
  const s = q.trim();
  const low = s.toLowerCase();
  // ุฑุฏูุฏ ุณุฑูุนุฉ ุฐููุฉ ุจุณูุทุฉ
  if (low.includes('ุจุฑุงูุฏูุบ') || low.includes('branding')) {
    return 'ุงูุจุฑุงูุฏูุบ ูู ุชุทุจูู ุงููููุฉ ุนูู ุงูุฌูุงุฒ (ุฃููุงู/ุดุนุงุฑ) ููุชุทุงุจู ูุน ุญููุชู. ุณุนุฑู ุนูุฏูุง 15โ35 OMR ุญุณุจ ุงูููุงุณ ูุงูุชุบุทูุฉ.';
  }
  if (low.includes('ุดุงุดุฉ') && (low.includes('ูุนุฑุถ') || low.includes('booth'))) {
    return 'ูููุนุงุฑุถ ุงูุฏุงุฎููุฉ: ูููุฉ ุชู 32โณ ููุงุณุจุฉ ูููููุฉ ูุงูุนุฑูุถ. ูู ุฎุงุฑุฌูุฉ ุฃู ููุฏุงููุฉ ุจุฏูู ููุฑุจุงุก: ุดุงุดุฉ ุงูุจุทุงุฑูุฉ 32โณ (NFC) ุชุนูู ~8 ุณุงุนุงุช.';
  }
  if (low.includes('ุชุตููุฑ') || low.includes('photo') || low.includes('video')) {
    return 'ุงูุชุตููุฑ ุงูุงุญุชุฑุงูู ูุจุฏุฃ 65โ120 OMR ูููููุ ููุดูู ููุฎุต ููุฏูู ูุตูุฑุ ูุฑุณู ูู ุนูููุฉ ุณุชุงูู ุฅุฐุง ุฑุบุจุช.';
  }
  if (low.includes('ุงููุฑู ุจูู ุงูุฃุฌูุฒุฉ') || low.includes('ุงููุฑู ุจูู') || low.includes('difference')) {
    return 'โข ูููุฉ ุชู 32โณ: ุดุงุดุฉ ุนุฑุถ ูููุฉ (LEDุ ููุณ ุงุฎุชูุงุฑูุ ุจุฏูู NFC)\nโข ุงูุจุทุงุฑูุฉ 32โณ: ูุชูููุฉ + NFC + ุญุชู 8 ุณุงุนุงุช\nโข ููุณุฉ ุชู 21.5โณ: ูุดู ููุณ + NFC ูุฌูุน ุจูุงูุงุช';
  }
  return 'ุชูุงู! ุชูุฏุฑ ุชูุถุญ ููุน ุงููุนุงููุฉ ูุงููููุน ูุนุฏุฏ ุงูุฃูุงูุ ุจุนุทูู ุงูุชุฑุงุญ + ุณุนุฑ ุชูุฑูุจู ุณุฑูุน.';
}
function sendFloatingChatMessage(){
  const inp = document.getElementById('floating-chat-input');
  if (!inp?.value.trim()) return;
  const txt = inp.value.trim();
  inp.value = '';
  appendFloatingMsg(txt, 'user');
  setTimeout(()=> appendFloatingMsg(qaRouter(txt), 'bot'), 200);
}
function handleFloatingChatKeyPress(e){ if (e.key==='Enter') sendFloatingChatMessage(); }
function askFloatingQuestion(q){ appendFloatingMsg(q,'user'); setTimeout(()=> appendFloatingMsg(qaRouter(q),'bot'), 200); }

/* ุฑุจุท ููุฃุฒุฑุงุฑ/ุงููุฏุฎูุงุช (ููุฌูุฏุฉ ูู ุงูู HTML) */
window.toggleFloatingChat = toggleFloatingChat;
window.sendFloatingChatMessage = sendFloatingChatMessage;
window.handleFloatingChatKeyPress = handleFloatingChatKeyPress;
window.askFloatingQuestion = askFloatingQuestion;

/* ====== (B) ุฏุฑุฏุดุฉ ูุณู "ุงููุณุงุนุฏ ุงูุฐูู" (ุงููุงุฑุช ุงููุจูุฑ) ====== */
function appendMainChat(text, from='bot'){
  const box = document.getElementById('chat-messages');
  if (!box) return;
  const isBot = from==='bot';
  const avatar = isBot ? '๐ค' : '๐ง';
  const bubbleCls = isBot ? 'bg-purple-50 rounded-2xl rounded-tl-sm' : 'bg-blue-50 rounded-2xl rounded-tr-sm';
  const align = isBot ? 'flex-row' : 'flex-row-reverse';
  const html = `
    <div class="flex ${align} gap-3">
      <div class="w-8 h-8 ${isBot?'bg-purple-500':'bg-blue-500'} rounded-full flex items-center justify-center text-white text-sm">${avatar}</div>
      <div class="${bubbleCls} p-4 max-w-md"><p class="text-sm whitespace-pre-wrap">${text}</p></div>
    </div>`;
  box.insertAdjacentHTML('beforeend', html);
  box.scrollTop = box.scrollHeight;
}
function qaRouterMain(q){
  const base = qaRouter(q);
  // ุฅุถุงูุฉ Call-to-Action ุฐูู
  return base + '\n\nุฅุฐุง ุชุฑุบุจุ ุงุฎุชุฑ ุงูุฃุฌูุฒุฉ ูู ุงููุชุงููุฌ ูุงุถุบุท "ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ" ููุซุจุช ูู ุงูุชููุฑ.';
}
function sendChatMessage(){
  const inp = document.getElementById('chat-input');
  if (!inp?.value.trim()) return;
  const txt = inp.value.trim();
  inp.value = '';
  appendMainChat(txt, 'user');
  setTimeout(()=> appendMainChat(qaRouterMain(txt), 'bot'), 200);
}
function handleChatKeyPress(e){ if (e.key==='Enter') sendChatMessage(); }
function askQuickQuestion(q){ appendMainChat(q, 'user'); setTimeout(()=> appendMainChat(qaRouterMain(q),'bot'), 200); }

window.sendChatMessage = sendChatMessage;
window.handleChatKeyPress = handleChatKeyPress;
window.askQuickQuestion = askQuickQuestion;

/* ====== (C) ุฒุฑ ุชุตุฏูุฑ CSV (ุงูููุฎูุต + ุงูุณุฌู) ====== */
function buildCSV(rows){
  return rows.map(r=>r.map(v=> {
    const s = String(v ?? '');
    return /[",\n]/.test(s) ? `"${s.replace(/"/g,'""')}"` : s;
  }).join(',')).join('\n');
}
function exportSummaryCSV(){
  const p = calculateSmartPricing();
  const head1 = ['ููุน','ุงูุงุณู','ุงููููุฉ','ุงูุฃูุงู','ุณุนุฑ/ููู','ุนุงูู ุงูุฎุตู','ุงูุฅุฌูุงูู'];
  const devRows = selectedDevices.length
    ? selectedDevices.map(d=>['ุฌูุงุฒ', d.name, d.quantity, d.days, d.dailyRate, `${Math.round((1-d.factor)*100)}%`, d.total.toFixed(2)])
    : [['โ','โ','โ','โ','โ','โ','0']];
  const addonsRows = selectedAddons.length
    ? selectedAddons.map(a=>['ุฅุถุงูุฉ', a.name, '-', '-', '-', '-', 'ุณุนุฑ ุญุณุจ ุงูุทูุจ'])
    : [];

  const totals = [
    [],
    ['ุงููุฌููุน ูุจู ุงูุฎุตู', p.originalSubtotal.toFixed(2)],
    ['ุฅุฌูุงูู ุงูุฎุตู', `-${p.totalDiscount.toFixed(2)}`],
    ['ุงูุฃุฌูุฒุฉ ุจุนุฏ ุงูุฎุตู', p.finalSubtotal.toFixed(2)],
    ['ุงูุชูุตูู', p.deliveryFee],
    ['ุงููุณุงูุฉ ุงูุฅุถุงููุฉ', p.extraDistanceFee.toFixed(2)],
    ['ุงูุฅุฌูุงูู ุงูููุงุฆู', (p.finalSubtotal + p.deliveryFee + p.extraDistanceFee).toFixed(2)]
  ];

  const rows = [head1, ...devRows, ...addonsRows, ...totals];
  const csv = buildCSV(rows);
  const blob = new Blob([`\uFEFF${csv}`], {type:'text/csv;charset=utf-8;'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = `EventPlus-Summary-${Date.now()}.csv`;
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
  showToast('๐ ุชู ุชูุฒูู CSV ุงูููุฎูุต');
}

/* ููุงุญุธุฉ: ุชุถูู ุฒุฑ ุจุชุฑููุณุฉ ุงูููุฎูุต ุฅุฐุง ุญุจูุช */
(function ensureExportBtn(){
  if (document.getElementById('export-csv-btn')) return;
  const sidebar = document.querySelector('#booking-summary')?.parentElement;
  if (!sidebar) return;
  const btn = document.createElement('button');
  btn.id = 'export-csv-btn';
  btn.className = 'w-full mt-2 bg-gray-800 text-white py-2 rounded-lg font-bold hover:bg-gray-900 transition-all';
  btn.textContent = 'ุชุตุฏูุฑ ุงูููุฎูุต CSV';
  btn.onclick = exportSummaryCSV;
  sidebar.appendChild(btn);
})();

/* ====== (D) ุชุญุณููุงุช ุตุบูุฑุฉ ุฅุถุงููุฉ ====== */
// ุชูุธูู ุฑูู ูุงุชุณุงุจ ุงูุงูุชุฑุงุถู ุฅุฐุง ุบุงุจ elementSdk
(function fixWhats(){
  const n = (defaultConfig.whatsapp_number||'').replace(/[^0-9]/g,'');
  const hero = document.getElementById('whatsapp-hero-btn');
  const contact = document.getElementById('whatsapp-contact-btn');
  if (n && hero && !hero.getAttribute('href')) hero.href = `https://wa.me/${n}`;
  if (n && contact && !contact.getAttribute('href')) contact.href = `https://wa.me/${n}`;
})();

// ุญูุงูุฉ ุฅุถุงููุฉ ูููู ุงูุฃูุงู/ุงููููุฉ
['input','change'].forEach(ev=>{
  document.addEventListener(ev, (e)=>{
    if (e.target?.classList?.contains('device-quantity')){
      const v = Math.max(0, Math.min(10, parseInt(e.target.value||'0',10)));
      if (String(v)!==e.target.value) e.target.value = v;
    }
    if (e.target?.classList?.contains('device-days')){
      let d = Math.max(1, Math.min(30, parseInt(e.target.value||'1',10)));
      if (String(d)!==e.target.value) e.target.value = d;
    }
  });
});

// ุชุฐููุฑ ูุตูู ุจุฑุณูู ุงููุณุงูุฉ (0.25โ0.35 OMR/ูู) ุฅุฐุง ุชุนุฏูู 30 ูู
(function hintDistance(){
  const el = document.getElementById('distance-km');
  if (!el) return;
  el.addEventListener('input', ()=> {
    const v = parseInt(el.value||'0',10);
    if (v>30) showToast('โน๏ธ ุฎุงุฑุฌ 30ูู: ุชูุญุชุณุจ 0.25โ0.35 OMR/ูู + ุจุฏู ุณูู ุนูุฏ ุงูุญุงุฌุฉ');
  });
})();

</script>

</body>
</html>
