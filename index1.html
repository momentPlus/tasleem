<!doctype html>
<html lang="ar" dir="rtl">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EventPlus - ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap" rel="stylesheet">


  <style>
  /* ุฅุฎูุงุก ุตู ุงูุฎุตู ุงููุฏููุ ุงูุฎุตููุงุช ุชุธูุฑ ุฏุงุฎู ุตูุฏูู ๐ ุฎุตููุงุช ุฅุถุงููุฉ */
#discount-row { display: none !important; }

        body {
            box-sizing: border-box;
            background-color: #F5F5F7; /* ุฎูููุฉ ุฑูุงุฏูุฉ ูุงุชุญุฉ ุงูุชุฑุงุถูุฉ */
        }
        
        * {
            font-family: 'Tajawal', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #41296D 0%, #EC2B84 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .section-padding {
            padding: 4rem 1.5rem;
        }
        
        @media (max-width: 768px) {
            .section-padding {
                padding: 2.5rem 1rem;
            }
        }
        
        .smooth-scroll {
            scroll-behavior: smooth;
        }
        
        .device-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.07);
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .price-tag {
            font-size: 2rem;
            font-weight: 900;
            color: #41296D;
        }
        
        .loading-spinner {
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Slideshow Styles */
        .slideshow-container {
            position: relative;
        }
        
        /* ุฅุฎูุงุก ุฌููุน ุงูุณูุงูุฏุงุช ุงูุชุฑุงุถูุงู */
        .slide {
            display: none;
            opacity: 0;
            transition: opacity 0.7s ease-in-out;
        }
        
        /* ุฅุธูุงุฑ ุงูุณูุงูุฏ ุงููุดุท ููุท */
        .slide.active {
            display: block; /* ุชุบููุฑ ูู flex ุฅูู block ููุตูุฑ */
            opacity: 1;
        }
        
        .slide-nav {
            z-index: 10;
        }
        
        .dot.active {
            background-color: rgba(255, 255, 255, 0.9) !important;
        }

        /* ูุฃุณูู ูููุฐุฌ ุงูุญุฌุฒ ุงูููุณูู */
        summary {
            list-style: none; /* ุฅุฎูุงุก ุงูุณูู ุงูุงูุชุฑุงุถู */
            position: relative;
            padding-right: 2rem; /* ูุณุงุญุฉ ููุฃููููุฉ ุงููุฎุตุตุฉ */
        }
        summary::-webkit-details-marker {
            display: none;
        }
        summary::after {
            content: '+';
            font-family: 'Tajawal', sans-serif;
            font-weight: 700;
            font-size: 1.5rem;
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
            transition: transform 0.2s ease;
        }
        details[open] summary::after {
            content: 'โ';
            transform: translateY(-50%);
        }

    </style>
 </head>
 <body class="smooth-scroll bg-gray-50"><!-- Navigation -->
  <nav class="gradient-bg text-white sticky top-0 z-50 shadow-lg">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
     <div class="flex items-center gap-3">
      <div class="text-3xl">
       ๐ฏ
      </div>
      <div>
       <h1 class="text-2xl font-bold" id="nav-title">EventPlus</h1>
       <p class="text-xs opacity-90">ุญููู ุงูุนุฑุถ ุงูุฐููุฉ</p>
      </div>
     </div><button onclick="scrollToSection('booking')" class="bg-white text-purple-900 px-6 py-2.5 rounded-full font-bold hover:bg-gray-50 transition-all"> ุงุญุฌุฒ ุงูุขู </button>
    </div>
   </div>
  </nav><!-- Hero Section -->
  <section class="gradient-bg text-white section-padding">
   <div class="max-w-6xl mx-auto">
    
    <!-- Slideshow (ูุนุฏู ุจุงูุตูุฑ) -->
    <div class="relative mb-12 rounded-3xl overflow-hidden shadow-2xl">
     <div class="slideshow-container relative h-96 md:h-[500px]">
      
      <!-- Slide 1: ุดุงุดุงุช ุงูุนุฑุถ ุงูุฐููุฉ -->
      <div class="slide active h-full w-full">
       <!-- ุทุจูุฉ ุนุงุฒูุฉ ุฎูููุฉ ูุถูุงู ูุถูุญ ุงูุฃุณูู ูุงูููุงุท -->
       <div class="absolute inset-0 bg-black/20 z-10"></div>
       <!-- ุงูุตูุฑุฉ ูุนูุตุฑ ุฃุณุงุณู -->
       <img src="12.png" alt="ุดุงุดุงุช ุนุฑุถ ุฐููุฉ" class="w-full h-full object-cover">
      </div>
      
      <!-- Slide 2: ุงูุฃูุดุงู ุงูุชูุงุนููุฉ -->
      <div class="slide h-full w-full">
       <div class="absolute inset-0 bg-black/20 z-10"></div>
       <img src="123.png" alt="ูุดู ุชูุงุนูู" class="w-full h-full object-cover">
      </div>
      
      <!-- Slide 3: ููุตุฉ ุงูุชุตููุฑ 360ยฐ -->
      <div class="slide h-full w-full">
       <div class="absolute inset-0 bg-black/20 z-10"></div>
       <img src="1234.png" alt="ููุตุฉ ุชุตููุฑ 360" class="w-full h-full object-cover">
      </div>
      
      <!-- Slide 4: ุญููู ูุชูุงููุฉ -->
      <div class="slide h-full w-full">
       <div class="absolute inset-0 bg-black/20 z-10"></div>
       <img src="12345.png" alt="ุญููู ูุชูุงููุฉ" class="w-full h-full object-cover">
      </div>
      
      <!-- Navigation arrows --> 
      <!-- ุชู ุฅุถุงูุฉ z-20 ูุถูุงู ุธููุฑูุง ููู ุงูุทุจูุฉ ุงูุนุงุฒูุฉ -->
      <button class="slide-nav prev absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all z-20" onclick="changeSlide(-1)"> โฎ </button> 
      <button class="slide-nav next absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full transition-all z-20" onclick="changeSlide(1)"> โฏ </button> 
      
      <!-- Dots indicator -->
      <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2 z-20"> <!-- ุชู ุฅุถุงูุฉ z-20 -->
       <button class="dot active w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(1)"></button>
       <button class="dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(2)"></button>
       <button class="dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(3)"></button>
       <button class="dot w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-all" onclick="currentSlide(4)"></button>
      </div>
     </div>
    </div>

    <div class="text-center">
     <h2 class="text-4xl md:text-6xl font-black mb-6 leading-tight" id="hero-title">EventPlus โ ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ููููููุฌุฑุงู ูุงูุดุงุดุงุช ุงูุฐููุฉ</h2>
     <p class="text-xl md:text-2xl mb-10 opacity-95 leading-relaxed" id="hero-subtitle">ูุญููู ุงูุชูููุฉ ุฅูู <span class="font-bold">ุชุฌุฑุจุฉ ุฅูุณุงููุฉ</span> ุชูููุน ุฌูููุฑูู ูุชููุชุฌ ุจูุงูุงุช ูุงุจูุฉ ูููุฑุงุฑ</p>
     <div class="flex flex-wrap justify-center gap-4"><button onclick="scrollToSection('booking')" class="bg-white text-purple-900 px-8 py-4 rounded-full text-lg font-bold hover:bg-gray-50 transition-all shadow-lg"> ุงุญุฌุฒ ุงูุขู ๐ </button> <button onclick="scrollToSection('catalog')" class="bg-pink-600 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-pink-700 transition-all"> ูุชุงููุฌ ุงูุดุงุดุงุช ๐ฑ </button> <a href="#" id="whatsapp-hero-btn" class="bg-teal-500 text-white px-8 py-4 rounded-full text-lg font-bold hover:bg-teal-600 transition-all inline-flex items-center gap-2"> ูุงุชุณุงุจ ๐ฌ </a>
     </div>
     <div class="mt-12 bg-white/10 backdrop-blur-sm rounded-2xl p-6 max-w-3xl mx-auto">
      <p class="text-sm font-semibold mb-2">โ ุฑุณูู ุงูุชูุตูู ูุญุณูุจุฉ ุชููุงุฆูุงู ุญุณุจ ุนุฏุฏ ุงูุดุงุดุงุช</p>
      <p class="text-xs opacity-90">๐ก ุฌููุน ุงูุฃุณุนุงุฑ ูุงุจูุฉ ููุชูุงูุถ โ ุฎุตููุงุช ุฐููุฉ ุชููุงุฆูุฉ</p>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Quick Features (ูุนุฏู ุจุฃููููุงุช SVG) -->
  <section class="section-padding" style="background-color: #F5F5F7;">
   <div class="max-w-6xl mx-auto">
    <div class="grid md:grid-cols-3 gap-8">
     
     <!-- ุงูุจุทุงูุฉ ุงูุฃููู: ูุงุฐุง ููุฏูุ -->
     <div class="bg-white p-8 rounded-2xl shadow-lg text-center transition-all duration-300 hover:shadow-2xl hover:-translate-y-2">
      <!-- ุฃููููุฉ ุงุญุชุฑุงููุฉ ุจุฏูุงู ูู Emoji -->
      <div class="w-20 h-20 p-4 mx-auto mb-5 rounded-full text-purple-600 bg-purple-100 flex items-center justify-center">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.39S6.54 9 9 9m9.75-3.612a4.5 4.5 0 0 0-7.798-3.047 4.5 4.5 0 0 0-7.798 3.047 4.5 4.5 0 0 0 7.798 3.047 4.5 4.5 0 0 0 7.798-3.047Zm-12.42 0v5.176c0 .354.09.695.248.99l3.104 3.973c.36.46.94.746 1.559.746h.04c.618 0 1.198-.287 1.559-.746l3.104-3.973A3.75 3.75 0 0 0 18 10.603V6.388Zm0 0h.003v.004h-.003V6.388Zm.75 0v5.176c0 .21.054.41.148.594l3.104 3.973c.216.276.56.438.92.438h.04c.359 0 .703-.162.92-.438l3.104-3.973a2.25 2.25 0 0 0 .148-.594V6.388h-9.75Z" />
       </svg>
      </div>
      <h3 class="text-2xl font-bold mb-3 text-purple-800">ูุงุฐุง ููุฏููุ</h3>
      <p class="text-gray-600 leading-relaxed">ููููุฌุฑุงู ุซูุงุซู ุงูุฃุจุนุงุฏุ ุดุงุดุงุช ุฐููุฉุ 360 Photo Boothุ ุญููุงุช ุชูุงุนููุฉ ูููุงุณ ุงูุฃุซุฑ</p>
     </div>

     <!-- ุงูุจุทุงูุฉ ุงูุซุงููุฉ: ููุงุฐุง ูุญูุ -->
     <div class="bg-white p-8 rounded-2xl shadow-lg text-center transition-all duration-300 hover:shadow-2xl hover:-translate-y-2">
      <!-- ุฃููููุฉ ุงุญุชุฑุงููุฉ ุจุฏูุงู ูู Emoji -->
      <div class="w-20 h-20 p-4 mx-auto mb-5 rounded-full text-blue-600 bg-blue-100 flex items-center justify-center">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
        <path stroke-linecap="round" stroke-linejoin="round" d="m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z" />
       </svg>
      </div>
      <h3 class="text-2xl font-bold mb-3 text-purple-800">ููุงุฐุง ูุญูุ</h3>
      <p class="text-gray-600 leading-relaxed">ุชูููุฐ ููุฏุงูู ุณุฑูุน ุฏุงุฎู ูุณูุทุ ุจุงูุงุช ูุงุถุญุฉุ ุฏุนู ููู ุงุญุชุฑุงูู</p>
     </div>
     
     <!-- ุงูุจุทุงูุฉ ุงูุซุงูุซุฉ: ูุชุงุฆุฌ ูุงุจูุฉ ููููุงุณ -->
     <div class="bg-white p-8 rounded-2xl shadow-lg text-center transition-all duration-300 hover:shadow-2xl hover:-translate-y-2">
      <!-- ุฃููููุฉ ุงุญุชุฑุงููุฉ ุจุฏูุงู ูู Emoji -->
      <div class="w-20 h-20 p-4 mx-auto mb-5 rounded-full text-teal-600 bg-teal-100 flex items-center justify-center">
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12">
        <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
       </svg>
      </div>
      <h3 class="text-2xl font-bold mb-3 text-purple-800">ูุชุงุฆุฌ ูุงุจูุฉ ููููุงุณ</h3>
      <p class="text-gray-600 leading-relaxed">ูุงุฌูุงุช ููุณ/QRุ ุชูุงุฑูุฑ ูุฎุชุตุฑุฉ ุจุนุฏ ุงููุนุงููุฉ</p>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Catalog Section (ูุนุฏู ุจุงูุตูุฑ) -->
  <section id="catalog" class="section-padding bg-white">
   <div class="max-w-7xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-extrabold mb-4">ูุชุงููุฌ ุงูุดุงุดุงุช ๐ฑ</h2>
     <p class="text-xl text-gray-600">ุงุฎุชุฑ ุงูุฌูุงุฒ ุงูููุงุณุจ ููุนุงููุชู</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-2 gap-8" id="devices-container">
     <!-- Device 1 -->
     <div class="device-card card-hover">
      <img src="https://i.ibb.co/G4NmCTrQ/7.png" alt="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ" class="h-56 w-full object-cover">
      <div class="bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white">
       <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ</h3><span class="badge bg-white text-blue-600">ุดุงุดุฉ ุฑูููุฉ</span>
       </div>
       <p class="text-blue-100">HuwiyaTek 32 LED NoNFC View (Digital Notice Board)</p>
      </div>
      <div class="p-6">
       <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
        <div><span class="font-semibold">ุงูููุงุณ:</span> 32โณ</div>
        <div><span class="font-semibold">ุงูุดุงุดุฉ:</span> LED</div>
        <div><span class="font-semibold">ุงูููุณ:</span> ูุนู</div>
        <div><span class="font-semibold">NFC:</span> ูุง</div>
        <div><span class="font-semibold">ุงููุธุงู:</span> Android 11</div>
        <div><span class="font-semibold">ุงูุณุนุฉ:</span> 2+32G</div>
       </div>
       <p class="text-gray-600 mb-4 text-sm"><strong>ุงูุงุณุชุฎุฏุงู ุงููุซุงูู:</strong> ุดุงุดุฉ ุนุฑุถ ุซุงุจุชุฉ ูุนุฑุถ ุงููููุฉ ูุงูุนุฑูุถ ุงูุชุนุฑูููุฉ ูู ุงููุฏุงุฎู ูุงููุนุงุฑุถ ูุงูููุงุชุจ ุงูุฑุณููุฉ</p>
       <div class="flex justify-between items-center mb-4">
        <div>
         <div class="price-tag"> 45 OMR </div>
         <div class="text-sm text-gray-500"> ููู ูุงุญุฏ </div>
        </div>
        <button onclick="addDeviceToSelection('ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ', 45, 350)" class="bg-pink-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transform hover:-translate-y-0.5 hover:shadow-xl transition-all duration-300"> ุฃุถู ููุญุฌุฒ </button>
       </div>
       <div class="bg-blue-50 border border-blue-200 rounded-lg p-3">
        <div class="text-xs text-blue-800 font-semibold mb-1"> ๐ก ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ </div>
        <div class="text-xs text-blue-700"> โข ูู 4 ุฃูุงู: ุฎุตู 15%<br> โข ูู 8 ุฃูุงู: ุฎุตู 50%<br> โข ุงูุณูู ุงูุดูุฑู: 157.50 OMR </div>
       </div>
      </div>
     </div>
     <!-- Device 2 -->
     <div class="device-card card-hover">
      <img src="https://i.ibb.co/vCX4RDc2/5.png" alt="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ" class="h-56 w-full object-cover">
      <div class="bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white">
       <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ</h3><span class="badge bg-white text-purple-600">ุจุทุงุฑูุฉ</span>
       </div>
       <p class="text-purple-100">HuwiyaTek 32 LED NFC Battery (Battery Operated Kiosk)</p>
      </div>
      <div class="p-6">
       <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
        <div><span class="font-semibold">ุงูููุงุณ:</span> 32โณ</div>
        <div><span class="font-semibold">ุงูุดุงุดุฉ:</span> LED</div>
        <div><span class="font-semibold">ุงูููุณ:</span> 10-ููุงุท</div>
        <div><span class="font-semibold">NFC:</span> ูุนู</div>
        <div><span class="font-semibold">ุงููุธุงู:</span> Android 13</div>
        <div><span class="font-semibold">ุงูุจุทุงุฑูุฉ:</span> 8 ุณุงุนุงุช</div>
       </div>
       <p class="text-gray-600 mb-4 text-sm"><strong>ุงูุงุณุชุฎุฏุงู ุงููุซุงูู:</strong> ุดุงุดุฉ ุนุฑุถ ุฐููุฉ ุชุนูู ุจุงูุจุทุงุฑูุฉ ูุชุฏุนู NFCุ ูุซุงููุฉ ููุนุฑูุถ ุงูููุฏุงููุฉ ูุงูุชูุดูุทุงุช ุงูุฎุงุฑุฌูุฉ</p>
       <div class="flex justify-between items-center mb-4">
        <div>
         <div class="price-tag"> 45 OMR </div>
         <div class="text-sm text-gray-500"> ููู ูุงุญุฏ </div>
        </div>
        <button onclick="addDeviceToSelection('ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ', 45, 400)" class="bg-pink-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transform hover:-translate-y-0.5 hover:shadow-xl transition-all duration-300"> ุฃุถู ููุญุฌุฒ </button>
       </div>
       <div class="bg-purple-50 border border-purple-200 rounded-lg p-3">
        <div class="text-xs text-purple-800 font-semibold mb-1"> ๐ก ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ </div>
        <div class="text-xs text-purple-700"> โข ูู 4 ุฃูุงู: ุฎุตู 15%<br> โข ูู 8 ุฃูุงู: ุฎุตู 50%<br> โข ุงูุณูู ุงูุดูุฑู: 180.00 OMR </div>
       </div>
      </div>
     </div>
     <!-- Device 3 -->
     <div class="device-card card-hover">
      <img src="https://i.ibb.co/ynwBJvJB/6.png" alt="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ" class="h-56 w-full object-cover">
      <div class="bg-gradient-to-br from-teal-500 to-teal-600 p-6 text-white">
       <div class="flex justify-between items-start mb-4">
        <h3 class="text-2xl font-bold">ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ</h3><span class="badge bg-white text-teal-600">ุชูุงุนูู</span>
       </div>
       <p class="text-teal-100">LamsaTek 21 LCD NFC Kiosk (K-Type Interactive Kiosk)</p>
      </div>
      <div class="p-6">
       <div class="grid grid-cols-2 gap-4 mb-6 text-sm">
        <div><span class="font-semibold">ุงูููุงุณ:</span> 21.5โณ</div>
        <div><span class="font-semibold">ุงูุดุงุดุฉ:</span> LCD</div>
        <div><span class="font-semibold">ุงูููุณ:</span> ูุนู</div>
        <div><span class="font-semibold">NFC:</span> ูุนู</div>
        <div><span class="font-semibold">ุงููุธุงู:</span> Android 11</div>
        <div><span class="font-semibold">ุงูุณุนุฉ:</span> 2+32G</div>
       </div>
       <p class="text-gray-600 mb-4 text-sm"><strong>ุงูุงุณุชุฎุฏุงู ุงููุซุงูู:</strong> ูุดู ุชูุงุนูู ุจุชุตููู K ุงูุนููุฏูุ ูุฒูุฏ ุจุดุงุดุฉ ููุณ ูNFC ูุฌูุน ุงูุจูุงูุงุช ูุชุณุฌูู ุงูุฒูุงุฑ ุจุทุฑููุฉ ุนุตุฑูุฉ</p>
       <div class="flex justify-between items-center mb-4">
        <div>
         <div class="price-tag"> 50 OMR </div>
         <div class="text-sm text-gray-500"> ููู ูุงุญุฏ </div>
        </div>
        <button onclick="addDeviceToSelection('ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ', 50, 400)" class="bg-teal-600 text-white px-6 py-3 rounded-full font-bold shadow-lg transform hover:-translate-y-0.5 hover:shadow-xl transition-all duration-300"> ุฃุถู ููุญุฌุฒ </button>
       </div>
       <div class="bg-teal-50 border border-teal-200 rounded-lg p-3">
        <div class="text-xs text-teal-800 font-semibold mb-1"> ๐ก ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ </div>
        <div class="text-xs text-teal-700"> โข ูู 4 ุฃูุงู: ุฎุตู 15%<br> โข ูู 8 ุฃูุงู: ุฎุตู 50%<br> โข ุงูุณูู ุงูุดูุฑู: 180.00 OMR </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Packages Section (ูุนุฏู ุจุงููุงูู ูุฅุตูุงุญ ูุดููุฉ ุงูุงุฑุชูุงุน) -->
  <section id="packages" class="section-padding" style="background-color: #F5F5F7;">
   <div class="max-w-6xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-extrabold mb-4">ุงูุจุงูุงุช ุงูุฑุณููุฉ ๐ฆ</h2>
     <p class="text-xl text-gray-600">ุจุงูุงุช ุฌุงูุฒุฉ ุจุฃุณุนุงุฑ ุซุงุจุชุฉ ูุฎุตููุงุช ุฐููุฉ</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
     
     <!-- Essential Plus Package -->
     <!-- ุงูุฎุทูุฉ 1: ุชูุช ุฅุถุงูุฉ 'flex flex-col' ููุง -->
     <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover flex flex-col">
      <div class="text-white p-6 text-center" style="background: linear-gradient(135deg, #00B9A8 0%, #41296D 100%);">
       <div class="w-16 h-16 p-3 mx-auto mb-2 rounded-full bg-white/20 flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-10 h-10">
         <path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-1.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" />
        </svg>
       </div>
       <h3 class="text-2xl font-bold">Essential Plus</h3>
       <p class="opacity-90">ุดุงุดุฉ ุงูุนุฑุถ + ุฅุถุงูุงุช ุฐููุฉ</p>
      </div>
      <!-- ุงูุฎุทูุฉ 2: ุชู ุฅุฒุงูุฉ ุงูุงุฑุชูุงุน ุงูุซุงุจุช ูุฅุถุงูุฉ 'flex-1' -->
      <div class="p-6 flex flex-col flex-1">
       <div class="text-center mb-6">
        <div class="text-4xl font-extrabold mb-2" style="color: #41296D;"> 75-120 OMR </div>
        <div class="text-sm text-gray-400 mt-1"> ููู ูุงุญุฏ (ุญุณุจ ุงูุฅุถุงูุงุช) </div>
       </div>
       <ul class="space-y-3 mb-6">
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุดุงุดุฉ ูุงุญุฏุฉ (ุญุณุจ ุงุฎุชูุงุฑู)</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุตูุญุฉ ุชูุงุนููุฉ HTML ูุฎุตุตุฉ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ููุฏูู ููุดู ุจุงูุดุนุงุฑ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุจุฑุงูุฏูุบ ุงูุฌูุงุฒ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #00B9A8;">โ</span> <span>ุงูุชูุตูู ูุงูุชุฑููุจ ูุฌุงูุงู</span></li>
       </ul>
       <div class="bg-teal-50 border border-teal-200 rounded-lg p-3 mb-4 mt-auto">
        <div class="text-xs text-teal-800 font-semibold mb-1"> ๐ก ุงูุฅุถุงูุงุช ุงููุดูููุฉ </div>
        <div class="text-xs text-teal-700"> โข ุตูุญุฉ HTML: 30-80 OMR<br> โข ููุฏูู ููุดู: 30-60 OMR<br> โข ุจุฑุงูุฏูุบ: 15-25 OMR<br> โข ุฎุตู ุงูุจุงูุฉ: 10% </div>
       </div>
       <button onclick="selectEssentialPlusPackage()" class="w-full text-white py-3 rounded-full font-bold transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5" style="background-color: #00B9A8;" onmouseover="this.style.backgroundColor='#009688'" onmouseout="this.style.backgroundColor='#00B9A8'"> ุงุฎุชุฑ Essential Plus </button>
      </div>
     </div>
     
     <!-- Interactive Pro Package -->
     <!-- ุงูุฎุทูุฉ 1: ุชูุช ุฅุถุงูุฉ 'flex flex-col' ููุง -->
     <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover border-4 flex flex-col" style="border-color: #EC2B84;">
      <div class="text-white p-6 text-center" style="background: linear-gradient(135deg, #EC2B84 0%, #41296D 100%);">
       <div class="w-16 h-16 p-3 mx-auto mb-2 rounded-full bg-white/20 flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-10 h-10">
         <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5h3m-6.75 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-15a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 4.5v15a2.25 2.25 0 0 0 2.25 2.25Z" />
         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M8 15v-2 h1 v-1 h1 v1 h1 v2 Z" /> 
		 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 15v1 M10 15v1" /> 
         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 16v-3 h1 v3 Z" />
		 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M14 14v1 h1 v-1 Z" />


        </svg>
       </div>
       <h3 class="text-2xl font-bold">Interactive Pro</h3>
       <p class="opacity-90">ูุดู ุชูุงุนูู + ุญููู ูุชูุฏูุฉ</p><span class="badge bg-yellow-400 text-yellow-900 mt-2">ุงูุฃูุซุฑ ุทูุจุงู</span>
      </div>
      <!-- ุงูุฎุทูุฉ 2: ุชู ุฅุฒุงูุฉ ุงูุงุฑุชูุงุน ุงูุซุงุจุช ูุฅุถุงูุฉ 'flex-1' -->
      <div class="p-6 flex flex-col flex-1">
       <div class="text-center mb-6">
        <div class="text-4xl font-extrabold mb-2" style="color: #41296D;"> 120-200 OMR </div>
        <div class="text-sm text-gray-400 mt-1"> ููู ูุงุญุฏ (ุญุณุจ ุงูุฅุถุงูุงุช) </div>
       </div>
       <ul class="space-y-3 mb-6">
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุดุงุดุฉ ูุงุญุฏุฉ (ุญุณุจ ุงุฎุชูุงุฑู)</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ูุนุจุฉ ุชูุงุนููุฉ ุฌุงูุฒุฉ APK</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุตูุญุฉ ุฌูุน ุงูุจูุงูุงุช ุงููุชูุฏูุฉ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุชูุฑูุฑ ุงูุจูุงูุงุช ุงูุชูุตููู</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #EC2B84;">โ</span> <span>ุจุฑุงูุฏูุบ ูุงูู ูููุดู</span></li>
        <!-- ููููู ุฅุถุงูุฉ ุงููููุฒุงุช ุงูุฅุถุงููุฉ ููุง ุฅุฐุง ูุงูุช ููุฌูุฏุฉ ูู ุตูุฑุชู -->
       </ul>
       <div class="bg-pink-50 border border-pink-200 rounded-lg p-3 mb-4 mt-auto">
        <div class="text-xs text-pink-800 font-semibold mb-1"> ๐ก ุงูุฅุถุงูุงุช ุงููุดูููุฉ </div>
        <div class="text-xs text-pink-700"> โข ูุนุจุฉ ุฌุงูุฒุฉ: 120-180 OMR<br> โข ุตูุญุฉ ูุชูุฏูุฉ: 50-90 OMR<br> โข ุจุฑุงูุฏูุบ ูุงูู: 25-35 OMR<br> โข ุฎุตู ุงูุจุงูุฉ: 15% </div>
       </div>
       <button onclick="selectInteractiveProPackage()" class="w-full text-white py-3 rounded-full font-bold transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5" style="background-color: #EC2B84;" onmouseover="this.style.backgroundColor='#D91A72'" onmouseout="this.style.backgroundColor='#EC2B84'"> ุงุฎุชุฑ Interactive Pro </button>
      </div>
     </div>
     
     <!-- Premium Complete Package -->
     <!-- ุงูุฎุทูุฉ 1: ุชูุช ุฅุถุงูุฉ 'flex flex-col' ููุง -->
     <div class="bg-white rounded-2xl shadow-lg overflow-hidden card-hover flex flex-col">
      <div class="text-white p-6 text-center" style="background: linear-gradient(135deg, #41296D 0%, #EC2B84 100%);">
       <div class="w-16 h-16 p-3 mx-auto mb-2 rounded-full bg-white/20 flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-10 h-10">
         <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.31h5.513c.473 0 .682.559.342.886l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.021a.562.562 0 0 1-.84.61l-4.725-3.882a.563.563 0 0 0-.652 0l-4.725 3.882a.562.562 0 0 1-.84-.61l1.285-5.021a.563.563 0 0 0-.182-.557l-4.204-3.602a.563.563 0 0 1 .342-.886h5.513a.563.563 0 0 0 .475-.31L11.48 3.5Z" />
        </svg>
       </div>
       <h3 class="text-2xl font-bold">Premium Complete</h3>
       <p class="opacity-90">ุงูุญู ุงูุดุงูู + ุชุตููุฑ ุงุญุชุฑุงูู</p>
      </div>
      <!-- ุงูุฎุทูุฉ 2: ุชู ุฅุฒุงูุฉ ุงูุงุฑุชูุงุน ุงูุซุงุจุช ูุฅุถุงูุฉ 'flex-1' -->
      <div class="p-6 flex flex-col flex-1">
       <div class="text-center mb-6">
        <div class="text-4xl font-extrabold mb-2" style="color: #41296D;"> 180-280 OMR </div>
        <div class="text-sm text-gray-400 mt-1"> ููู ูุงุญุฏ (ุญุณุจ ุงูุฅุถุงูุงุช) </div>
        <div class="text-xs text-purple-600 font-semibold mt-1"> ููุฑ ุญุชู 50 OMR ูุน ุฎุตู ุงูุจุงูุฉ ุงูุดุงููุฉ! </div>
       </div>
       <ul class="space-y-3 mb-6">
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุดุงุดุชุงู (ุญุณุจ ุงุฎุชูุงุฑู)</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ูุนุจุฉ ูุฎุตุตุฉ ุญุณุจ ุงูุทูุจ</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุชุตููุฑ ุงุญุชุฑุงูู + ููุฎุต ููุฏูู</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช</span></li>
        <li class="flex items-start gap-2"><span class="mt-1" style="color: #41296D;">โ</span> <span>ุฏุนู ููู ูุฎุตุต ุจุงูุณุงุนุฉ</span></li>
        <!-- ููููู ุฅุถุงูุฉ ุงููููุฒุงุช ุงูุฅุถุงููุฉ ููุง ุฅุฐุง ูุงูุช ููุฌูุฏุฉ ูู ุตูุฑุชู -->
       </ul>
       <div class="bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4 mt-auto">
        <div class="text-xs text-purple-800 font-semibold mb-1"> ๐ ุงูุฅุถุงูุงุช ุงููุดูููุฉ </div>
        <div class="text-xs text-purple-700"> โข ูุนุจุฉ ูุฎุตุตุฉ: 350+ OMR<br> โข ุชุตููุฑ ุงุญุชุฑุงูู: 65-120 OMR<br> โข ุตูุฑ ูุฎุตุตุฉ: 25-80 OMR<br> โข ุฎุตู ุงูุจุงูุฉ ุงูุดุงููุฉ: 20% </div>
       </div>
       <button onclick="selectPremiumCompletePackage()" class="w-full text-white py-3 rounded-full font-bold transition-all shadow-lg hover:shadow-xl hover:-translate-y-0.5" style="background-color: #41296D;" onmouseover="this.style.backgroundColor='#2F1B4F'" onmouseout="this.style.backgroundColor='#41296D'"> ุงุฎุชุฑ Premium Complete </button>
      </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Add-ons Section (ูุนุฏู ุจุฃููููุงุช SVG) -->
  <!-- Add-ons Section (ูุนุฏู ุจุฃููููุงุช SVG ุงุญุชุฑุงููุฉ) -->
  <section id="addons" class="section-padding bg-white">
   <div class="max-w-6xl mx-auto">
    <div class="text-center mb-16">
     <!-- ุชู ุฅุฒุงูุฉ ุงูู Emoji ููุธูุฑ ุฃูุซุฑ ุงุญุชุฑุงููุฉ -->
     <h2 class="text-4xl md:text-5xl font-extrabold mb-4">ุงูุฅุถุงูุงุช ูุงูุฎุฏูุงุช</h2>
     <p class="text-xl text-gray-600">ุนุฒุฒ ุชุฌุฑุจุชู ุจุฎุฏูุงุช ุฅุถุงููุฉ</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
     
     <!-- ุงูุฅุถุงูุฉ 1: ููุฏูู ููุดู ุฌุงูุฒ -->
     <div class="bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <!-- ุชุตููู ุฃููููุฉ ุฌุฏูุฏ: ุฏุงุฆุฑุฉ ุฎูููุฉ -->
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-orange-100 text-orange-600">
       <!-- ุฃููููุฉ "ูููู" ุฌุฏูุฏุฉ -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-orange-800">ููุฏูู ููุดู ุฌุงูุฒ</h3>
      <p class="text-gray-600 text-sm mb-3">ุชุฎุตูุต ุดุนุงุฑ ููุต</p>
      <div class="text-2xl font-bold text-orange-600"> 30-100 OMR </div>
     </div>
     
     <!-- ุงูุฅุถุงูุฉ 2: ุตูุญุฉ ุชูุงุนููุฉ HTML -->
     <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-blue-100 text-blue-600">
       <!-- ุฃููููุฉ "ูุคุดุฑ" ุฌุฏูุฏุฉ -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.042 21.672L13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM13.684 16.6l-1.92-5.237m1.92 5.237L14.636 21s-1.04-1.001-1.04-1.625c0-.624.507-1.125 1.125-1.125H16.5" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-blue-800">ุตูุญุฉ ุชูุงุนููุฉ HTML</h3>
      <p class="text-gray-600 text-sm mb-3">ุชุณุฌูู/ุงุณุชุจูุงู/ุนุฑุถ</p>
      <div class="text-2xl font-bold text-blue-600"> 30-120 OMR </div>
     </div>
     
     <!-- ุงูุฅุถุงูุฉ 3: ูุนุจุฉ ุฌุงูุฒุฉ APK -->
     <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-green-100 text-green-600">
       <!-- ุชู ุชุบููุฑ ุงูุฃููููุฉ ุฅูู ูุงุชู ุจุฏุงุฎูู ูุนุจุฉ ุฏููุงุตูุฑ -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <!-- Phone Outline -->
        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5h3m-6.75 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-15a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 4.5v15a2.25 2.25 0 0 0 2.25 2.25Z" />
        
        <!-- Dinosaur Game Elements -->
        <!-- Ground -->
        <line x1="7" y1="16" x2="17" y2="16" stroke-width="1" />
        
        <!-- Dino (pixelated) -->
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M8 15v-2 h1 v-1 h1 v1 h1 v2 Z" /> <!-- Body+Head -->
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 15v1 M10 15v1" /> <!-- Legs -->
        
        <!-- Cactus (pixelated) -->
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 16v-3 h1 v3 Z" /> <!-- Main stem -->
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M14 14v1 h1 v-1 Z" /> <!-- Left arm -->
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-green-800">ูุนุจุฉ ุฌุงูุฒุฉ APK</h3>
      <p class="text-gray-600 text-sm mb-3">ูุนุจุฉ ููุงุท/ุณูุงุฑุฉ</p>
      <div class="text-2xl font-bold text-green-600"> 120-250 OMR </div>
     </div>
     
     <!-- ุงูุฅุถุงูุฉ 4: ูุนุจุฉ ูุฎุตุตุฉ -->
     <div class="bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-purple-100 text-purple-600">
       <!-- ุฃููููุฉ "ูุฌูู" ุฌุฏูุฏุฉ -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.452-2.452L14.25 6l1.035-.259a3.375 3.375 0 0 0 2.452-2.452L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.452 2.452L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.452 2.452Z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-purple-800">ูุนุจุฉ ูุฎุตุตุฉ</h3>
      <p class="text-gray-600 text-sm mb-3">ุจุฑูุฌุฉ ุญุณุจ ุงูููุฑุฉ</p>
      <div class="text-2xl font-bold text-purple-600"> ูู 350 OMR </div>
     </div>
     
     <!-- ุงูุฅุถุงูุฉ 5: ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ -->
     <div class="bg-gradient-to-br from-pink-50 to-pink-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-pink-100 text-pink-600">
       <!-- ุชู ุงูุชุบููุฑ: ุฃููููุฉ ุฏุงุฆุฑุฉ ุจุฏุงุฎููุง ุญุฑู M -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <!-- ุงูุฏุงุฆุฑุฉ -->
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z" />
        <!-- ุญุฑู M -->
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 15V9l3 4 3-4v6" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-pink-800">ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ</h3>
      <p class="text-gray-600 text-sm mb-3">ูููุฉ ุนูู ุงููููู</p>
      <div class="text-2xl font-bold text-pink-600"> 15-35 OMR </div>
     </div>
     
     <!-- ุงูุฅุถุงูุฉ 6: ุชุตููุฑ ุงุญุชุฑุงูู -->
     <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-yellow-100 text-yellow-600">
       <!-- ุฃููููุฉ "ูุงููุฑุง" (ููุชุงุฒุฉ) -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.174C2.999 7.58 2.25 8.507 2.25 9.574v9.574c0 1.066.75 1.994 1.802 2.169a47.865 47.865 0 0 0 1.134.174 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316a2.31 2.31 0 0 1-1.64 1.055 47.865 47.865 0 0 0 1.134-.174A2.25 2.25 0 0 0 21.75 19.148v-9.574c0-1.066-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.174 2.31 2.31 0 0 1-1.64 1.055l-.822 1.316a2.192 2.192 0 0 0-1.736 1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736-1.039l-.821-1.316Z" />
         <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-yellow-800">ุชุตููุฑ ุงุญุชุฑุงูู</h3>
      <p class="text-gray-600 text-sm mb-3">ููุชู/ููุฏูู + ููุฎุต</p>
      <div class="text-2xl font-bold text-yellow-600"> 65-120 OMR </div>
     </div>
     
     <!-- ุงูุฅุถุงูุฉ 7: ุตูุฑ ูุฎุตุตุฉ -->
     <div class="bg-gradient-to-br from-indigo-50 to-indigo-100 p-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:-translate-y-1 text-center">
      <div class="w-20 h-20 p-4 mx-auto mb-4 rounded-full flex items-center justify-center bg-indigo-100 text-indigo-600">
       <!-- ุฃููููุฉ "ุตูุฑุฉ" (ููุชุงุฒุฉ) -->
       <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm1.5-6.75h.008v.008H5.25v-.008Z" />
       </svg>
      </div>
      <h3 class="text-xl font-bold mb-2 text-indigo-800">ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช</h3>
      <p class="text-gray-600 text-sm mb-3">ุชุตููู/ุชุญุฑูุฑ ุญุณุจ ุงูููุงุณ</p>
      <div class="text-2xl font-bold text-indigo-600"> 25-80 OMR </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Booking Form Section (ูุนุฏู ุจุชุตููู ุงุญุชุฑุงูู) -->
  <section id="booking" class="section-padding bg-gray-50">
   <div class="max-w-7xl mx-auto">
    <div class="text-center mb-12">
     <h2 class="text-4xl md:text-5xl font-extrabold mb-4">ุงุญุฌุฒ ุงูุขู ๐</h2>
     <p class="text-xl text-gray-600">ุงุฎุชุฑ ุฃุฌูุฒุชูุ ุญุฏูุฏ ุงูุชุงุฑูุฎ ูุงูููุช ูุงููููุนุ ูุณูุคูุฏ ูู ุงูุชููุฑ ุฎูุงู ุณุงุนุงุช ุงูุนูู</p>
     <div class="mt-6"><button onclick="toggleBookingHistory()" id="history-toggle-btn" class="bg-white text-purple-600 px-6 py-3 rounded-full font-bold hover:bg-gray-100 transition-all shadow-lg"> ุนุฑุถ ุณุฌู ุงูุญุฌูุฒุงุช ุงูุณุงุจูุฉ ๐ (<span id="bookings-count">0</span>) </button>
     </div>
     <div id="booking-history" class="hidden mt-8 bg-white rounded-3xl shadow-2xl p-6">
      <div class="flex justify-between items-center mb-6">
       <h3 class="text-2xl font-bold text-purple-900">ุณุฌู ุงูุญุฌูุฒุงุช ุงูุณุงุจูุฉ ๐</h3><button onclick="toggleBookingHistory()" class="text-gray-500 hover:text-gray-700 text-2xl">โ</button>
      </div>
      <div id="bookings-list" class="space-y-4 max-h-96 overflow-y-auto">
       <!-- ุณูุชู ููุก ุงูุญุฌูุฒุงุช ููุง -->
      </div>
     </div>
    </div>
    
    <div class="grid lg:grid-cols-3 gap-8"><!-- Main Form (ูุนุฏู ุจุชุตููู ููุณูู) -->
     <div class="lg:col-span-2">
      <form id="booking-form" class="space-y-4">
       
       <!-- ุงูุฎุทูุฉ 1: ุชูุงุตูู ุงููุนุงููุฉ -->
       <details class="border rounded-2xl p-6 bg-white shadow-lg" open>
        <summary class="text-2xl font-bold text-purple-900 cursor-pointer">
         ุฃ. ุชูุงุตูู ุงููุนุงููุฉ
        </summary>
        <div class="mt-6 space-y-6 border-t pt-6">
         <div class="mb-6"><label class="block text-sm font-bold mb-2" for="event-type">ููุน ุงููุนุงููุฉ *</label> <select id="event-type" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all"> <option value="">ุงุฎุชุฑ ููุน ุงููุนุงููุฉ</option> <option value="ูุนุฑุถ">ูุนุฑุถ</option> <option value="ูุคุชูุฑ">ูุคุชูุฑ</option> <option value="ุชุฏุดูู">ุชุฏุดูู</option> <option value="ูุชุฌุฑ">ูุชุฌุฑ</option> <option value="ุฎุงุต">ุฎุงุต</option> </select>
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2" for="event-location">ุงููุฏููุฉ/ุงููููุน *</label> <input type="text" id="event-location" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ูุณูุทุ ุนููุงู">
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2">ุฏุงุฎู ูุณูุทุ *</label>
          <div class="flex gap-4"><label class="flex items-center"> <input type="radio" name="inside-muscat" value="yes" id="inside-muscat-yes" class="ml-2" onchange="toggleDistanceField()"> <span>ูุนู</span> </label> <label class="flex items-center"> <input type="radio" name="inside-muscat" value="no" id="inside-muscat-no" class="ml-2" onchange="toggleDistanceField()"> <span>ูุง</span> </label>
          </div>
         </div>
         <div id="distance-field" class="mb-6 hidden"><label class="block text-sm font-bold mb-2" for="distance-km">ุงููุณุงูุฉ ุงูุชูุฏูุฑูุฉ ูู ูุณูุท (ูู)</label> <input type="number" id="distance-km" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ูุซุงู: 150">
          <p class="text-sm text-gray-500 mt-1">ุณูุชู ุฅุถุงูุฉ 0.25-0.35 OMR/ูู + ุจุฏู ุณูู ูููุฑูู ุฅู ูุฒู</p>
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2">ุชูููุฑ ุงูููุฑุจุงุก *</label>
          <div class="flex gap-4 pt-3"><label class="flex items-center"> <input type="radio" name="electricity" value="yes" id="electricity-yes" class="ml-2" onchange="toggleBatteryRecommendation()"> <span>ูุนู</span> </label> <label class="flex items-center"> <input type="radio" name="electricity" value="no" id="electricity-no" class="ml-2" onchange="toggleBatteryRecommendation()"> <span>ูุง</span> </label>
          </div>
         </div>
         <div id="battery-recommendation" class="bg-yellow-50 border border-yellow-200 rounded-xl p-4 hidden">
          <div class="flex items-start gap-3"><span class="text-2xl">๐ก</span>
           <div>
            <h4 class="font-bold text-yellow-800">ุชูุตูุฉ ุฐููุฉ</h4>
            <p class="text-yellow-700">ุจูุง ุฃู ุงูููุฑุจุงุก ุบูุฑ ูุชููุฑุฉุ ููุตุญ ุจุฌูุงุฒ HTek 32 NFC (ุจุทุงุฑูุฉ) ุงูุฐู ูุนูู ููุฏุฉ 8 ุณุงุนุงุช ูุชูุงุตูุฉ</p>
           </div>
          </div>
         </div>
        </div>
       </details>

       <!-- ุงูุฎุทูุฉ 2: ุงูุฃุฌูุฒุฉ ุงููุฎุชุงุฑุฉ -->
       <details class="border rounded-2xl p-6 bg-white shadow-lg">
        <summary class="text-2xl font-bold text-purple-900 cursor-pointer">
         ุจ. ุงูุฃุฌูุฒุฉ ุงููุฎุชุงุฑุฉ
        </summary>
        <div class="mt-6 space-y-4 border-t pt-6">
         <div class="border border-gray-200 rounded-xl p-4">
          <div class="flex justify-between items-center mb-3"><label class="flex items-center"> <input type="checkbox" class="device-checkbox ml-3" data-device="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ" data-price="45" data-base-price="350"> <span class="font-bold">ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ</span> </label> <span class="text-purple-600 font-bold">45 OMR/ููู</span>
          </div>
          <div class="flex items-center gap-4"><label class="text-sm">ุงููููุฉ:</label> <input type="number" class="device-quantity w-20 px-2 py-1 border border-gray-300 rounded" min="0" max="10" value="0" data-device="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ"> <label class="text-sm">ุนุฏุฏ ุงูุฃูุงู:</label> <input type="number" class="device-days w-20 px-2 py-1 border border-gray-300 rounded" min="1" max="30" value="1" data-device="ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ">
          </div>
         </div>
         <div class="border border-gray-200 rounded-xl p-4">
          <div class="flex justify-between items-center mb-3"><label class="flex items-center"> <input type="checkbox" class="device-checkbox ml-3" data-device="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ" data-price="45" data-base-price="400"> <span class="font-bold">ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ (ุจุทุงุฑูุฉ)</span> </label> <span class="text-purple-600 font-bold">45 OMR/ููู</span>
          </div>
          <div class="flex items-center gap-4"><label class="text-sm">ุงููููุฉ:</label> <input type="number" class="device-quantity w-20 px-2 py-1 border border-gray-300 rounded" min="0" max="10" value="0" data-device="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ"> <label class="text-sm">ุนุฏุฏ ุงูุฃูุงู:</label> <input type="number" class="device-days w-20 px-2 py-1 border border-gray-300 rounded" min="1" max="30" value="1" data-device="ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ">
          </div>
         </div>
         <div class="border border-gray-200 rounded-xl p-4">
          <div class="flex justify-between items-center mb-3"><label class="flex items-center"> <input type="checkbox" class="device-checkbox ml-3" data-device="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ" data-price="50" data-base-price="400"> <span class="font-bold">ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ</span> </label> <span class="text-purple-600 font-bold">50 OMR/ููู</span>
          </div>
          <div class="flex items-center gap-4"><label class="text-sm">ุงููููุฉ:</label> <input type="number" class="device-quantity w-20 px-2 py-1 border border-gray-300 rounded" min="0" max="10" value="0" data-device="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ"> <label class="text-sm">ุนุฏุฏ ุงูุฃูุงู:</label> <input type="number" class="device-days w-20 px-2 py-1 border border-gray-300 rounded" min="1" max="30" value="1" data-device="ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู ุจุงูููุณ">
          </div>
         </div>
        </div>
       </details>

       <!-- ุงูุฎุทูุฉ 3: ุงูุฅุถุงูุงุช -->
       <details class="border rounded-2xl p-6 bg-white shadow-lg">
        <summary class="text-2xl font-bold text-purple-900 cursor-pointer">
         ุฌ. ุงูุฅุถุงูุงุช
        </summary>
        <div class="mt-6 grid md:grid-cols-2 gap-4 border-t pt-6">
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุตูุญุฉ ุชูุงุนููุฉ HTML">
          <div class="flex-1"><span class="font-semibold">ุตูุญุฉ ุชูุงุนููุฉ HTML</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ููุฏูู ููุดู">
          <div class="flex-1"><span class="font-semibold">ููุฏูู ููุดู</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ูุนุจุฉ ุฌุงูุฒุฉ">
          <div class="flex-1"><span class="font-semibold">ูุนุจุฉ ุฌุงูุฒุฉ APK</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ">
          <div class="flex-1"><span class="font-semibold">ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุชุตููุฑ ุงุญุชุฑุงูู">
          <div class="flex-1"><span class="font-semibold">ุชุตููุฑ ุงุญุชุฑุงูู</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุฏุนู ููู ุจุงูุณุงุนุฉ">
          <div class="flex-1"><span class="font-semibold">ุฏุนู ููู ุจุงูุณุงุนุฉ</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
         <label class="flex items-center p-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer"> <input type="checkbox" class="addon-checkbox ml-3" data-addon="ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช">
          <div class="flex-1"><span class="font-semibold">ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช</span>
           <div class="text-sm text-blue-600 font-semibold"> ุณุนุฑ ุญุณุจ ุงูุทูุจ </div>
          </div></label>
        </div>
       </details>
       
       <!-- ุงูุฎุทูุฉ 4: ุงูุจูุงูุงุช -->
       <details class="border rounded-2xl p-6 bg-white shadow-lg">
        <summary class="text-2xl font-bold text-purple-900 cursor-pointer">
         ุฏ. ุงูุจูุงูุงุช
        </summary>
        <div class="mt-6 space-y-6 border-t pt-6">
         <div class="grid md:grid-cols-2 gap-6 mb-6">
          <div><label class="block text-sm font-bold mb-2" for="customer-name">ุงูุงุณู ุงูุซูุงุซู / ุงูุฌูุฉ *</label> <input type="text" id="customer-name" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all">
          </div>
          <div><label class="block text-sm font-bold mb-2" for="customer-phone">ุฑูู ุงูุฌูุงู *</label> <input type="tel" id="customer-phone" required class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="+968">
          </div>
         </div>
         <div class="mb-6"><label class="block text-sm font-bold mb-2" for="customer-email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ุงุฎุชูุงุฑู)</label> <input type="email" id="customer-email" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ููุญุตูู ุนูู ูุณุฎุฉ ูู ุงูุทูุจ">
         </div>
         <div><label class="block text-sm font-bold mb-2" for="notes">ููุงุญุธุงุช ุฅุถุงููุฉ</label> <textarea id="notes" rows="4" class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ุฃู ุชูุงุตูู ุฅุถุงููุฉ ุนู ุงููุนุงููุฉ..."></textarea>
         </div>
        </div>
       </details>

      </form>
     </div>
     
     <!-- Sidebar Summary (ูุนุฏู ุจุชุฃุซูุฑ ุฒุฌุงุฌู) -->
     <div class="lg:col-span-1">
      <div class="bg-white/10 backdrop-blur-xl border border-white/20 shadow-[0_10px_40px_rgba(0,0,0,0.15)] rounded-3xl p-6 sticky top-24">
       <h3 class="text-2xl font-bold mb-6 text-purple-900">ููุฎูุต ููุฑู ๐</h3>
       <div id="booking-summary" class="space-y-4 mb-6">
        <div class="text-center text-gray-400 py-8">
         <div class="text-4xl mb-2">
          ๐ฑ
         </div>
         <p>ุงุฎุชุฑ ุงูุฃุฌูุฒุฉ ูุฑุคูุฉ ุงูููุฎุต</p>
        </div>
       </div>
	   
       <!-- ููุฏ ุงูุฎุตู -->
       <div class="border-t pt-4 mb-4">
        <label for="discount-code" class="block text-sm font-bold mb-2 text-gray-700">ูู ูุฏูู ููุฏ ุฎุตูุ</label>
        <div class="flex gap-2">
         <input type="text" id="discount-code" class="w-full px-3 py-2 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" placeholder="ุงุฏุฎู ููุฏ ุงูุฎุตู">
         <button type="button" onclick="applyDiscount()" class="bg-purple-600 text-white px-4 rounded-xl font-bold hover:bg-purple-700 transition-all text-sm whitespace-nowrap">
          ุชุทุจูู
         </button>
        </div>
        <div id="discount-message" class="text-xs mt-2 font-semibold"></div>
       </div>
       <!-- /ููุฏ ุงูุฎุตู -->

       <div class="border-t pt-4 space-y-3">
        <!-- ุตู ุงูุฎุตู -->
        <div id="discount-row" class="hidden flex justify-between text-lg font-bold text-green-600">
         <span>ุฎุตู:</span>
         <span id="discount-amount">-0 OMR</span>
        </div>
        <!-- /ุตู ุงูุฎุตู -->
        <div class="flex justify-between text-lg font-bold"><span>ุงูุฅุฌูุงูู ุงููุณุชุญู:</span> <span class="text-purple-600" id="sidebar-total">0 OMR</span>
        </div>
        <p class="text-xs text-gray-500 mt-2">โ ุฑุณูู ุงูุชูุตูู ุญุณุจ ุนุฏุฏ ุงูุดุงุดุงุช โข ุงูุฃุณุนุงุฑ ูุงุจูุฉ ููุชูุงูุถ</p>
       </div>
	   
	   <!-- ูุณู ูุทุงูุจุฉ ุงูุฎุตููุงุช ุงูุฎุงุตุฉ -->
       <div class="bg-gradient-to-r from-green-50 to-blue-50 border-2 border-dashed border-green-300 rounded-2xl p-4 my-6">
        <div class="text-center mb-3">
         <div class="text-2xl mb-2">
          ๐๐
         </div>
         <h4 class="font-bold text-green-800 mb-2">ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต</h4>
         <p class="text-xs text-green-700">ููุทูุงุจ ูุงูุฌูุงุช ุงูุฎูุฑูุฉ ูุงููุคุณุณุงุช ุบูุฑ ุงูุฑุจุญูุฉ</p>
        </div>
        <div class="space-y-2 mb-4"><label class="flex items-center p-2 bg-white rounded-lg cursor-pointer hover:bg-gray-50"> <input type="checkbox" id="student-discount" class="ml-2" onchange="handleSpecialDiscountRequest()">
          <div class="flex-1"><span class="font-semibold text-sm">๐ ุทุงูุจ ุฌุงูุนู</span>
           <div class="text-xs text-blue-600">
            ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต ููุทูุงุจ
           </div>
          </div></label> <label class="flex items-center p-2 bg-white rounded-lg cursor-pointer hover:bg-gray-50"> <input type="checkbox" id="charity-discount" class="ml-2" onchange="handleSpecialDiscountRequest()">
          <div class="flex-1"><span class="font-semibold text-sm">๐ ุฌูุฉ ุฎูุฑูุฉ/ุบูุฑ ุฑุจุญูุฉ</span>
           <div class="text-xs text-green-600">
            ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต ููุฌูุงุช ุงูุฎูุฑูุฉ
           </div>
          </div></label>
        </div>
        <div id="special-discount-request" class="hidden bg-white border border-orange-200 rounded-lg p-3">
         <div class="text-sm font-bold text-orange-800 mb-3">
          ๐ ุณุจุจ ูุทุงูุจุชู ุจุงูุฎุตู:
         </div><textarea id="discount-reason" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-orange-500 focus:outline-none" placeholder="ูุซุงู: ุทุงูุจ ูู ุฌุงูุนุฉ ุงูุณูุทุงู ูุงุจูุณุ ูููุฉ ุงูููุฏุณุฉุ ุฃุญุชุงุฌ ุงูุฃุฌูุฒุฉ ููุดุฑูุน ุงูุชุฎุฑุฌ..."></textarea>
         <div class="text-xs text-orange-700 mt-2 font-semibold">
          ๐ก ุณูุชู ุชูุฌูู ูุทุงูุจุชู ุฅูู ูุฑูููุง ูุฏุฑุงุณุชูุง ูุณูุนูุฏ ุฅููู ุจุงูุฑุฏ
         </div>
        </div>
       </div>
       <div class="mt-6 space-y-3">
        <div class="text-center mb-4">
         <h4 class="font-bold text-purple-900 mb-2">ุงุฎุชุฑ ุทุฑููุฉ ุงูุฅุฑุณุงู:</h4>
         <p class="text-sm text-gray-600">ููููู ุฅุฑุณุงู ุทูุจู ุจุฅุญุฏู ุงูุทุฑููุชูู</p>
        </div><button type="button" id="email-submit-btn" class="w-full text-white py-3 rounded-full font-bold transition-all shadow-lg flex items-center justify-center gap-2" style="background: linear-gradient(135deg, #EC2B84 0%, #41296D 100%);"> <span>ุฅุฑุณุงู ุนุจุฑ ุงูุฅูููู (ุฎุงุต)</span> <span>๐ง</span> </button> <button type="button" id="whatsapp-submit-btn" class="w-full bg-green-500 text-white py-3 rounded-full font-bold hover:bg-green-600 transition-all flex items-center justify-center gap-2"> <span>ุฅุฑุณุงู ุนุจุฑ ุงููุงุชุณุงุจ</span> <span>๐ฌ</span> </button>
        <p class="text-xs text-gray-500 text-center mt-3">๐ ุงูุฅูููู: ุฎุตูุตูุฉ ูุงููุฉ | ๐ฌ ุงููุงุชุณุงุจ: ุชูุงุตู ูุจุงุดุฑ</p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- FAQ Section -->
  <section id="faq" class="section-padding bg-white">
   <div class="max-w-4xl mx-auto">
    <div class="text-center mb-16">
     <h2 class="text-4xl md:text-5xl font-extrabold mb-4">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ โ</h2>
    </div>
    <div class="space-y-4">
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ููุฌุฏ ุฎุตููุงุช ุนูู ุงูุทูุจุงุชุ</summary>
      <p class="mt-4 text-gray-600">ูุนู! ูุทุจู ุฎุตููุงุช ุฐููุฉ ุชููุงุฆูุฉ: ุฎุตู ุงูุฃุฌูุฒุฉ ุงููุชุนุฏุฏุฉุ ุฎุตู ุงูุฅุถุงูุงุชุ ุฎุตู ุงูุฃูุงู ุงููุชุนุฏุฏุฉุ ูุนุฑูุถ ุฎุงุตุฉ ุญุณุจ ุงุฎุชูุงุฑุงุชู.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ุงูุชูุตูู ูุงูุชุฑููุจ ูุดูููุงูุ</summary>
      <p class="mt-4 text-gray-600">ุฏุงุฎู ูุณูุท โค30 ูู ูุนู. ุฎุงุฑุฌูุง ุชูุญุณุจ 0.25โ0.35 OMR/ูู + ุจุฏู ุณูู ูููุฑูู ุฅู ูุฒู.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูุง ุตูุบ ุงููุญุชูู ุงูููุงุณุจุฉ ููุดุงุดุงุชุ</summary>
      <p class="mt-4 text-gray-600">MP4 (ุญุณุจ ุงุชุฌุงู ุงูุฌูุงุฒ) ุฃู HTML/ุตูุฑ. ูุณุงุนุฏ ูู ูุทุงุจูุฉ ุงูููุงุณุงุช.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ูููู ุงูุญุตูู ุนูู ุชูุฑูุฑ ุจูุงูุงุชุ</summary>
      <p class="mt-4 text-gray-600">ุนูุฏ ุงุณุชุฎุฏุงู ุงูููุงุฐุฌ/ุงูููุณ/QR ููููุฑ ููููุง ูุฎุชุตุฑูุง ุจุงููุคุดุฑุงุช.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูุง ุณูุงุณุฉ ุงูุฏูุน ูุงูุฅูุบุงุกุ</summary>
      <p class="mt-4 text-gray-600">50% ุนูุฏ ุงูุญุฌุฒ ู50% ูุจู ุงููุนุงููุฉ. ุงูุฅูุบุงุก: โฅ7 ุฃูุงู (10%)ุ 3โ6 ุฃูุงู (30%)ุ &lt;72 ุณุงุนุฉ (50%)ุ &lt;24 ุณุงุนุฉ (80โ100%).</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูุงุฐุง ูู ุญุฏุซ ุนุทูุ</summary>
      <p class="mt-4 text-gray-600">ุจุฏูู ููุฑู ุฅู ุฃููู ุฃู ุชุนููุถ ูุณุจู ุญุณุจ ุณูุงุณุฉ ุงูุถูุงู.</p>
     </details>
     <details class="bg-gray-50 rounded-2xl p-6 cursor-pointer"><summary class="font-bold text-lg">ูู ูููู ุชูุฏูุฏ ุณุงุนุงุช 360ุ</summary>
      <p class="mt-4 text-gray-600">ูุนู ุจุฅุถุงูุฉ ุณุงุนุงุช ุถูู ุงูุฏุนู ุจุงูุณุงุนุฉ.</p>
     </details>
    </div>
   </div>
  </section>
  
  <!-- Floating Chat Button -->
  <div id="floating-chat-btn" class="fixed bottom-6 left-6 z-50"><button onclick="toggleFloatingChat()" class="w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center text-2xl animate-pulse"> ๐ค </button>
   <div class="absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center"><span class="w-3 h-3 bg-white rounded-full animate-ping"></span>
   </div>
  </div><!-- Floating Chat Window -->
  <div id="floating-chat-window" class="fixed bottom-24 left-6 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-3xl shadow-2xl z-50 hidden">
   <div class="flex items-center gap-3 p-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-t-3xl">
    <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-lg">
     ๐ค
    </div>
    <div class="flex-1">
     <h3 class="font-bold">ุนุงุฑู - ุงููุณุงุนุฏ ุงูุฐูู</h3>
     <p class="text-xs opacity-90">ูุชุฎุตุต ูู ุญููู ุงูุนุฑุถ</p>
    </div><button onclick="toggleFloatingChat()" class="text-white/80 hover:text-white text-xl">โ</button>
   </div>
   <div class="p-4"><!-- Chat Messages -->
    <div id="floating-chat-messages" class="space-y-3 mb-4 max-h-64 overflow-y-auto">
     <div class="flex gap-2">
      <div class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-white text-xs">
       ๐ค
      </div>
      <div class="bg-purple-50 rounded-2xl rounded-tl-sm p-3 max-w-xs">
       <p class="text-sm">ูุฑุญุจุงู! ุฃูุง ุนุงุฑู ๐ ููู ูููููู ูุณุงุนุฏุชู ุงููููุ</p>
      </div>
     </div>
    </div><!-- Quick Questions -->
    <div class="mb-3">
     <div class="flex flex-wrap gap-1 mb-3"><button onclick="askFloatingQuestion('ูุง ูู ุงูุจุฑุงูุฏูุบุ')" class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs hover:bg-blue-200 transition-all"> ุงูุจุฑุงูุฏูุบุ </button> <button onclick="askFloatingQuestion('ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ')" class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs hover:bg-green-200 transition-all"> ุดุงุดุฉ ูุนุฑุถ </button> <button onclick="askFloatingQuestion('ูู ุชูููุฉ ุงูุชุตููุฑุ')" class="bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs hover:bg-orange-200 transition-all"> ุชูููุฉ ุงูุชุตููุฑุ </button>
     </div>
    </div><!-- Chat Input -->
    <div class="flex gap-2"><input type="text" id="floating-chat-input" placeholder="ุงูุชุจ ุณุคุงูู..." class="flex-1 px-3 py-2 border border-gray-200 rounded-xl text-sm focus:border-purple-500 focus:outline-none" onkeypress="handleFloatingChatKeyPress(event)"> <button onclick="sendFloatingChatMessage()" class="bg-purple-600 text-white px-4 py-2 rounded-xl text-sm font-bold hover:bg-purple-700 transition-all"> ุฅุฑุณุงู </button>
    </div>
   </div>
  </div>
  
  <!-- Smart Assistant Section -->
  <section id="smart-assistant" class="section-padding bg-gradient-to-br from-indigo-50 to-purple-50">
   <div class="max-w-6xl mx-auto">
    <div class="text-center mb-12">
     <h2 class="text-4xl md:text-5xl font-extrabold mb-4">ุงููุณุงุนุฏ ุงูุฐูู ุนุงุฑู ๐ค</h2>
     <p class="text-xl text-gray-600">ุงุณุฃู ุนุงุฑู ุฃู ุณุคุงู ูุณููุฏู ูู ุงูุชุฑุงุญุงุช ูุฎุตุตุฉ ููุนุงููุชู</p>
    </div>
    <div class="grid lg:grid-cols-3 gap-8"><!-- Smart Assistant Chat -->
     <div class="lg:col-span-2">
      <div class="bg-white rounded-3xl shadow-2xl p-6">
       <div class="flex items-center gap-3 mb-6 pb-4 border-b">
        <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white text-xl">
         ๐ค
        </div>
        <div>
         <h3 class="text-xl font-bold text-purple-900">ุนุงุฑู - ุงููุณุงุนุฏ ุงูุฐูู</h3>
         <p class="text-sm text-gray-500">ูุชุฎุตุต ูู ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู</p>
        </div>
        <div class="mr-auto"><span class="inline-block w-3 h-3 bg-green-500 rounded-full animate-pulse"></span> <span class="text-xs text-green-600 font-semibold mr-1">ูุชุตู</span>
        </div>
       </div><!-- Chat Messages -->
       <div id="chat-messages" class="space-y-4 mb-6 max-h-96 overflow-y-auto">
        <div class="flex gap-3">
         <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm">
          ๐ค
         </div>
         <div class="bg-purple-50 rounded-2xl rounded-tl-sm p-4 max-w-md">
          <p class="text-sm">ูุฑุญุจุงู! ุฃูุง ุนุงุฑูุ ูุณุงุนุฏู ุงูุฐูู ูู EventPlus ๐</p>
          <p class="text-sm mt-2">ุฃุฎุจุฑูู ุนู ูุนุงููุชู ูุณุฃูุฏู ูู ุฃูุถู ุงูุงูุชุฑุงุญุงุช ุงููุฎุตุตุฉ!</p>
         </div>
        </div>
       </div><!-- Quick Questions -->
       <div class="mb-4">
        <p class="text-sm font-semibold text-gray-700 mb-3">ุฃุณุฆูุฉ ุณุฑูุนุฉ:</p>
        <div class="flex flex-wrap gap-2"><button onclick="askQuickQuestion('ูุง ูู ุงูุจุฑุงูุฏูุบุ')" class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs hover:bg-blue-200 transition-all"> ูุง ูู ุงูุจุฑุงูุฏูุบุ </button> <button onclick="askQuickQuestion('ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ')" class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs hover:bg-green-200 transition-all"> ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ </button> <button onclick="askQuickQuestion('ูุง ุงููุฑู ุจูู ุงูุฃุฌูุฒุฉุ')" class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-xs hover:bg-purple-200 transition-all"> ูุง ุงููุฑู ุจูู ุงูุฃุฌูุฒุฉุ </button> <button onclick="askQuickQuestion('ูู ุชูููุฉ ุงูุชุตููุฑุ')" class="bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-xs hover:bg-orange-200 transition-all"> ูู ุชูููุฉ ุงูุชุตููุฑุ </button>
        </div>
       </div><!-- Chat Input -->
       <div class="flex gap-3"><input type="text" id="chat-input" placeholder="ุงูุชุจ ุณุคุงูู ููุง..." class="flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-all" onkeypress="handleChatKeyPress(event)"> <button onclick="sendChatMessage()" class="bg-purple-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-purple-700 transition-all"> ุฅุฑุณุงู </button>
       </div>
      </div>
     </div><!-- Wasl AI Card -->
     <div class="lg:col-span-1">
      <div class="bg-white rounded-3xl shadow-2xl p-6 h-fit">
       <div class="text-center mb-6">
        <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-white text-2xl mx-auto mb-4">
         ๐ง
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">ุจุทุงูุฉ Wasl AI ุงูุฐููุฉ</h3>
        <p class="text-sm text-gray-600">ุชุนุฑูู ุนูููุง ุฃูุซุฑ ูู ุฎูุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู</p>
       </div>
       <div class="space-y-4 mb-6">
        <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-xl"><span class="text-blue-600">๐ฏ</span>
         <div>
          <p class="font-semibold text-sm">ุชุญููู ุฐูู ููุงุญุชูุงุฌุงุช</p>
          <p class="text-xs text-gray-600">ูููู ูุชุทูุจุงุชู ุจุฏูุฉ</p>
         </div>
        </div>
        <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-xl"><span class="text-purple-600">๐ก</span>
         <div>
          <p class="font-semibold text-sm">ุงูุชุฑุงุญุงุช ูุฎุตุตุฉ</p>
          <p class="text-xs text-gray-600">ุญููู ูุจุชูุฑุฉ ููู ูุนุงููุฉ</p>
         </div>
        </div>
        <div class="flex items-center gap-3 p-3 bg-green-50 rounded-xl"><span class="text-green-600">โก</span>
         <div>
          <p class="font-semibold text-sm">ุงุณุชุฌุงุจุฉ ููุฑูุฉ</p>
          <p class="text-xs text-gray-600">ุฅุฌุงุจุงุช ุณุฑูุนุฉ ูุฏูููุฉ</p>
         </div>
        </div>
       </div><a href="https://eventplus.wsal.ai/" target="_blank" rel="noopener noreferrer" class="block w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white text-center py-3 rounded-xl font-bold hover:from-blue-700 hover:to-purple-700 transition-all"> ุงูุชุดู Wasl AI ๐ </a>
       <p class="text-xs text-gray-500 text-center mt-3">ููุตุฉ ุฐููุฉ ูุชุทูุฑุฉ ูููู ุงุญุชูุงุฌุงุชู ุงูุชูููุฉ</p>
      </div>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Contact Section -->
  <section id="contact" class="section-padding gradient-bg text-white">
   <div class="max-w-4xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-black mb-6">ุชูุงุตู ูุนูุง ๐</h2>
    <p class="text-xl mb-10 opacity-95">ูุญู ููุง ููุฅุฌุงุจุฉ ุนูู ุฌููุน ุงุณุชูุณุงุฑุงุชู</p>
    <div class="grid md:grid-cols-2 gap-8 mb-10">
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8">
      <div class="text-4xl mb-4">
       ๐ฌ
      </div>
      <h3 class="text-2xl font-bold mb-3">ูุงุชุณุงุจ</h3>
      <p class="mb-4 opacity-90" id="whatsapp-display">+968 XXXX XXXX</p><a href="#" id="whatsapp-contact-btn" class="inline-block bg-green-500 text-white px-6 py-3 rounded-full font-bold hover:bg-green-600 transition-all"> ุชูุงุตู ุงูุขู </a>
     </div>
     <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8">
      <div class="text-4xl mb-4">
       ๐ง
      </div>
      <h3 class="text-2xl font-bold mb-3">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</h3>
      <p class="mb-4 opacity-90" id="email-display">info@eventplus.om</p><a href="#" id="email-contact-btn" class="inline-block bg-blue-500 text-white px-6 py-3 rounded-full font-bold hover:bg-blue-600 transition-all"> ุฑุงุณููุง </a>
     </div>
    </div>
   </div>
  </section>
  
  <!-- Footer -->
  <footer class="bg-gray-900 text-white py-12">
   <div class="max-w-6xl mx-auto px-4 text-center">
    <div class="text-3xl mb-4">
     ๐ฏ
    </div>
    <h3 class="text-2xl font-bold mb-2">EventPlus</h3>
    <p class="text-gray-400 mb-6">ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ุงูุฐููุฉ</p>
    <p class="text-sm text-gray-500">ยฉ 2024 EventPlus. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
   </div>
  </footer>
  
  <!-- 
  ============================================================
  == ุงูููุฏ ุงูุจุฑูุฌู ุงููุตุญุญ ูุงูููุงุฆู
  == ุชู ุฅุตูุงุญ ูุดููุฉ ุชูุฑุงุฑ ุงูุฏูุงู
  == ุชู ุฅุถุงูุฉ ููุทู ุงูุฎุตู
  == ุชู ุฅุตูุงุญ ูุดููุฉ ุนุฏู ุชุญุฏูุซ ุงูุฃุณุนุงุฑ
  ============================================================
  -->
  <script>
        const defaultConfig = {
            hero_title: "EventPlus โ ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ููููููุฌุฑุงู ูุงูุดุงุดุงุช ุงูุฐููุฉ",
            hero_subtitle: "ูุญููู ุงูุชูููุฉ ุฅูู ุชุฌุฑุจุฉ ุฅูุณุงููุฉ ุชูููุน ุฌูููุฑูู ูุชููุชุฌ ุจูุงูุงุช ูุงุจูุฉ ูููุฑุงุฑ",
            whatsapp_number: "+968 98567383",
            email_address: "info@momentconnect.com",
            background_color: "#41296D",
            surface_color: "#F5F5F7",
            text_color: "#2C2C2C",
            primary_action_color: "#EC2B84",
            secondary_action_color: "#00B9A8"
        };

        let cart = [];
        let selectedPackage = null;
        let bookings = [];
        let selectedDevices = [];
        let selectedAddons = [];
        let currentSlideIndex = 0;
        let specialDiscountType = null;
        let specialDiscountActive = false;
		let discountPercent = 0; // ูุชุบูุฑ ุงูุฎุตู ุงูุนุงู

        const dataHandler = {
            onDataChanged(data) {
                bookings = data;
                console.log('Bookings updated:', bookings.length);
                updateBookingsCount();
                renderBookingHistory();
            }
        };

        async function initializeApp() {
            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error("Failed to initialize data SDK");
                }
            }

            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (config) => {
                        document.getElementById('hero-title').textContent = config.hero_title || defaultConfig.hero_title;
                        document.getElementById('hero-subtitle').textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
                        document.getElementById('nav-title').textContent = 'EventPlus';
                        
                        const whatsappNum = config.whatsapp_number || defaultConfig.whatsapp_number;
                        const email = config.email_address || defaultConfig.email_address;
                        
                        document.getElementById('whatsapp-display').textContent = whatsappNum;
                        document.getElementById('email-display').textContent = email;
                        
                        const whatsappUrl = `https://wa.me/${whatsappNum.replace(/[^0-9]/g, '')}`;
                        document.getElementById('whatsapp-hero-btn').href = whatsappUrl;
                        document.getElementById('whatsapp-contact-btn').href = whatsappUrl;
                        document.getElementById('email-contact-btn').href = `mailto:${email}`;
                        
                        const bgColor = config.background_color || defaultConfig.background_color;
                        const primaryColor = config.primary_action_color || defaultConfig.primary_action_color;
                        
                        document.querySelectorAll('.gradient-bg').forEach(el => {
                            el.style.background = `linear-gradient(135deg, ${bgColor} 0%, ${primaryColor} 100%)`;
                        });
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.background_color || defaultConfig.background_color,
                                set: (value) => {
                                    window.elementSdk.config.background_color = value;
                                    window.elementSdk.setConfig({ background_color: value });
                                }
                            },
                            {
                                get: () => config.surface_color || defaultConfig.surface_color,
                                set: (value) => {
                                    window.elementSdk.config.surface_color = value;
                                    window.elementSdk.setConfig({ surface_color: value });
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    window.elementSdk.config.text_color = value;
                                    window.elementSdk.setConfig({ text_color: value });
                                }
                            },
                            {
                                get: () => config.primary_action_color || defaultConfig.primary_action_color,
                                set: (value) => {
                                    window.elementSdk.config.primary_action_color = value;
                                    window.elementSdk.setConfig({ primary_action_color: value });
                                }
                            },
                            {
                                get: () => config.secondary_action_color || defaultConfig.secondary_action_color,
                                set: (value) => {
                                    window.elementSdk.config.secondary_action_color = value;
                                    window.elementSdk.setConfig({ secondary_action_color: value });
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ["hero_title", config.hero_title || defaultConfig.hero_title],
                        ["hero_subtitle", config.hero_subtitle || defaultConfig.hero_subtitle],
                        ["whatsapp_number", config.whatsapp_number || defaultConfig.whatsapp_number],
                        ["email_address", config.email_address || defaultConfig.email_address]
                    ])
                });
            }
        }

        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        // Slideshow Functions
        function showSlide(index) {
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('.dot');
            
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            if (index >= slides.length) currentSlideIndex = 0;
            if (index < 0) currentSlideIndex = slides.length - 1;
            
            slides[currentSlideIndex].classList.add('active');
            dots[currentSlideIndex].classList.add('active');
        }

        function changeSlide(direction) {
            currentSlideIndex += direction;
            showSlide(currentSlideIndex);
        }

        function currentSlide(index) {
            currentSlideIndex = index - 1;
            showSlide(currentSlideIndex);
        }

        // Auto slideshow
        let slideInterval;
        function startSlideshow() {
            slideInterval = setInterval(() => {
                changeSlide(1);
            }, 5000);
        }
        
        function stopSlideshow() {
            clearInterval(slideInterval);
        }
        
        // --- ููุงูุฉ ุฏูุงู ุงูุณูุงูุฏ ุดู ---

        function addDeviceToSelection(deviceName, price, basePrice) {
            const deviceCheckboxes = document.querySelectorAll('.device-checkbox');
            deviceCheckboxes.forEach(checkbox => {
                if (checkbox.dataset.device === deviceName) {
                    checkbox.checked = true;
                    const quantityInput = document.querySelector(`.device-quantity[data-device="${deviceName}"]`);
                    if (quantityInput) {
                        quantityInput.value = 1;
                    }
                }
            });
            updateDeviceSelection();
            scrollToSection('booking');
            showToast(`ุชูุช ุฅุถุงูุฉ ${deviceName} ุฅูู ุงูุญุฌุฒ โ`);
        }

        function selectEssentialPlusPackage() {
            document.querySelectorAll('.device-checkbox').forEach(cb => cb.checked = false);
            document.querySelectorAll('.device-quantity').forEach(input => input.value = 0);
            document.querySelectorAll('.addon-checkbox').forEach(cb => cb.checked = false);
            
            const htmlCheckbox = document.querySelector('.addon-checkbox[data-addon="ุตูุญุฉ ุชูุงุนููุฉ HTML"]');
            const motionCheckbox = document.querySelector('.addon-checkbox[data-addon="ููุฏูู ููุดู"]');
            const brandingCheckbox = document.querySelector('.addon-checkbox[data-addon="ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ"]');
            
            if (htmlCheckbox) htmlCheckbox.checked = true;
            if (motionCheckbox) motionCheckbox.checked = true;
            if (brandingCheckbox) brandingCheckbox.checked = true;
            
            updateDeviceSelection();
            updateAddonSelection();
            scrollToSection('booking');
            showToast('โ ุชู ุงุฎุชูุงุฑ ุจุงูุฉ Essential Plus - ุงุฎุชุฑ ุดุงุดุฉ ูุงุญุฏุฉ');
        }

        function selectInteractiveProPackage() {
            document.querySelectorAll('.device-checkbox').forEach(cb => cb.checked = false);
            document.querySelectorAll('.device-quantity').forEach(input => input.value = 0);
            document.querySelectorAll('.addon-checkbox').forEach(cb => cb.checked = false);
            
            const gameCheckbox = document.querySelector('.addon-checkbox[data-addon="ูุนุจุฉ ุฌุงูุฒุฉ"]');
            const htmlCheckbox = document.querySelector('.addon-checkbox[data-addon="ุตูุญุฉ ุชูุงุนููุฉ HTML"]');
            const brandingCheckbox = document.querySelector('.addon-checkbox[data-addon="ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ"]');
            
            if (gameCheckbox) gameCheckbox.checked = true;
            if (htmlCheckbox) htmlCheckbox.checked = true;
            if (brandingCheckbox) brandingCheckbox.checked = true;
            
            updateDeviceSelection();
            updateAddonSelection();
            scrollToSection('booking');
            showToast('โ ุชู ุงุฎุชูุงุฑ ุจุงูุฉ Interactive Pro - ุงุฎุชุฑ ุดุงุดุฉ ูุงุญุฏุฉ');
        }

        function selectPremiumCompletePackage() {
            document.querySelectorAll('.device-checkbox').forEach(cb => cb.checked = false);
            document.querySelectorAll('.device-quantity').forEach(input => input.value = 0);
            document.querySelectorAll('.addon-checkbox').forEach(cb => cb.checked = false);
            
            const photographyCheckbox = document.querySelector('.addon-checkbox[data-addon="ุชุตููุฑ ุงุญุชุฑุงูู"]');
            const customImagesCheckbox = document.querySelector('.addon-checkbox[data-addon="ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช"]');
            const techSupportCheckbox = document.querySelector('.addon-checkbox[data-addon="ุฏุนู ููู ุจุงูุณุงุนุฉ"]');
            
            if (photographyCheckbox) photographyCheckbox.checked = true;
            if (customImagesCheckbox) customImagesCheckbox.checked = true;
            if (techSupportCheckbox) techSupportCheckbox.checked = true;
            
            updateDeviceSelection();
            updateAddonSelection();
            scrollToSection('booking');
            showToast('โ ุชู ุงุฎุชูุงุฑ ุจุงูุฉ Premium Complete - ุงุฎุชุฑ ุดุงุดุชูู');
        }


        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <div class="flex items-center gap-3">
                    <span class="text-2xl">โ</span>
                    <span class="font-semibold">${message}</span>
                </div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function toggleDistanceField() {
            const insideMuscatNo = document.getElementById('inside-muscat-no');
            const distanceField = document.getElementById('distance-field');
            
            if (insideMuscatNo.checked) {
                distanceField.classList.remove('hidden');
            } else {
                distanceField.classList.add('hidden');
                document.getElementById('distance-km').value = ''; // ุฅูุฑุงุบ ุงูุญูู ุนูุฏ ุงูุฅุฎูุงุก
            }
            updateBookingSummary(); // ุชุญุฏูุซ ุงูุณุนุฑ ูุญุณุงุจ ุงููุณุงูุฉ
        }

        function toggleBatteryRecommendation() {
            const electricityNo = document.getElementById('electricity-no');
            const batteryRecommendation = document.getElementById('battery-recommendation');
            
            if (electricityNo.checked) {
                batteryRecommendation.classList.remove('hidden');
            } else {
                batteryRecommendation.classList.add('hidden');
            }
        }

        // ุฏุงูุฉ ุญุณุงุจ ูุนุงูู ุงููุฏุฉ ุงูุทูููุฉ
        function longTermFactor(days) {
            if (days <= 3) return 1.00;
            if (days <= 7) return 0.85;
            if (days <= 14) return 0.50;
            if (days <= 21) return 0.40;
            return 0.40; // 22-30 days
        }

        // ุฏุงูุฉ ุญุณุงุจ ุงูุณุนุฑ ุงูุฐูู ููุฌูุงุฒ ุงููุงุญุฏ
        function calculateSmartPrice(dailyRate, basePrice, days, quantity = 1) {
            let subtotal = dailyRate * days * longTermFactor(days);
            
            // ุชุทุจูู ุงูุณูู ุงูุดูุฑู ุงูุฐูู (45% ูู ุณุนุฑ ุงูุฃุตู)
            if (days >= 22) {
                const monthlyCap = basePrice * 0.45;
                subtotal = Math.min(subtotal, monthlyCap);
            }
            
            // ูุง ูุชุฌุงูุฒ ูููุฉ ุงูุฃุตู ุฃุจุฏุงู
            subtotal = Math.min(subtotal, basePrice);
            
            return subtotal * quantity;
        }

        function updateDeviceSelection() {
            selectedDevices = [];
            const deviceCheckboxes = document.querySelectorAll('.device-checkbox:checked');
            
            deviceCheckboxes.forEach(checkbox => {
                const deviceName = checkbox.dataset.device;
                const dailyRate = parseInt(checkbox.dataset.price);
                const basePrice = parseInt(checkbox.dataset.basePrice);
                const quantityInput = document.querySelector(`.device-quantity[data-device="${deviceName}"]`);
                const daysInput = document.querySelector(`.device-days[data-device="${deviceName}"]`);
                
                const quantity = parseInt(quantityInput.value) || 0;
                const days = parseInt(daysInput.value) || 1;
                
                if (quantity > 0) {
                    const smartTotal = calculateSmartPrice(dailyRate, basePrice, days, quantity);
                    
                    selectedDevices.push({
                        name: deviceName,
                        dailyRate: dailyRate,
                        basePrice: basePrice,
                        quantity: quantity,
                        days: days,
                        factor: longTermFactor(days),
                        isLongTerm: days >= 4,
                        total: smartTotal
                    });
                } else {
                    // ุฅุฐุง ุงููููุฉ 0ุ ูู ุจุฅูุบุงุก ุชุญุฏูุฏ ุงูุฌูุงุฒ
                    checkbox.checked = false;
                }
            });
            
            updateBookingSummary();
        }

        function handleDeviceCheckboxChange(checkbox) {
            const deviceName = checkbox.dataset.device;
            const quantityInput = document.querySelector(`.device-quantity[data-device="${deviceName}"]`);
            
            if (checkbox.checked) {
                if (parseInt(quantityInput.value) === 0) {
                    quantityInput.value = 1;
                }
            } else {
                quantityInput.value = 0;
            }
            
            updateDeviceSelection();
        }

        function handleQuantityChange(quantityInput) {
            const deviceName = quantityInput.dataset.device;
            const checkbox = document.querySelector(`.device-checkbox[data-device="${deviceName}"]`);
            const quantity = parseInt(quantityInput.value) || 0;
            
            if (quantity > 0) {
                checkbox.checked = true;
            } else {
                checkbox.checked = false;
            }
            
            updateDeviceSelection(); 
        }

        function handleDaysChange(daysInput) {
            const days = parseInt(daysInput.value) || 1;
            
            if (days > 30) {
                daysInput.value = 30;
                showLongTermContactMessage();
                return;
            }
            if (days < 1) {
                daysInput.value = 1;
            }
            
            updateDeviceSelection();
        }

        function showLongTermContactMessage() {
            // (ุงูููุฏ ููุฌูุฏ ูู ูููู ุงูุฃุตููุ ุชู ุงูุฅุจูุงุก ุนููู)
            const messageDiv = document.createElement('div');
            messageDiv.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            messageDiv.innerHTML = `
                <div class="bg-white rounded-3xl p-8 max-w-md mx-4 text-center">
                    <div class="text-6xl mb-4">๐</div>
                    <h3 class="text-2xl font-bold mb-4 text-purple-600">ุนุฑุถ ูุบุฑู ูููุชุฑุงุช ุงูุทูููุฉ!</h3>
                    <p class="text-gray-600 mb-6">ููุญุฌูุฒุงุช ุฃูุซุฑ ูู 30 ูููุงูุ ูุฏููุง ุนุฑูุถ ุฎุงุตุฉ ูุฃุณุนุงุฑ ูุบุฑูุฉ ุฌุฏุงู!</p>
                    <p class="text-sm text-purple-700 font-semibold mb-6">ูู ุจุงูุชูุงุตู ูุนูุง ูุจุงุดุฑุฉ ููุญุตูู ุนูู ุนุฑุถ ูุฎุตุต</p>
                    <div class="flex gap-3 justify-center">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-full font-bold hover:bg-gray-400 transition-all">
                            ุฅุบูุงู
                        </button>
                        <button onclick="contactForLongTerm()" class="bg-green-500 text-white px-6 py-3 rounded-full font-bold hover:bg-green-600 transition-all">
                            ุชูุงุตู ุงูุขู ๐ฌ
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(messageDiv);
        }

        function contactForLongTerm() {
            const message = encodeURIComponent(`ูุฑุญุจุงูุ ุฃุฑุบุจ ูู ุงูุงุณุชูุณุงุฑ ุนู ุนุฑูุถ ุงููุชุฑุงุช ุงูุทูููุฉ (ุฃูุซุฑ ูู 30 ูููุงู) ููุฃุฌูุฒุฉ. ูุฑุฌู ุชุฒููุฏู ุจุนุฑุถ ูุฎุตุต ๐ฏ`);
            const whatsappUrl = `https://wa.me/96898567383?text=${message}`;
            window.open(whatsappUrl, '_blank');
            document.querySelector('.fixed.inset-0').remove();
        }

        function updateAddonSelection() {
            selectedAddons = [];
            const addonCheckboxes = document.querySelectorAll('.addon-checkbox:checked');
            
            addonCheckboxes.forEach(checkbox => {
                const addonName = checkbox.dataset.addon;
                selectedAddons.push({ name: addonName, price: 0 });
            });
            
            updateBookingSummary();
        }

        function calculateDeliveryFee(totalQuantity) {
            if (totalQuantity === 0) return 0;
            if (totalQuantity <= 2) return 15;
            if (totalQuantity === 3) return 20;
            if (totalQuantity === 4) return 30;
            if (totalQuantity === 5) return 40;
            if (totalQuantity >= 6) return 60;
            return 15; 
        }

        function handleSpecialDiscountRequest() {
            const studentCheckbox = document.getElementById('student-discount');
            const charityCheckbox = document.getElementById('charity-discount');
            const requestDiv = document.getElementById('special-discount-request');
            
            if (event.target === studentCheckbox && studentCheckbox.checked) {
                charityCheckbox.checked = false;
            } else if (event.target === charityCheckbox && charityCheckbox.checked) {
                studentCheckbox.checked = false;
            }
            
            if (studentCheckbox.checked) {
                specialDiscountType = 'student';
                specialDiscountActive = true;
                requestDiv.classList.remove('hidden');
                document.getElementById('discount-reason').placeholder = 'ูุซุงู: ุทุงูุจ ูู ุฌุงูุนุฉ ุงูุณูุทุงู ูุงุจูุณุ ูููุฉ ุงูููุฏุณุฉุ ุฃุญุชุงุฌ ุงูุฃุฌูุฒุฉ ููุดุฑูุน ุงูุชุฎุฑุฌ...';
            } else if (charityCheckbox.checked) {
                specialDiscountType = 'charity';
                specialDiscountActive = true;
                requestDiv.classList.remove('hidden');
                document.getElementById('discount-reason').placeholder = 'ูุซุงู: ุฌูุนูุฉ ุฎูุฑูุฉ ูุณุฌูุฉ ุฑุณููุงูุ ูุญุชุงุฌ ุงูุฃุฌูุฒุฉ ูุญููุฉ ุชูุนููุฉ ูุฌุชูุนูุฉ...';
            } else {
                specialDiscountType = null;
                specialDiscountActive = false;
                requestDiv.classList.add('hidden');
                document.getElementById('discount-reason').value = '';
            }
            
            updateBookingSummary();
        }
		
        // ุฏุงูุฉ ุชุทุจูู ููุฏ ุงูุฎุตู (ุฌุฏูุฏุฉ)
        function applyDiscount() {
            const discountCodeInput = document.getElementById('discount-code');
            const discountMessage = document.getElementById('discount-message');
            const code = discountCodeInput.value.trim().toUpperCase();
            
            discountPercent = 0;
            discountMessage.textContent = '';
            
            if (code === 'EVENTPLUS20') {
                discountPercent = 0.20; // 20%
                discountMessage.className = 'text-xs mt-2 font-semibold text-green-600';
                discountMessage.textContent = 'โ ุชู ุชุทุจูู ููุฏ ุงูุฎุตู (20%) ุจูุฌุงุญ!';
            } else if (code === 'PLUS10') {
                discountPercent = 0.10; // 10%
                discountMessage.className = 'text-xs mt-2 font-semibold text-green-600';
                discountMessage.textContent = 'โ ุชู ุชุทุจูู ููุฏ ุงูุฎุตู (10%) ุจูุฌุงุญ!';
            } else if (code.length > 0) {
                discountMessage.className = 'text-xs mt-2 font-semibold text-red-600';
                discountMessage.textContent = 'โ ููุฏ ุงูุฎุตู ุบูุฑ ุตุญูุญ ุฃู ููุชูู ุงูุตูุงุญูุฉ.';
            }
            
            updateBookingSummary();
        }

        // ุฏุงูุฉ ุงุญุชุณุงุจ ุงูุณุนุฑ (ูุตุญุญุฉ ููู ุฏูู ุชูุฑุงุฑ)
        function calculateSmartPricing() {
            let totalDevices = selectedDevices.reduce((sum, device) => sum + device.total, 0);
            let subtotal = totalDevices;
            let discounts = [];
            let suggestions = [];
            let longTermPerks = [];
            
            const hasLongTermDevices = selectedDevices.some(d => d.isLongTerm);
            
            if (hasLongTermDevices) {
                longTermPerks = [
                    'ุตูุงูุฉ ููุงุฆูุฉ ูู 10 ุฃูุงู + ุฒูุงุฑุฉ ุทูุงุฑุฆ ูุฌุงููุฉ',
                    'ุชุญุฏูุซ ุงููุญุชูู ุญุชู 3 ูุฑุงุช ุฎูุงู ูุชุฑุฉ ุงูุฅูุฌุงุฑ',
                    'ุฏุนู ููู ูุงุชุณุงุจ/ุงุชุตุงู ุฃููููุฉ',
                    'ููู ูุธุงู ุงูุนุฑุถ (Kiosk/Lockdown)',
                    'ุจุฏูู ูุคูุช ุนูุฏ ุงูุนุทู ุบูุฑ ุงููุชุนูุฏ (ุญุณุจ ุงูุชูุงูุฑ)'
                ];
            }
            
            const totalQuantity = selectedDevices.reduce((sum, device) => sum + device.quantity, 0);
            let multiDeviceDiscount = 0;
            if (totalQuantity >= 2 && totalDevices > 0) {
                multiDeviceDiscount = totalDevices * 0.10;
                discounts.push({ name: 'ุฎุตู ุชุนุฏุฏ ุงูุฃุฌูุฒุฉ (10%)', amount: multiDeviceDiscount });
            }
            
            let addonsDiscount = 0;
            if (selectedAddons.length >= 3 && totalDevices > 0) {
                addonsDiscount = totalDevices * 0.15;
                discounts.push({ name: 'ุฎุตู ุงูุฅุถุงูุงุช ุงููุชุนุฏุฏุฉ (15%)', amount: addonsDiscount });
            } else if (selectedAddons.length >= 2 && totalDevices > 0) {
                addonsDiscount = totalDevices * 0.08;
                discounts.push({ name: 'ุฎุตู ุงูุฅุถุงูุงุช ุงููุชุนุฏุฏุฉ (8%)', amount: addonsDiscount });
            }
            
            const hasDigitalBoard = selectedDevices.some(d => d.name.includes('ูููุฉ ุชู'));
            const hasInteractiveHTML = selectedAddons.some(a => a.name.includes('ุตูุญุฉ ุชูุงุนููุฉ HTML'));
            
            if (hasDigitalBoard && !hasInteractiveHTML) {
                suggestions.push({
                    type: 'interactive_page',
                    title: '๐ก ุงูุชุฑุงุญ ุฐูู: ุตูุญุฉ ุชูุงุนููุฉ',
                    message: 'ุฃุถู ุตูุญุฉ ุชูุงุนููุฉ HTML ูุงุญุตู ุนูู ุฎุตู ุฅุถุงูู 5% ุนูู ุงููุฌููุน!',
                    discount: 0.05
                });
            }
            
            let interactivePageDiscount = 0;
            if (hasDigitalBoard && hasInteractiveHTML && totalDevices > 0) {
                interactivePageDiscount = totalDevices * 0.05;
                discounts.push({ name: 'ุฎุตู ุงูุตูุญุฉ ุงูุชูุงุนููุฉ (5%)', amount: interactivePageDiscount });
            }
            
let totalDiscount = multiDeviceDiscount + addonsDiscount + interactivePageDiscount;
const subtotalAfterDiscounts = subtotal - totalDiscount;

// ุชุทุจูู ุฎุตู ุงูููุฏ (discountPercent)
const discountCodeAmount = subtotalAfterDiscounts * discountPercent;

// ูู ููู ููุจูู ูุทุจูููุ ุฃุถููู ุถูู ูุงุฆูุฉ ุงูุฎุตููุงุช
if (discountCodeAmount > 0) {
  const code = (document.getElementById('discount-code')?.value || '').trim().toUpperCase() || 'CODE';
  discounts.push({ name: `ุฎุตู ููุฏ (${code})`, amount: discountCodeAmount });
  totalDiscount += discountCodeAmount; // << ููู: ุญุชู ูุธูุฑ ุถูู ุฅุฌูุงูู ุงูุฎุตููุงุช
}

const finalSubtotal = subtotalAfterDiscounts - discountCodeAmount;

            const deliveryFee = calculateDeliveryFee(totalQuantity);
            
            const distanceKm = parseInt(document.getElementById('distance-km')?.value || 0);
            const extraKm = Math.max(0, distanceKm - 30);
            const extraDistanceFee = extraKm * 0.25; 

            
            return {
                originalSubtotal: subtotal,
                discounts: discounts,
                suggestions: suggestions,
                longTermPerks: longTermPerks,
                totalDiscount: totalDiscount,
                finalSubtotal: finalSubtotal,
                discountCodeAmount: discountCodeAmount, 
                deliveryFee: deliveryFee,
                extraDistanceFee: extraDistanceFee,
                totalQuantity: totalQuantity,
                hasLongTerm: hasLongTermDevices
            };
        }

        // ุฏุงูุฉ ุชุญุฏูุซ ุงูููุฎุต (ูุตุญุญุฉ)
        function updateBookingSummary() {
            const summaryDiv = document.getElementById('booking-summary');
            
            if (selectedDevices.length === 0 && selectedAddons.length === 0) {
                summaryDiv.innerHTML = `
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">๐ฑ</div>
                        <p>ุงุฎุชุฑ ุงูุฃุฌูุฒุฉ ุฃู ุงูุฅุถุงูุงุช ูุฑุคูุฉ ุงูููุฎุต</p>
                    </div>
                `;
            } else {
                let summaryHTML = '';
                const pricing = calculateSmartPricing();
                
                // ุชุญุฏูุซ ุตู ุงูุฎุตู (ุฌุฏูุฏ)
                const discountRow = document.getElementById('discount-row');
                const discountAmountEl = document.getElementById('discount-amount');
                const discountCodeInput = document.getElementById('discount-code');

                if (discountPercent > 0 && pricing.discountCodeAmount > 0) {
                    const appliedCodeName = discountCodeInput.value.trim().toUpperCase() || 'ููุฏ ุฎุตู';
                    discountRow.querySelector('span:first-child').textContent = `ุฎุตู (${appliedCodeName}):`;
                    discountAmountEl.textContent = `-${pricing.discountCodeAmount.toFixed(2)} OMR`;
                    discountRow.classList.remove('hidden');
                } else {
                    discountRow.classList.add('hidden');
                }
                
                if (pricing.hasLongTerm) {
                    summaryHTML += `
                        <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg p-3 mb-4">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-lg">๐</span>
                                <span class="font-bold text-sm">ุชู ุชูุนูู ุจุงูุฉ ุงููุชุฑุงุช ุงูุทูููุฉ</span>
                            </div>
                            <div class="text-xs opacity-90">ุชูุช ุฅุถุงูุฉ ูุฒุงูุง ูุฌุงููุฉ ูุทูุจู!</div>
                        </div>
                    `;
                }
                
                if (selectedDevices.length > 0) {
                    summaryHTML += '<div class="mb-4"><h4 class="font-bold text-purple-900 mb-2">ุงูุฃุฌูุฒุฉ:</h4>';
                    selectedDevices.forEach(device => {
                        const originalPrice = device.dailyRate * device.days * device.quantity;
                        const savings = originalPrice - device.total;
                        
                        summaryHTML += `
                            <div class="border-b border-gray-100 pb-2 mb-2 last:border-b-0">
                                <div class="flex justify-between items-start text-sm">
                                    <span class="font-medium">${device.name}</span>
                                    <span class="font-semibold">${device.total.toFixed(2)} OMR</span>
                                </div>
                                <div class="text-xs text-gray-500 mt-1">
                                    ${device.quantity} ุฌูุงุฒ ร ${device.days} ุฃูุงู
                                    ${device.isLongTerm ? `<span class="text-purple-600 font-semibold"> (ุฎุตู ${Math.round((1 - device.factor) * 100)}%)</span>` : ''}
                                </div>
                                ${savings > 0 ? `<div class="text-xs text-green-600 font-semibold">ููุฑุช ${savings.toFixed(2)} OMR</div>` : ''}
                            </div>
                        `;
                    });
                    summaryHTML += '</div>';
                }
                
                if (pricing.longTermPerks.length > 0) {
                    summaryHTML += `
                        <div class="bg-purple-50 border border-purple-200 rounded-lg p-3 mb-4">
                            <div class="text-sm font-bold text-purple-800 mb-2">๐ Long-Term Perks (ูุฌุงูุงู):</div>
                            <div class="text-xs text-purple-700 space-y-1">
                                ${pricing.longTermPerks.map(perk => `<div>โข ${perk}</div>`).join('')}
                            </div>
                        </div>
                    `;
                }
                
                if (selectedDevices.length > 0) {
                    summaryHTML += `
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4">
                            <div class="text-sm font-bold text-blue-800 mb-2">๐ ุฑุณูู ุงูุชูุตูู:</div>
                            <div class="text-xs text-blue-700">
                                <div class="grid grid-cols-2 gap-1 mb-2">
                                    <div>ุญุชู 2 ุดุงุดุฉ: 15 OMR</div>
                                    <div>3 ุดุงุดุงุช: 20 OMR</div>
                                    <div>4 ุดุงุดุงุช: 30 OMR</div>
                                    <div>5 ุดุงุดุงุช: 40 OMR</div>
                                    <div>6+ ุดุงุดุงุช: 60 OMR</div>
                                </div>
                                ${pricing.totalQuantity > 0 ? `<div class="font-semibold text-blue-800">ุทูุจู ุงูุญุงูู (${pricing.totalQuantity} ุดุงุดุฉ): ${pricing.deliveryFee} OMR</div>` : ''}
                                ${pricing.extraDistanceFee > 0 ? `<div class="font-semibold text-blue-800">ุฑุณูู ุงููุณุงูุฉ ุงูุฅุถุงููุฉ: ${pricing.extraDistanceFee.toFixed(2)} OMR</div>` : ''}
                            </div>
                        </div>
                    `;
                }
                
                if (selectedAddons.length > 0) {
                    summaryHTML += '<div class="mb-4"><h4 class="font-bold text-purple-900 mb-2">ุงูุฅุถุงูุงุช:</h4>';
                    selectedAddons.forEach(addon => {
                        summaryHTML += `
                            <div class="flex justify-between items-center text-sm mb-1">
                                <span>${addon.name}</span>
                                <span class="font-semibold text-blue-600">ุณุนุฑ ุญุณุจ ุงูุทูุจ</span>
                            </div>
                        `;
                    });
                    summaryHTML += '</div>';
                    
                    summaryHTML += `
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3">
                            <div class="text-sm font-bold text-blue-800 mb-1">๐ก ููุงุญุธุฉ ูููุฉ</div>
                            <div class="text-xs text-blue-700 mb-2">
                                ุงูุฅุถุงูุงุช ุงููุฎุชุงุฑุฉ ุณุชูุณุนูุฑ ุญุณุจ ุงูุทูุจ. ูุฑุฌู ูุตู ุงุญุชูุงุฌุงุชู ุจุงูุชูุตูู ูู ุงูููุงุญุธุงุช ูุณููุฏู ูู ุนุฑุถ ุณุนุฑ ูุฎุตุต ${selectedDevices.length > 0 ? 'ูุน ุฎุตู ุฐูู ุฅุถุงูู' : ''}.
                            </div>
                        </div>
                    `;
                }
                
                summaryDiv.innerHTML = summaryHTML;
            }
            
            const pricing = calculateSmartPricing();
            
            let suggestionsHTML = '';
            if (pricing.suggestions.length > 0) {
                suggestionsHTML = `
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3">
                        ${pricing.suggestions.map(suggestion => `
                            <div class="mb-3 last:mb-0">
                                <div class="text-sm font-bold text-blue-800 mb-1">${suggestion.title}</div>
                                <div class="text-xs text-blue-700 mb-2">${suggestion.message}</div>
                                <button onclick="applySuggestion('${suggestion.type}')" class="bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-700 transition-all">
                                    ุชุทุจูู ุงูุงูุชุฑุงุญ
                                </button>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            let discountHTML = '';
            if (pricing.discounts.length > 0) {
                discountHTML = `
                    <div class="bg-green-50 border border-green-200 rounded-lg p-3 mb-3">
                        <div class="text-sm font-bold text-green-800 mb-2">๐ ุฎุตููุงุช ุฅุถุงููุฉ:</div>
                        ${pricing.discounts.map(discount => `
                            <div class="flex justify-between text-xs text-green-700">
                                <span>${discount.name}</span>
                                <span>-${discount.amount.toFixed(2)} OMR</span>
                            </div>
                        `).join('')}
                        <div class="border-t border-green-300 mt-2 pt-2 flex justify-between text-sm font-bold text-green-800">
                            <span>ุฅุฌูุงูู ุงูุฎุตู ุงูุฅุถุงูู:</span>
                            <span>-${pricing.totalDiscount.toFixed(2)} OMR</span>
                        </div>
                    </div>
                `;
            }
            
            let finalTotal = pricing.finalSubtotal + pricing.deliveryFee + pricing.extraDistanceFee;
            if (selectedDevices.length > 0) {
                let totalText = `${finalTotal.toFixed(2)} OMR`;
                
                let deliveryDetails = [];
                if (pricing.deliveryFee > 0) {
                    deliveryDetails.push(`ุชูุตูู ${pricing.deliveryFee} OMR`);
                }
                if (pricing.extraDistanceFee > 0) {
                    deliveryDetails.push(`ูุณุงูุฉ ุฅุถุงููุฉ ${pricing.extraDistanceFee.toFixed(2)} OMR`);
                }
                
                if (deliveryDetails.length > 0) {
                    totalText += ` (ุดุงูู ${deliveryDetails.join(' + ')})`;
                }
                
                const addonNote = selectedAddons.length > 0 ? ' + ุฅุถุงูุงุช' : '';
                document.getElementById('sidebar-total').textContent = totalText + addonNote;
            } else if (selectedAddons.length > 0) {
                document.getElementById('sidebar-total').textContent = 'ุณุนุฑ ุญุณุจ ุงูุทูุจ';
            } else {
                document.getElementById('sidebar-total').textContent = '0 OMR';
            }
            
            const summaryContainer = document.getElementById('booking-summary');
            if (pricing.suggestions.length > 0) {
                summaryContainer.innerHTML += suggestionsHTML;
            }
            if (pricing.discounts.length > 0) {
                summaryContainer.innerHTML += discountHTML;
            }
        }

        function applySuggestion(suggestionType) {
            if (suggestionType === 'interactive_page') {
                const interactiveCheckbox = document.querySelector('.addon-checkbox[data-addon="ุตูุญุฉ ุชูุงุนููุฉ HTML"]');
                if (interactiveCheckbox && !interactiveCheckbox.checked) {
                    interactiveCheckbox.checked = true;
                    updateAddonSelection();
                    showToast('โ ุชู ุฅุถุงูุฉ ุงูุตูุญุฉ ุงูุชูุงุนููุฉ ูุน ุฎุตู 5%!');
                }
            } 
        }

        function generateWhatsAppMessage() {
            const customerName = document.getElementById('customer-name').value || 'ุนููู';
            const customerPhone = document.getElementById('customer-phone').value;
            
            let message = `ูุฑุญุจูุงุ ุฃูุง ${customerName}`;
            if (customerPhone) message += ` - ${customerPhone}`;
            
            if (selectedDevices.length > 0) {
                message += ` ุฃุฑุบุจ ูู ุงุณุชุฆุฌุงุฑ:\n\n`;
            } else {
                message += ` ุฃุฑุบุจ ูู ุงูุงุณุชูุณุงุฑ ุนู:\n\n`;
            }
            
            if (selectedDevices.length > 0) {
                message += "๐ฑ ุงูุฃุฌูุฒุฉ:\n";
                selectedDevices.forEach(device => {
                    message += `โข ${device.name} - ุงููููุฉ: ${device.quantity} - ุงููุฏุฉ: ${device.days} ุฃูุงู\n`;
                });
                message += "\n";
            }
            
            if (selectedAddons.length > 0) {
                message += "๐ ุงูุฅุถุงูุงุช ุงููุทููุจุฉ (ุณุนุฑ ุญุณุจ ุงูุทูุจ):\n";
                selectedAddons.forEach(addon => {
                    message += `โข ${addon.name}\n`;
                });
                message += "\n";
            }
            
            if (selectedDevices.length > 0) {
                const eventType = document.getElementById('event-type').value;
                const location = document.getElementById('event-location').value;
                const insideMuscat = document.querySelector('input[name="inside-muscat"]:checked')?.value;
                const electricity = document.querySelector('input[name="electricity"]:checked')?.value;
                
                message += "๐ ุชูุงุตูู ุงููุนุงููุฉ:\n";
                if (eventType) message += `โข ุงูููุน: ${eventType}\n`;
                if (location) message += `โข ุงููููุน: ${location}\n`;
                if (insideMuscat) message += `โข ุฏุงุฎู ูุณูุท: ${insideMuscat === 'yes' ? 'ูุนู' : 'ูุง'}\n`;
                if (electricity) message += `โข ุงูููุฑุจุงุก: ${electricity === 'yes' ? 'ูุชููุฑุฉ' : 'ุบูุฑ ูุชููุฑุฉ'}\n`;
                
                const pricing = calculateSmartPricing();
                message += "\n๐ฐ ุงูุชุณุนูุฑ:\n";
                
                const totalSmartDiscount = pricing.totalDiscount + pricing.discountCodeAmount;
                if (totalSmartDiscount > 0) {
                    message += `โข ุงููุฌููุน ูุจู ุงูุฎุตู: ${pricing.originalSubtotal.toFixed(2)} OMR\n`;
                    message += `โข ุฅุฌูุงูู ุงูุฎุตู (ุฐูู + ููุฏ): -${totalSmartDiscount.toFixed(2)} OMR\n`;
                }
                message += `โข ุงูุฅุฌูุงูู ุงููุณุชุญู ููุฃุฌูุฒุฉ: ${pricing.finalSubtotal.toFixed(2)} OMR\n`;
                
                if (pricing.deliveryFee > 0) {
                    message += `โข ุฑุณูู ุงูุชูุตูู (${pricing.totalQuantity} ุดุงุดุฉ): ${pricing.deliveryFee} OMR\n`;
                }
                if (pricing.extraDistanceFee > 0) {
                    message += `โข ุฑุณูู ุงููุณุงูุฉ ุงูุฅุถุงููุฉ: ${pricing.extraDistanceFee.toFixed(2)} OMR\n`;
                }
                
                const finalTotal = pricing.finalSubtotal + pricing.deliveryFee + pricing.extraDistanceFee;
                message += `โข ุงููุฌููุน ุงูููุงุฆู: ${finalTotal.toFixed(2)} OMR\n`;
                
                if (selectedAddons.length > 0) {
                    message += `โข ุงูุฅุถุงูุงุช: ุณุนุฑ ุญุณุจ ุงูุทูุจ\n`;
                }
                
                if (specialDiscountActive) {
                    const discountType = specialDiscountType === 'student' ? 'ุทุงูุจ ุฌุงูุนู' : 'ุฌูุฉ ุฎูุฑูุฉ/ุบูุฑ ุฑุจุญูุฉ';
                    const discountReason = document.getElementById('discount-reason').value;
                    message += `\n๐๐ ูุทุงูุจุฉ ุจุฎุตู ุฎุงุต (${discountType}):\n`;
                    if (discountReason.trim()) {
                        message += `โข ุงูุณุจุจ: ${discountReason.trim()}\n`;
                    }
                }
                
                message += `\n๐ก ููุงุญุธุฉ: ุฌููุน ุงูุฃุณุนุงุฑ ูุงุจูุฉ ููุชูุงูุถ\n`;
                message += "\nูู ุงูุฃุฌูุฒุฉ ูุชุงุญุฉ ูู ูุฐุง ุงูุชุงุฑูุฎุ ๐ค";
            } else {
                const notes = document.getElementById('notes').value;
                if (notes) {
                    message += `๐ ุชูุงุตูู ุงูุทูุจ:\n${notes}\n\n`;
                }
                message += "ูุฑุฌู ุชุฒููุฏู ุจุนุฑุถ ุณุนุฑ ูุฎุตุต ููุฐู ุงูุฎุฏูุงุช ๐ฐ";
            }
            
            return encodeURIComponent(message);
        }

        function validateForm() {
            const basicRequiredFields = ['customer-name', 'customer-phone'];
            for (let fieldId of basicRequiredFields) {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.focus();
                    showToast(`โ๏ธ ูุฑุฌู ููุก ุญูู ${field.previousElementSibling.textContent}`);
                    return false;
                }
            }
            
            if (selectedDevices.length === 0 && selectedAddons.length === 0) {
                showToast('โ๏ธ ูุฑุฌู ุงุฎุชูุงุฑ ุฌูุงุฒ ูุงุญุฏ ุนูู ุงูุฃูู ุฃู ุฅุถุงูุฉ ูุงุญุฏุฉ');
                return false;
            }
            
            if (selectedDevices.length > 0) {
                const deviceRequiredFields = ['event-type', 'event-location'];
                for (let fieldId of deviceRequiredFields) {
                    const field = document.getElementById(fieldId);
                    if (!field.value.trim()) {
                        field.focus();
                        showToast(`โ๏ธ ูุฑุฌู ููุก ุญูู ${field.previousElementSibling.textContent}`);
                        return false;
                    }
                }
                
                if (!document.querySelector('input[name="inside-muscat"]:checked')) {
                    showToast('โ๏ธ ูุฑุฌู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงู ุงููููุน ุฏุงุฎู ูุณูุท ุฃู ูุง');
                    return false;
                }
                
                if (!document.querySelector('input[name="electricity"]:checked')) {
                    showToast('โ๏ธ ูุฑุฌู ุชุญุฏูุฏ ูุง ุฅุฐุง ูุงูุช ุงูููุฑุจุงุก ูุชููุฑุฉ ุฃู ูุง');
                    return false;
                }
            }
            return true;
        }

        function safeVal(id){ const el = document.getElementById(id); return el ? el.value : ''; }

        async function submitViaEmail() {
            if (!validateForm()) return;
            
            const submitBtn = document.getElementById('email-submit-btn');
            const originalContent = submitBtn.innerHTML;
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<div class="loading-spinner mx-auto"></div>';
            
            try {
                const pricing = calculateSmartPricing();
                await saveBookingToDatabase(pricing);
                
                const formData = new FormData();
                formData.append('customer_name', document.getElementById('customer-name').value);
                formData.append('customer_email', document.getElementById('customer-email').value);
                formData.append('customer_phone', document.getElementById('customer-phone').value);
                formData.append('event_type', document.getElementById('event-type').value);
                formData.append('event_location', document.getElementById('event-location').value);
                formData.append('inside_muscat', document.querySelector('input[name="inside-muscat"]:checked')?.value || '');
                formData.append('distance_km', document.getElementById('distance-km').value);
                formData.append('electricity_available', document.querySelector('input[name="electricity"]:checked')?.value || '');
                formData.append('selected_devices', JSON.stringify(selectedDevices));
                formData.append('selected_addons', JSON.stringify(selectedAddons));
                formData.append('original_price', pricing.originalSubtotal.toFixed(2));
                formData.append('total_discount', (pricing.totalDiscount + pricing.discountCodeAmount).toFixed(2));
                formData.append('final_price', pricing.finalSubtotal.toFixed(2));
                formData.append('notes', document.getElementById('notes').value);
                
                const response = await fetch('https://formspree.io/f/mdkpqkgy', {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });
                
                if (response.ok) {
                    showSuccessMessage('ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ ุนุจุฑ ุงูุฅูููู! ๐ง');
                    resetForm();
                } else {
                    throw new Error('ูุดู ูู ุงูุฅุฑุณุงู');
                }
            } catch (error) {
                showToast('โ ุญุฏุซ ุฎุทุฃ ูู ุฅุฑุณุงู ุงูุทูุจ. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู');
            }
            
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalContent;
        }

        async function submitViaWhatsApp() {
            if (!validateForm()) return;
            
            try {
                const pricing = calculateSmartPricing();
                await saveBookingToDatabase(pricing);
                
                const message = generateWhatsAppMessage();
                const whatsappUrl = `https://wa.me/96898567383?text=${message}`;
                window.open(whatsappUrl, '_blank');
                
                showSuccessMessage('ุชู ุชูุฌููู ุฅูู ุงููุงุชุณุงุจ! ๐ฌ');
                resetForm();
            } catch (error) {
                showToast('โ ุญุฏุซ ุฎุทุฃ ูู ุญูุธ ุงูุญุฌุฒ. ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู');
            }
        }

        async function saveBookingToDatabase(pricing) {
            if (!window.dataSdk) return;
            
            if (bookings.length >= 999) {
                showToast('โ๏ธ ุชู ุงููุตูู ููุญุฏ ุงูุฃูุตู ูู ุงูุญุฌูุฒุงุช (999).');
                return;
            }
            
            const bookingData = {
                id: `booking_${Date.now()}`,
                customer_name: document.getElementById('customer-name').value,
                customer_email: document.getElementById('customer-email').value || '',
                customer_phone: document.getElementById('customer-phone').value,
                event_type: document.getElementById('event-type').value || '',
                event_location: document.getElementById('event-location').value || '',
                inside_muscat: document.querySelector('input[name="inside-muscat"]:checked')?.value || '',
                electricity_available: document.querySelector('input[name="electricity"]:checked')?.value || '',
                distance_km: document.getElementById('distance-km').value || '0',
                selected_devices: JSON.stringify(selectedDevices),
                selected_addons: JSON.stringify(selectedAddons),
                original_price: pricing.originalSubtotal.toFixed(2),
                total_discount: (pricing.totalDiscount + pricing.discountCodeAmount).toFixed(2),
                final_price: (pricing.finalSubtotal + pricing.deliveryFee + pricing.extraDistanceFee).toFixed(2),
                delivery_fee: pricing.deliveryFee.toString(),
                extra_distance_fee: pricing.extraDistanceFee.toFixed(2),
                total_quantity: pricing.totalQuantity.toString(),
                notes: document.getElementById('notes').value || '',
                special_discount_type: specialDiscountType || '',
                special_discount_active: specialDiscountActive.toString(),
                discount_reason: document.getElementById('discount-reason')?.value || '',
                created_at: new Date().toISOString(),
                status: 'ูุฑุณู'
            };
            
            const result = await window.dataSdk.create(bookingData);
            if (!result.isOk) {
                throw new Error('ูุดู ูู ุญูุธ ุงูุญุฌุฒ');
            }
        }

        function showSuccessMessage(message) {
            const successDiv = document.createElement('div');
            successDiv.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            successDiv.innerHTML = `
                <div class="bg-white rounded-3xl p-8 max-w-md mx-4 text-center">
                    <div class="text-6xl mb-4">โ</div>
                    <h3 class="text-2xl font-bold mb-4 text-green-600">ูุฌุญ ุงูุฅุฑุณุงู!</h3>
                    <p class="text-gray-600 mb-6">${message}</p>
                    <p class="text-sm text-gray-500 mb-6">ุณูุฑุงุฌุน ุทูุจู ููุนูุฏ ุฅููู ุจุงูุชุฃููุฏ ูุฎูุงุฑุงุช ุงูุฏูุน ุฎูุงู ุณุงุนุงุช ุงูุนูู.</p>
                    <button onclick="this.parentElement.parentElement.remove()" class="bg-purple-600 text-white px-6 py-3 rounded-full font-bold hover:bg-purple-700 transition-all">
                        ุญุณูุงู
                    </button>
                </div>
            `;
            document.body.appendChild(successDiv);
        }

        function resetForm() {
            document.getElementById('booking-form').reset();
            selectedDevices = [];
            selectedAddons = [];
            specialDiscountType = null;
            specialDiscountActive = false;
            
            discountPercent = 0;
            const discountCodeInput = document.getElementById('discount-code');
            if (discountCodeInput) discountCodeInput.value = '';
            const discountMessage = document.getElementById('discount-message');
            if (discountMessage) discountMessage.textContent = '';
            const discountRow = document.getElementById('discount-row');
            if (discountRow) discountRow.classList.add('hidden');
            
            document.querySelectorAll('.device-checkbox, .addon-checkbox').forEach(cb => cb.checked = false);
            document.querySelectorAll('.device-quantity').forEach(input => input.value = 0);
            document.querySelectorAll('.device-days').forEach(input => input.value = 1);
            
            const studentDisc = document.getElementById('student-discount');
            if (studentDisc) studentDisc.checked = false;
            const charityDisc = document.getElementById('charity-discount');
            if (charityDisc) charityDisc.checked = false;
            
            const specialReq = document.getElementById('special-discount-request');
            if (specialReq) specialReq.classList.add('hidden');
            const discReason = document.getElementById('discount-reason');
            if (discReason) discReason.value = '';
            
            const distanceField = document.getElementById('distance-field');
            if (distanceField) distanceField.classList.add('hidden');
            const batteryRec = document.getElementById('battery-recommendation');
            if (batteryRec) batteryRec.classList.add('hidden');

            updateBookingSummary(); 
        }

        function updateBookingsCount() {
            const countElement = document.getElementById('bookings-count');
            if (countElement) {
                countElement.textContent = bookings.length;
            }
        }

        function toggleBookingHistory() {
            const historyDiv = document.getElementById('booking-history');
            const toggleBtn = document.getElementById('history-toggle-btn');
            
            if (historyDiv.classList.contains('hidden')) {
                historyDiv.classList.remove('hidden');
                toggleBtn.textContent = `ุฅุฎูุงุก ุณุฌู ุงูุญุฌูุฒุงุช ๐ (${bookings.length})`;
                renderBookingHistory();
            } else {
                historyDiv.classList.add('hidden');
                toggleBtn.innerHTML = `ุนุฑุถ ุณุฌู ุงูุญุฌูุฒุงุช ุงูุณุงุจูุฉ ๐ (<span id="bookings-count">${bookings.length}</span>)`;
            }
        }

        function renderBookingHistory() {
            const bookingsList = document.getElementById('bookings-list');
            if (!bookingsList) return;
            
            if (bookings.length === 0) {
                bookingsList.innerHTML = `
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">๐</div>
                        <p>ูุง ุชูุฌุฏ ุญุฌูุฒุงุช ุณุงุจูุฉ</p>
                    </div>
                `;
                return;
            }
            
            const sortedBookings = [...bookings].sort((a, b) => new Date(b.created_at) - new Date(a.created_at));
            
            bookingsList.innerHTML = sortedBookings.map(booking => {
                const createdDate = new Date(booking.created_at);
                const formattedDate = createdDate.toLocaleDateString('ar-SA', { day: '2-digit', month: 'long', year: 'numeric', hour: '2-digit', minute: '2-digit' });
                
                let devicesInfo = 'ูุง ุชูุฌุฏ ุฃุฌูุฒุฉ';
                try {
                    const devices = JSON.parse(booking.selected_devices || '[]');
                    if (devices.length > 0) {
                        devicesInfo = devices.map(d => `${d.name} (${d.quantity}ร${d.days} ุฃูุงู)`).join('ุ ');
                    }
                } catch (e) {}
                
                let addonsInfo = 'ูุง ุชูุฌุฏ ุฅุถุงูุงุช';
                try {
                    const addons = JSON.parse(booking.selected_addons || '[]');
                    if (addons.length > 0) {
                        addonsInfo = addons.map(a => a.name).join('ุ ');
                    }
                } catch (e) {}
                
                return `
                    <div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h4 class="font-bold text-lg text-purple-900">${booking.customer_name}</h4>
                                <p class="text-sm text-gray-500">${formattedDate}</p>
                            </div>
                            <div class="text-left">
                                <div class="text-lg font-bold text-purple-600">${booking.final_price} OMR</div>
                                <span class="inline-block px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full">${booking.status}</span>
                            </div>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <p class="text-gray-600 mb-1"><strong>ุงูุฌูุงู:</strong> ${booking.customer_phone}</p>
                                ${booking.event_type ? `<p class="text-gray-600 mb-1"><strong>ุงููุนุงููุฉ:</strong> ${booking.event_type}</p>` : ''}
                            </div>
                            <div>
                                <p class="text-gray-600 mb-1"><strong>ุงูุฃุฌูุฒุฉ:</strong> ${devicesInfo}</p>
                                <p class="text-gray-600 mb-1"><strong>ุงูุฅุถุงูุงุช:</strong> ${addonsInfo}</p>
                                ${booking.total_discount && parseFloat(booking.total_discount) > 0 ? `<p class="text-green-600 font-semibold"><strong>ุฎุตู:</strong> -${booking.total_discount} OMR</p>` : ''}
                            </div>
                        </div>
                        ${booking.notes ? `
                            <div class="mt-3 p-3 bg-gray-50 rounded-lg">
                                <p class="text-sm text-gray-700"><strong>ููุงุญุธุงุช:</strong> ${booking.notes}</p>
                            </div>
                        ` : ''}
                        <div class="mt-3 flex gap-2">
                            <button onclick="duplicateBooking('${booking.__backendId}')" class="bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold hover:bg-blue-600 transition-all">
                                ุชูุฑุงุฑ ุงูุทูุจ ๐
                            </button>
                            <button onclick="deleteBooking('${booking.__backendId}')" class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold hover:bg-red-600 transition-all">
                                ุญุฐู ๐๏ธ
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        async function deleteBooking(backendId) {
            if (!window.dataSdk) return;
            
            const booking = bookings.find(b => b.__backendId === backendId);
            if (!booking) return;
            
            const confirmDiv = document.createElement('div');
            confirmDiv.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            confirmDiv.innerHTML = `
                <div class="bg-white rounded-3xl p-6 max-w-md mx-4 text-center">
                    <div class="text-4xl mb-4">๐๏ธ</div>
                    <h3 class="text-xl font-bold mb-4 text-red-600">ุชุฃููุฏ ุงูุญุฐู</h3>
                    <p class="text-gray-600 mb-6">ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ุญุฌุฒ "${booking.customer_name}"ุ</p>
                    <div class="flex gap-3 justify-center">
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded-full font-bold hover:bg-gray-400 transition-all">
                            ุฅูุบุงุก
                        </button>
                        <button onclick="confirmDeleteBooking('${backendId}'); this.parentElement.parentElement.parentElement.remove();" class="bg-red-500 text-white px-4 py-2 rounded-full font-bold hover:bg-red-600 transition-all">
                            ุญุฐู ููุงุฆูุงู
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(confirmDiv);
        }

        async function confirmDeleteBooking(backendId) {
            if (!window.dataSdk) return;
            
            const booking = bookings.find(b => b.__backendId === backendId);
            if (!booking) return;
            
            const result = await window.dataSdk.delete(booking);
            if (result.isOk) {
                showToast('โ ุชู ุญุฐู ุงูุญุฌุฒ ุจูุฌุงุญ');
            } else {
                showToast('โ ูุดู ูู ุญุฐู ุงูุญุฌุฒ');
            }
        }

        function duplicateBooking(backendId) {
            const booking = bookings.find(b => b.__backendId === backendId);
            if (!booking) return;
            
            try {
                document.getElementById('customer-name').value = booking.customer_name;
                document.getElementById('customer-email').value = booking.customer_email || '';
                document.getElementById('customer-phone').value = booking.customer_phone;
                document.getElementById('event-type').value = booking.event_type || '';
                document.getElementById('event-location').value = booking.event_location || '';
                document.getElementById('notes').value = booking.notes || '';
                
                if (booking.inside_muscat) {
                    const radio = document.getElementById(booking.inside_muscat === 'yes' ? 'inside-muscat-yes' : 'inside-muscat-no');
                    if (radio) radio.checked = true;
                }
                
                if (booking.electricity_available) {
                    const radio = document.getElementById(booking.electricity_available === 'yes' ? 'electricity-yes' : 'electricity-no');
                    if (radio) radio.checked = true;
                }
                
                document.getElementById('distance-km').value = booking.distance_km || '';
                toggleDistanceField(); // ุชุญุฏูุซ ุฅุธูุงุฑ ุญูู ุงููุณุงูุฉ
                
                const devices = JSON.parse(booking.selected_devices || '[]');
                document.querySelectorAll('.device-checkbox').forEach(cb => cb.checked = false); // ุฅูุฑุงุบ ุงููุฏูู
                devices.forEach(device => {
                    const checkbox = document.querySelector(`.device-checkbox[data-device="${device.name}"]`);
                    const quantityInput = document.querySelector(`.device-quantity[data-device="${device.name}"]`);
                    const daysInput = document.querySelector(`.device-days[data-device="${device.name}"]`);
                    
                    if (checkbox) checkbox.checked = true;
                    if (quantityInput) quantityInput.value = device.quantity;
                    if (daysInput) daysInput.value = device.days;
                });
                
                const addons = JSON.parse(booking.selected_addons || '[]');
                document.querySelectorAll('.addon-checkbox').forEach(cb => cb.checked = false); // ุฅูุฑุงุบ ุงููุฏูู
                addons.forEach(addon => {
                    const checkbox = document.querySelector(`.addon-checkbox[data-addon="${addon.name}"]`);
                    if (checkbox) checkbox.checked = true;
                });
                
                updateDeviceSelection();
                updateAddonSelection();
                
                toggleBookingHistory();
                scrollToSection('booking');
                showToast('โ ุชู ุชูุฑุงุฑ ุงูุทูุจ! ุฑุงุฌุน ุงูุจูุงูุงุช ูุฃุฑุณู');
                
            } catch (error) {
                showToast('โ ุญุฏุซ ุฎุทุฃ ูู ุชูุฑุงุฑ ุงูุทูุจ');
            }
        }

        // --- ุฏูุงู ุงููุณุงุนุฏ ุงูุฐูู (Chat) ---
        // (ุงูููุฏ ููุฌูุฏ ูู ูููู ุงูุฃุตููุ ุชู ุงูุฅุจูุงุก ุนููู)
        let isFloatingChatOpen = false;

        function toggleFloatingChat() {
            const chatWindow = document.getElementById('floating-chat-window');
            const chatBtn = document.getElementById('floating-chat-btn');
            
            if (isFloatingChatOpen) {
                chatWindow.classList.add('hidden');
                chatBtn.style.transform = 'scale(1)';
                isFloatingChatOpen = false;
            } else {
                chatWindow.classList.remove('hidden');
                chatBtn.style.transform = 'scale(0.9)';
                isFloatingChatOpen = true;
                setTimeout(() => { document.getElementById('floating-chat-input').focus(); }, 100);
            }
        }

        function askFloatingQuestion(question) {
            addFloatingChatMessage(question, 'user');
            setTimeout(() => {
                const response = smartResponses[question] || analyzeMessage(question);
                addFloatingChatMessage(response.response || response.text, 'assistant', response.showWhatsAppContact);
                if (response.suggestions && response.suggestions.length > 0) {
                    addFloatingSuggestionButtons(response.suggestions);
                }
            }, 1000);
        }

        function sendFloatingChatMessage() {
            const input = document.getElementById('floating-chat-input');
            const message = input.value.trim();
            if (!message) return;
            addFloatingChatMessage(message, 'user');
            input.value = '';
            setTimeout(() => {
                const response = analyzeMessage(message);
                addFloatingChatMessage(response.text, 'assistant', response.showWhatsAppContact);
                if (response.suggestions && response.suggestions.length > 0) {
                    addFloatingSuggestionButtons(response.suggestions);
                }
            }, 1500);
        }

        function handleFloatingChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendFloatingChatMessage();
            }
        }

        function addFloatingChatMessage(message, sender, showWhatsAppContact = false) {
            const messagesContainer = document.getElementById('floating-chat-messages');
            const messageDiv = document.createElement('div');
            
            if (sender === 'user') {
                messageDiv.className = 'flex gap-2 justify-end';
                messageDiv.innerHTML = `
                    <div class="bg-purple-600 text-white rounded-2xl rounded-tr-sm p-3 max-w-xs">
                        <p class="text-sm">${message}</p>
                    </div>
                    <div class="w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs">๐ค</div>
                `;
            } else {
                messageDiv.className = 'flex gap-2';
                let messageContent = `
                    <div class="w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center text-white text-xs">๐ค</div>
                    <div class="bg-purple-50 rounded-2xl rounded-tl-sm p-3 max-w-xs">
                        <p class="text-sm whitespace-pre-line">${message}</p>
                `;
                
                if (showWhatsAppContact && userPhone && userPhone !== 'ุบูุฑ ูุญุฏุฏ') {
                    const contact = getRandomWhatsAppContact();
                    messageContent += `
                        <div class="mt-3 p-2 bg-green-50 border border-green-200 rounded-lg">
                            <div class="text-center">
                                <div class="text-xs font-bold text-green-800 mb-1">๐ฌ ุชูุงุตู ูุนูุง</div>
                                <div class="text-xs text-green-700 mb-2">${contact.name} ูุชููุฑ ููุณุงุนุฏุชู</div>
                                <a href="https://wa.me/${contact.number}" target="_blank" rel="noopener noreferrer" class="inline-block bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold hover:bg-green-600 transition-all">
                                    ุชูุงุตู ูุน ${contact.name}
                                </a>
                            </div>
                        </div>
                    `;
                    setTimeout(() => { resetChatState(); }, 1000);
                }
                
                messageContent += `</div>`;
                messageDiv.innerHTML = messageContent;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function addFloatingSuggestionButtons(suggestions) {
            const messagesContainer = document.getElementById('floating-chat-messages');
            const suggestionsDiv = document.createElement('div');
            suggestionsDiv.className = 'flex gap-2';
            
            const buttonsHTML = suggestions.map(suggestion => 
                `<button onclick="handleFloatingSuggestion('${suggestion}')" class="bg-blue-500 text-white px-2 py-1 rounded-full text-xs hover:bg-blue-600 transition-all">${suggestion}</button>`
            ).join('');
            
            suggestionsDiv.innerHTML = `
                <div class="w-6 h-6"></div>
                <div class="flex flex-wrap gap-1 mt-2">
                    ${buttonsHTML}
                </div>
            `;
            
            messagesContainer.appendChild(suggestionsDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function handleFloatingSuggestion(suggestion) {
            // (ุงูููุฏ ููุฌูุฏ ูู ูููู ุงูุฃุตููุ ุชู ุงูุฅุจูุงุก ุนููู)
            addFloatingChatMessage(suggestion, 'user');
            setTimeout(() => {
                const response = analyzeMessage(suggestion);
                addFloatingChatMessage(response.text, 'assistant', response.showWhatsAppContact);
                if (response.suggestions && response.suggestions.length > 0) {
                    addFloatingSuggestionButtons(response.suggestions);
                }
            }, 500);
        }

        const smartResponses = {
            'ูุง ูู ุงูุจุฑุงูุฏูุบุ': {
                response: 'ุงูุจุฑุงูุฏูุบ ูู ุชุฎุตูุต ุงูุฃุฌูุฒุฉ ุจูููุฉ ุดุฑูุชู ุฃู ูุนุงููุชู! ๐จ\n\nูุดูู:\nโข ุฅุถุงูุฉ ุงูุดุนุงุฑ ุนูู ุงูุฌูุงุฒ\nโข ุฃููุงู ูุฎุตุตุฉ ุญุณุจ ูููุชู\nโข ุชุตููู ูุงุฌูุฉ ูุทุงุจูุฉ ูุนูุงูุชู ุงูุชุฌุงุฑูุฉ\nโข ุฑุณุงุฆู ุชุฑุญูุจูุฉ ูุฎุตุตุฉ\n\nุงูุณุนุฑ: 15-35 OMR ุญุณุจ ุงูุชุนููุฏ',
                suggestions: ['ุฃุถู ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ ูุทูุจู', 'ุงุทูุจ ุนุฑุถ ุณุนุฑ ููุจุฑุงูุฏูุบ']
            },
            'ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุฑุถ': {
                response: 'ููุชุงุฒ! ูููุนุงุฑุถ ุฃูุตุญู ุจู: ๐บ\n\n๐ ุงูุฃูุถู: "ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ"\nโข ุชุนูู ุจุงูุจุทุงุฑูุฉ 8 ุณุงุนุงุช\nโข ุชุฏุนู ุงูููุณ ู NFC\nโข ูุซุงููุฉ ูููุนุงุฑุถ ุงููุชูููุฉ\n\n๐ก ุฅุถุงูุฉ ููุชุฑุญุฉ:\nโข ุตูุญุฉ ุชูุงุนููุฉ ูุฌูุน ุจูุงูุงุช ุงูุฒูุงุฑ\nโข ุจุฑุงูุฏูุบ ุจูููุฉ ุดุฑูุชู\nโข ุชุตููุฑ ุงุญุชุฑุงูู ูููุนุฑุถ',
                suggestions: ['ุฃุถู ุงูุดุงุดุฉ ุงููุชูููุฉ ูุทูุจู', 'ุงุทูุจ ุจุงูุฉ ุงููุนุงุฑุถ ุงููุงููุฉ']
            },
            'ูุง ุงููุฑู ุจูู ุงูุฃุฌูุฒุฉุ': {
                response: 'ุฅููู ุงููุฑููุงุช ุงูุฃุณุงุณูุฉ: ๐\n\n๐บ ูููุฉ ุชู (ุดุงุดุฉ ุงููููุฉ):\nโข ููุนุฑุถ ุงูุซุงุจุช ููุท\nโข ุชุญุชุงุฌ ููุฑุจุงุก ุฏุงุฆูุฉ\nโข ูุซุงููุฉ ููููุงุชุจ ูุงููุฏุงุฎู\n\n๐ ูููุฉ ุชู (ุงููุชูููุฉ):\nโข ุชุนูู ุจุงูุจุทุงุฑูุฉ 8 ุณุงุนุงุช\nโข ุชุฏุนู NFC ูุงูููุณ\nโข ูุซุงููุฉ ูููุนุงููุงุช ุงูุฎุงุฑุฌูุฉ\n\n๐ ููุณุฉ ุชู (ุงููุดู ุงูุชูุงุนูู):\nโข ุชุตููู ุนููุฏู ุฃููู\nโข ูุฎุตุต ูุฌูุน ุงูุจูุงูุงุช\nโข ูุซุงูู ููุชุณุฌูู ูุงูุงุณุชุจูุงูุงุช',
                suggestions: ['ูุงุฑู ุงูุฃุณุนุงุฑ', 'ุงุญุฌุฒ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ']
            },
            'ูู ุชูููุฉ ุงูุชุตููุฑุ': {
                response: 'ุชูููุฉ ุงูุชุตููุฑ ุงูุงุญุชุฑุงูู: ๐ธ\n\n๐ฐ ุงูุฃุณุนุงุฑ:\nโข ุชุตููุฑ ููุชูุบุฑุงูู: 65-90 OMR\nโข ุชุตููุฑ ููุฏูู: 80-120 OMR\nโข ููุฎุต ููุฏูู ูููุนุงููุฉ: +30 OMR\n\n๐ ุงููุดููู:\nโข ูุตูุฑ ูุญุชุฑู\nโข ูุนุฏุงุช ุนุงููุฉ ุงูุฌูุฏุฉ\nโข ุชุญุฑูุฑ ุฃุณุงุณู\nโข ุชุณููู ุฎูุงู 48 ุณุงุนุฉ',
                suggestions: ['ุฃุถู ุงูุชุตููุฑ ูุทูุจู', 'ุงุทูุจ ุนุฑุถ ุชุตููุฑ ูุฎุตุต']
            }
        };

        function askQuickQuestion(question) {
            addChatMessage(question, 'user');
            setTimeout(() => {
                const response = smartResponses[question] || analyzeMessage(question);
                addChatMessage(response.response || response.text, 'assistant', response.showWhatsAppContact);
                if (response.suggestions && response.suggestions.length > 0) {
                    addSuggestionButtons(response.suggestions);
                }
            }, 1000);
        }

        function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            addChatMessage(message, 'user');
            input.value = '';
            setTimeout(() => {
                const response = analyzeMessage(message);
                addChatMessage(response.text, 'assistant', response.showWhatsAppContact);
                if (response.suggestions && response.suggestions.length > 0) {
                    addSuggestionButtons(response.suggestions);
                }
            }, 1500);
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        function addChatMessage(message, sender, showWhatsAppContact = false) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            
            if (sender === 'user') {
                messageDiv.className = 'flex gap-3 justify-end';
                messageDiv.innerHTML = `
                    <div class="bg-purple-600 text-white rounded-2xl rounded-tr-sm p-4 max-w-md">
                        <p class="text-sm">${message}</p>
                    </div>
                    <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-sm">๐ค</div>
                `;
            } else {
                messageDiv.className = 'flex gap-3';
                let messageContent = `
                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm">๐ค</div>
                    <div class="bg-purple-50 rounded-2xl rounded-tl-sm p-4 max-w-md">
                        <p class="text-sm whitespace-pre-line">${message}</p>
                `;
                
                if (showWhatsAppContact && userPhone && userPhone !== 'ุบูุฑ ูุญุฏุฏ') {
                    const contact = getRandomWhatsAppContact();
                    messageContent += `
                        <div class="mt-4 p-3 bg-green-50 border border-green-200 rounded-lg">
                            <div class="text-center">
                                <div class="text-sm font-bold text-green-800 mb-2">๐ฌ ุชูุงุตู ูุนูุง ุนุจุฑ ุงููุงุชุณุงุจ</div>
                                <div class="text-xs text-green-700 mb-3">${contact.name} ูุชููุฑ ููุณุงุนุฏุชู</div>
                                <a href="https://wa.me/${contact.number}" target="_blank" rel="noopener noreferrer" class="inline-block bg-green-500 text-white px-4 py-2 rounded-full text-sm font-bold hover:bg-green-600 transition-all">
                                    ุชูุงุตู ูุน ${contact.name} ๐ฌ
                                </a>
                            </div>
                        </div>
                    `;
                    setTimeout(() => { resetChatState(); }, 1000);
                }
                
                messageContent += `</div>`;
                messageDiv.innerHTML = messageContent;
            }
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function resetChatState() {
            userMessage = '';
            hasReceivedDefaultResponse = false;
        }

        function resetFullChatSession() {
            chatState = 'normal';
            userMessage = '';
ย ย ย ย ย ย userPhone = '';
ย ย ย ย ย ย hasReceivedDefaultResponse = false;
ย ย ย ย ย ย conversationHistory = [];
ย ย ย ย ย ย messageCount = 0;
ย ย ย ย ย ย hasShownExpertMessage = false;
ย ย ย ย ย ย expertMessageShown = false;
ย ย ย ย }

ย ย ย ย function addSuggestionButtons(suggestions) {
ย ย ย ย ย ย const messagesContainer = document.getElementById('chat-messages');
ย ย ย ย ย ย const suggestionsDiv = document.createElement('div');
ย ย ย ย ย ย suggestionsDiv.className = 'flex gap-3';
ย ย ย ย ย ย 
ย ย ย ย ย ย const buttonsHTML = suggestions.map(suggestion => 
ย ย ย ย ย ย ย ย `<button onclick="handleSuggestion('${suggestion}')" class="bg-blue-500 text-white px-3 py-1 rounded-full text-xs hover:bg-blue-600 transition-all">${suggestion}</button>`
ย ย ย ย ย ย ).join('');
ย ย ย ย ย ย 
ย ย ย ย ย ย suggestionsDiv.innerHTML = `
ย ย ย ย ย ย ย ย <div class="w-8 h-8"></div>
ย ย ย ย ย ย ย ย <div class="flex flex-wrap gap-2 mt-2">
ย ย ย ย ย ย ย ย ย ย ${buttonsHTML}
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย `;
ย ย ย ย ย ย 
ย ย ย ย ย ย messagesContainer.appendChild(suggestionsDiv);
ย ย ย ย ย ย messagesContainer.scrollTop = messagesContainer.scrollHeight;
ย ย ย ย }

ย ย ย ย // ูุชุบูุฑุงุช ูุชุชุจุน ุญุงูุฉ ุงููุญุงุฏุซุฉ
ย ย ย ย let chatState = 'normal'; // normal, waiting_phone, contact_ready, asking_moment, completed
ย ย ย ย let userPhone = '';
ย ย ย ย let hasReceivedDefaultResponse = false; // ุชุชุจุน ูุง ุฅุฐุง ุชู ุนุฑุถ ุงูุฑุฏ ุงูุงูุชุฑุงุถู
ย ย ย ย let conversationHistory = []; // ุชุชุจุน ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ
ย ย ย ย let messageCount = 0; // ุนุฏุงุฏ ุงูุฑุณุงุฆู
ย ย ย ย let hasShownExpertMessage = false; // ุชุชุจุน ุนุฑุถ ุฑุณุงูุฉ ุงูุฎุจุฑุงุก (ูุฑุฉ ูุงุญุฏุฉ ููุท)
ย ย ย ย let expertMessageShown = false; // ุญูุงูุฉ ุฅุถุงููุฉ ูููุน ุชูุฑุงุฑ ุฑุณุงูุฉ ุงูุฎุจุฑุงุก

ย ย ย ย function analyzeMessage(message) {
ย ย ย ย ย ย const lowerMessage = message.toLowerCase();
ย ย ย ย ย ย messageCount++;
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฅุถุงูุฉ ุงูุฑุณุงูุฉ ูุชุงุฑูุฎ ุงููุญุงุฏุซุฉ
ย ย ย ย ย ย conversationHistory.push({
ย ย ย ย ย ย ย ย message: message,
ย ย ย ย ย ย ย ย timestamp: new Date().toISOString(),
ย ย ย ย ย ย ย ย messageNumber: messageCount
ย ย ย ย ย ย });
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฅุฐุง ููุง ูู ุงูุชุธุงุฑ ุฑูู ุงููุงุชู
ย ย ย ย ย ย if (chatState === 'waiting_phone') {
ย ย ย ย ย ย ย ย // ุงูุชุญูู ูู ุฃู ุงูุฑุณุงูุฉ ุชุญุชูู ุนูู ุฑูู ูุงุชู ุนููุงูู ุตุญูุญ
ย ย ย ย ย ย ย ย const phoneRegex = /(\+968|968|00968)?\s*[79]\d{7}|^[79]\d{7}$/;
ย ย ย ย ย ย ย ย if (phoneRegex.test(message.replace(/\s/g, ''))) {
ย ย ย ย ย ย ย ย ย ย userPhone = message.trim();
ย ย ย ย ย ย ย ย ย ย chatState = 'contact_ready';
ย ย ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย ย ย // ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู Formspree ูุน ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ ุงููุงูู
ย ย ย ย ย ย ย ย ย ย submitChatToFormspree(conversationHistory, userPhone);
ย ย ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย ย ย text: 'ููุชุงุฒ! ุดูุฑุงู ูู ๐\n\nุณุฃูุตูู ุงูุขู ูุน ุฃุญุฏ ุฎุจุฑุงุฆูุง ุนุจุฑ ุงููุงุชุณุงุจ ูููุณุงุนุฏุฉ ุงูุดุฎุตูุฉ ๐ฌ\n\nุณูููู ูุนู ุชูุงุตูู ูุญุงุฏุซุชูุง ูุณููุฏุฑ ูุณุงุนุฏู ุจุดูู ุฃูุถู! ๐ฏ',
ย ย ย ย ย ย ย ย ย ย ย ย showWhatsAppContact: true
ย ย ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย ย ย text: 'ูุฑุฌู ุฅุฏุฎุงู ุฑูู ูุงุชู ุนููุงูู ุตุญูุญ ๐ฑ\n\nูุซุงู: 98567383 ุฃู +968 98567383',
ย ย ย ย ย ย ย ย ย ย ย ย suggestions: []
ย ย ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฅุฐุง ููุง ูู ูุฑุญูุฉ ุฌุงูุฒูุฉ ุงูุชูุงุตู (ุจุนุฏ ุนุฑุถ ุฒุฑ ุงููุงุชุณุงุจ)
ย ย ย ย ย ย if (chatState === 'contact_ready') {
ย ย ย ย ย ย ย ย chatState = 'asking_moment';
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุจุงูููุงุณุจุฉุ ูู ุฃูุช ููุชู ุจุฎุฏูุงุช ูุฌููุนุฉ Moment+ ุงูุฃุฎุฑูุ ๐ฌ๐ค\n\n๐ช Event+ ูููุนุงููุงุช ูุงูุชุฑููู (ุงูุฎุฏูุฉ ุงูุญุงููุฉ)\n๐ค Moment AI ููุชูููุฉ ูุงูุฃุชูุชุฉ ุงูุฐููุฉ\n๐ฌ Moment Production ููุฅูุชุงุฌ ุงูููู\n\nูู ุชุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู ุฎุฏูุงุช ุงููุฌููุนุฉ ุงูุฃุฎุฑูุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู Moment+', 'ูุงุ ููุท Event+']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฅุฐุง ููุง ูู ูุฑุญูุฉ ุงูุณุคุงู ุนู Moment+
ย ย ย ย ย ย if (chatState === 'asking_moment') {
ย ย ย ย ย ย ย ย if (lowerMessage.includes('ูุนู') || lowerMessage.includes('ุฃุฑูุฏ') || lowerMessage.includes('ููุชู')) {
ย ย ย ย ย ย ย ย ย ย chatState = 'completed';
ย ย ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย ย ย text: 'ุฑุงุฆุน! ๐ฌ ูุฌููุนุฉ Moment+ ุชุถู ุฎุฏูุงุช ูุชููุนุฉ:\n\n๐ช Event+ ูููุนุงููุงุช ูุงูุชุฑููู\n๐ค Moment AI ููุชูููุฉ ูุงูุฃุชูุชุฉ ุงูุฐููุฉ\n๐ฌ Moment Production ููุฅูุชุงุฌ ุงูููู\n\nุณูุชูุงุตู ูุนู ุฎุจูุฑูุง ุนุจุฑ ุงููุงุชุณุงุจ ูููุฏู ูู ูุนูููุงุช ุดุงููุฉ ุนู ุฌููุน ุฎุฏูุงุช ุงููุฌููุนุฉ!\n\nุณุชุญุตู ุนูู ุงุณุชุดุงุฑุฉ ูุชูุงููุฉ ุชุบุทู ูู ุงุญุชูุงุฌุงุชู ๐ฏ',
ย ย ย ย ย ย ย ย ย ย ย ย showWhatsAppContact: true
ย ย ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย chatState = 'completed';
ย ย ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย ย ย text: 'ุชูุงู! ุณูุชูุงุตู ูุนู ุฎุจูุฑูุง ุนุจุฑ ุงููุงุชุณุงุจ ูููุณุงุนุฏุฉ ูู ุงุญุชูุงุฌุงุช Event+ ููุท ๐\n\nุณูููู ูุนู ุชูุงุตูู ูุญุงุฏุซุชูุง ูุณููุฏู ูู ุฃูุถู ุงูุญููู! ๐ฏ',
ย ย ย ย ย ย ย ย ย ย ย ย showWhatsAppContact: true
ย ย ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฅุฐุง ูุงูุช ุงููุญุงุฏุซุฉ ููุชููุฉุ ุนุฑุถ ุงูุฑุณุงูุฉ ุงูุงูุชุฑุงุถูุฉ ูุฑุฉ ุฃุฎุฑู
ย ย ย ย ย ย if (chatState === 'completed') {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุดูุฑุงู ูุณุคุงูู! ๐\n\nูุฃูุฏู ูู ุฃูุถู ุงูุชุฑุงุญุ ุฃุฎุจุฑูู:\nโข ูุง ููุน ูุนุงููุชูุ (ูุนุฑุถุ ูุคุชูุฑุ ุชุฏุดูู...)\nโข ูู ุนุฏุฏ ุงูุญุถูุฑ ุงููุชููุนุ\nโข ูู ุงููููุน ุฏุงุฎูู ุฃู ุฎุงุฑุฌูุ\n\nุฃู ููููู ุงุฎุชูุงุฑ ูู ุงูุฃุณุฆูุฉ ุงูุณุฑูุนุฉ ุฃุนูุงู! ๐\n\nุฃู ุงุณุชุฎุฏู ูุธุงู ุงูุญุฌุฒ ุฃุฏูุงู ูุจุงุดุฑุฉ ๐',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ูุนุฑุถ ุชุฌุงุฑู', 'ูุคุชูุฑ ุฃู ูุฏูุฉ', 'ุชุฏุดูู ููุชุฌ', 'ุงูุชูู ููุธุงู ุงูุญุฌุฒ']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุงูุฑุฏูุฏ ุนูู ุงูุชุญูุงุช ูุงููุฌุงููุงุช ุงูุนุงูุฉ
ย ย ย ย ย ย if (lowerMessage.includes('ุงูุณูุงู ุนูููู') || lowerMessage.includes('ุณูุงู ุนูููู')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ูุนูููู ุงูุณูุงู ูุฑุญูุฉ ุงููู ูุจุฑูุงุชู! ๐\n\nุฃููุงู ูุณููุงู ุจู ูู EventPlusุ ุฃูุง ุนุงุฑู ูุณุงุนุฏู ุงูุฐูู ๐ค\n\nููู ูููููู ูุณุงุนุฏุชู ุงููููุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุงููุฉ', 'ุฃุฑูุฏ ูุนุฑูุฉ ุงูุฃุณุนุงุฑ', 'ูุง ูู ุฎุฏูุงุชููุ']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ูุฑุญุจุง') || lowerMessage.includes('ูุฑุญุจุงู') || lowerMessage.includes('ููุง') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ุฃูููู') || lowerMessage.includes('ูุงู') || lowerMessage.includes('hello')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุฃููุงู ูุณููุงู! ูุฑุญุจุงู ุจู ูู EventPlus ๐\n\nุฃูุง ุนุงุฑูุ ูุณุงุนุฏู ุงูุฐูู ุงููุชุฎุตุต ูู ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ๐ฏ\n\nุณุนูุฏ ุจููุงุฆู! ููู ูููููู ูุณุงุนุฏุชูุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุงููุฉ', 'ุฃุฑูุฏ ูุนุฑูุฉ ุงูุฃุณุนุงุฑ', 'ูุง ูู ุฎุฏูุงุชููุ']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ูููู') || lowerMessage.includes('ููู ุญุงูู') || lowerMessage.includes('ุดูููู') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ููู ุงูุฃุญูุงู') || lowerMessage.includes('ุฅูุด ุฃุฎุจุงุฑู')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุงูุญูุฏ ููู ุจุฎูุฑ ูุนุงููุฉ! ๐\n\nุฃูุง ููุง ููุณุชุนุฏ ููุณุงุนุฏุชู ูู ูู ูุง ูุฎุต ุญููู ุงูุนุฑุถ ูุงูุชูุงุนู ๐ช\n\nูุฃูุช ููู ุญุงููุ ุฃุชููู ุชููู ุจุฃูุถู ุญุงู! ๐\n\nุฅูุด ุงููู ูููููู ุฃุณุงุนุฏู ููู ุงููููุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุฃุญุชุงุฌ ุดุงุดุฉ ููุนุงููุฉ', 'ุฃุฑูุฏ ูุนุฑูุฉ ุงูุฃุณุนุงุฑ', 'ูุง ูู ุฎุฏูุงุชููุ']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุดูุฑุง') || lowerMessage.includes('ุดูุฑุงู') || lowerMessage.includes('ูุดููุฑ') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ูุนุทูู ุงูุนุงููุฉ') || lowerMessage.includes('ุงููู ูุนุทูู ุงูุนุงููุฉ')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุงูุนูู! ๐ ุงููู ูุนุงููู ููุณุนุฏู ๐\n\nูุฐุง ูุงุฌุจู ููู ุฏูุงุนู ุณุฑูุฑู ูุณุงุนุฏุชู! ๐\n\nุฅุฐุง ุงุญุชุฌุช ุฃู ุดูุก ุขุฎุฑุ ุฃูุง ููุง ุฏุงุฆูุงู ๐ค\n\nูู ุชุญุชุงุฌ ูุณุงุนุฏุฉ ูู ุดูุก ุขุฎุฑุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ูุนู ุฃุญุชุงุฌ ูุณุงุนุฏุฉ ุฃุฎุฑู', 'ูุง ุดูุฑุงู', 'ุฃุฑูุฏ ุงูุชูุงุตู ูุน ุงููุฑูู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุจุฎูุฑ') || lowerMessage.includes('ุงูุญูุฏ ููู') || lowerMessage.includes('ุชูุงู') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ูููุณ') || lowerMessage.includes('ุฒูู')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุงูุญูุฏ ููู! ูุณุนุฏูู ุฅูู ุจุฎูุฑ ๐\n\nุทูุจุ ุฎููุง ูุฏุฎู ูู ุงูููุถูุน ุงูููู ๐ผ\n\nุฅูุด ููุน ุงููุนุงููุฉ ุงููู ุชุฎุทุท ููุงุ ุฃู ุฅูุด ุงููู ุชุญุชุงุฌ ูุณุงุนุฏุฉ ูููุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ูุนุฑุถ ุชุฌุงุฑู', 'ูุคุชูุฑ ุฃู ูุฏูุฉ', 'ุชุฏุดูู ููุชุฌ', 'ูุนุงููุฉ ุฃุฎุฑู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ูุง ุดูุฑุงู') || lowerMessage.includes('ูุง ุดูุฑุง') || lowerMessage.includes('ุฎูุงุต') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ููุงูุฉ') || lowerMessage.includes('ุงูุชููุช')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุชูุงู! ๐\n\nูุงู ูู ุฏูุงุนู ุณุฑูุฑู ูุณุงุนุฏุชู ุงูููู ๐\n\nุฅุฐุง ุงุญุชุฌุช ุฃู ุดูุก ูู ุงููุณุชูุจูุ ูุง ุชุชุฑุฏุฏ ูู ุงูุชูุงุตู ูุนูุง!\n\nEventPlus ุฏุงุฆูุงู ูู ุฎุฏูุชู ๐ฏโจ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุดูุฑุงู ููู', 'ุณุฃุชูุงุตู ูุงุญูุงู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุงูุฑุฏูุฏ ุงูุชูููุฉ ูุงููุชุฎุตุตุฉ
ย ย ย ย ย ย if (lowerMessage.includes('ูุนุฑุถ') || lowerMessage.includes('exhibition')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุฑุงุฆุน! ุฅููู ุฃููุงุน ุงูุดุงุดุงุช ูุงุณุชุฎุฏุงูุงุชูุง ูููุนุงุฑุถ: ๐ช\n\n๐บ **ูููุฉ ุชู โ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ**\nโข ููุนุฑุถ ุงูุซุงุจุช ูู ุงููุฏุฎู\nโข ุชุญุชุงุฌ ููุฑุจุงุก ุฏุงุฆูุฉ\nโข ูุซุงููุฉ ูุนุฑุถ ูุนูููุงุช ุงูุดุฑูุฉ\n\n๐ **ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ**\nโข ุชุนูู ุจุงูุจุทุงุฑูุฉ 8 ุณุงุนุงุช\nโข ุชุฏุนู NFC ูุงูููุณ\nโข ูุซุงููุฉ ูููุนุงุฑุถ ุงูุฎุงุฑุฌูุฉ ูุงูุชููู\n\n๐ **ููุณุฉ ุชู โ ุงููุดู ุงูุชูุงุนูู**\nโข ุชุตููู ุนููุฏู ุฃููู\nโข ูุฎุตุต ูุฌูุน ุจูุงูุงุช ุงูุฒูุงุฑ\nโข ูุซุงูู ููุชุณุฌูู ูุงูุงุณุชุจูุงูุงุช\n\n๐ก ูููุนุงุฑุถ ุฃูุตุญ ุจุงูุดุงุดุฉ ุงููุชูููุฉ + ุงููุดู ุงูุชูุงุนูู!\n\nูู ุชุฑูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุตููุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุฃุถู ุงูุดุงุดุฉ ุงููุชูููุฉ', 'ุฃุฑูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุตูู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ูุคุชูุฑ') || lowerMessage.includes('conference') || lowerMessage.includes('ูุฏูุฉ')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ููุชุงุฒ! ูููุคุชูุฑุงุช ุฃูุชุฑุญ ุนููู: ๐ค\n\n๐บ ุดุงุดุฉ ุงููููุฉ ุงูุฐููุฉ ูููุฏุฎู\n๐ ูุดู ุชูุงุนูู ูุชุณุฌูู ุงูุญุถูุฑ\n๐ฌ ููุฏูู ููุดู ุชุฑุญูุจู\n๐ธ ุชุตููุฑ ุงุญุชุฑุงูู ููุฌูุณุงุช\n\nูุฐุง ุณูุนุทู ุงูุทุจุงุนุงู ููููุงู ุฑุงุฆุนุงู!\n\nูู ุชุฑูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุตููุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุงุญุฌุฒ ุจุงูุฉ ุงููุคุชูุฑุงุช', 'ุฃุฑูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุตูู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุชุฏุดูู') || lowerMessage.includes('launch') || lowerMessage.includes('ุงูุชุชุงุญ')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุชุฏุดูู ุฑุงุฆุน! ๐ ุฃูุชุฑุญ ุนููู:\n\n๐ฏ ุจุงูุฉ Premium Complete:\nโข ุดุงุดุชุงู ููุนุฑุถ\nโข ุชุตููุฑ ุงุญุชุฑุงูู + ููุฎุต ููุฏูู\nโข ุจุฑุงูุฏูุบ ูุงูู ุจูููุชู\nโข ุตูุฑ ูุฎุตุตุฉ ููุดุงุดุงุช\n\nุณูุฌุนู ุชุฏุดููู ูุง ูููุณู! โจ\n\nูู ุชุฑูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุตููุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุงุญุฌุฒ ุจุงูุฉ Premium Complete', 'ุฃุฑูุฏ ุงููุฒูุฏ ูู ุงูุชูุงุตูู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุชุตููุฑ') || lowerMessage.includes('photography') || lowerMessage.includes('ุชูุซูู')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ูู ูุฏูู ูุนุงููุฉ ููุฏุฑ ููุซููุง ูู ุจุฃุญูู ุชูุซููุ ๐ธโจ\n\nูุญู ุฌุฒุก ูู ูุฌููุนุฉ Moment+ ุงูุชู ุชุถู:\n\n๐ช Event+ ูููุนุงููุงุช ูุงูุชุฑููู\n๐ค Moment AI ููุชูููุฉ ูุงูุฃุชูุชุฉ ุงูุฐููุฉ\n๐ฌ Moment Production ููุฅูุชุงุฌ ุงูููู\n\nุฌุฑุจ ุชุดูู ุฃุนูุงููุงุ ูููู ูุจูุฑู! ๐ฌ\n\n๐ ุชุนุฑู ุฃูุซุฑ ุนูู ูุฌููุนุชูุง ุนุจุฑ ุจุทุงูุชูุง ุงูุชุนุฑูููุฉ:\n๐ https://mnt.wsal.ai\n\nุฃู ููููู ุฅุถุงูุฉ ุงูุชุตููุฑ ุงูุงุญุชุฑุงูู ูุทูุจู ูุจุงุดุฑุฉ! ๐ฏ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุฃุถู ุงูุชุตููุฑ ูุทูุจู', 'ุฃุฑูุฏ ุฑุคูุฉ ุฃุนูุงููู', 'ุชูุงุตู ููุชูุซูู ุงูุงุญุชุฑุงูู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุณุนุฑ') || lowerMessage.includes('ุชูููุฉ') || lowerMessage.includes('ูู') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ุฃุณุนุงุฑ') || lowerMessage.includes('ูููุณ')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุจุฎุตูุต ุงูุฃุณุนุงุฑ: ๐ฐ\n\n๐ฑ ุงูุฃุฌูุฒุฉ: 45-50 OMR/ููู\n๐ ุงูุฅุถุงูุงุช: ุญุณุจ ุงูุทูุจ\n๐ ุงูุชูุตูู: 15-60 OMR ุญุณุจ ุงูุนุฏุฏ\n\n๐ก ุฎุตููุงุช ุฐููุฉ:\nโข ุฎุตู ุงูุฃุฌูุฒุฉ ุงููุชุนุฏุฏุฉ: 10%\nโข ุฎุตู ุงููุชุฑุงุช ุงูุทูููุฉ: ุญุชู 50%\nโข ุฎุตู ุงูุฅุถุงูุงุช ุงููุชุนุฏุฏุฉ: 8-15%\n\nุฌููุน ุงูุฃุณุนุงุฑ ูุงุจูุฉ ููุชูุงูุถ! ๐ค\n\nูู ุชุฑูุฏ ุนุฑุถ ุณุนุฑ ูุฎุตุตุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุงุญุณุจ ุชูููุฉ ุทูุจู', 'ุฃุฑูุฏ ุนุฑุถ ุณุนุฑ ูุฎุตุต']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุจุทุงุฑูุฉ') || lowerMessage.includes('ููุฑุจุงุก')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุจุฎุตูุต ุงูููุฑุจุงุก ูุงูุจุทุงุฑูุฉ: โก\n\n๐ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ:\nโข ุชุนูู 8 ุณุงุนุงุช ูุชูุงุตูุฉ\nโข ูุง ุชุญุชุงุฌ ููุฑุจุงุก ุฎุงุฑุฌูุฉ\nโข ูุซุงููุฉ ูููุนุงููุงุช ุงูุฎุงุฑุฌูุฉ\n\nโก ุงูุดุงุดุงุช ุงูุฃุฎุฑู:\nโข ุชุญุชุงุฌ ูุตุฏุฑ ููุฑุจุงุก\nโข ูุซุงููุฉ ููุฃูุงูู ุงููุบููุฉ\n\nุฃู ููุน ูุนุงููุชูุ ๐ค',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุฃุญุชุงุฌ ุดุงุดุฉ ุจุทุงุฑูุฉ', 'ูุนุงููุชู ูู ููุงู ูุบูู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย if (lowerMessage.includes('ุฎุฏูุงุช') || lowerMessage.includes('ูุง ุชูุฏููู') || lowerMessage.includes('ุฅูุด ุนูุฏูู')) {
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุฎุฏูุงุชูุง ูู Event+ (ุฌุฒุก ูู ูุฌููุนุฉ Moment+): ๐ฏ\n\n๐ฑ ุงูุฃุฌูุฒุฉ:\nโข ุดุงุดุงุช ุฐููุฉ ุชูุงุนููุฉ\nโข ุฃูุดุงู ุชูุงุนููุฉ\nโข ุดุงุดุงุช ุจุทุงุฑูุฉ ูุชูููุฉ\n\n๐จ ุงูุฅุถุงูุงุช:\nโข ุจุฑุงูุฏูุบ ูุฎุตุต\nโข ุตูุญุงุช ุชูุงุนููุฉ HTML\nโข ุฃูุนุงุจ ุชูุงุนููุฉ\nโข ุชุตููุฑ ุงุญุชุฑุงูู\nโข ููุฏูู ููุดู\n\n๐ผ ุงูุจุงูุงุช:\nโข Essential Plus\nโข Interactive Pro\nโข Premium Complete\n\n๐ ูุฌููุนุฉ Moment+ ุชุถู ุฃูุถุงู:\nโข Moment AI ููุชูููุฉ ูุงูุฃุชูุชุฉ ุงูุฐููุฉ\nโข Moment Production ููุฅูุชุงุฌ ุงูููู\n\nุฃู ุฎุฏูุฉ ุชููู ุฃูุซุฑุ',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุงูุฃุฌูุฒุฉ ูุงูุดุงุดุงุช', 'ุงูุฅุถุงูุงุช ูุงูุชุตููุฑ', 'ุฎุฏูุงุช ุงููุฌููุนุฉ ุงูุฃุฎุฑู']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุงูุชุญูู ูู ุทูุจ ุงููุฒูุฏ ูู ุงูุชูุงุตูู ุฃู ุนุฑุถ ุณุนุฑ ูุฎุตุต
ย ย ย ย ย ย if (lowerMessage.includes('ุงููุฒูุฏ ูู ุงูุชูุงุตูู') || lowerMessage.includes('ุนุฑุถ ุณุนุฑ ูุฎุตุต') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ุชูุงุตูู') || lowerMessage.includes('ูุฎุตุต') || 
ย ย ย ย ย ย ย ย lowerMessage.includes('ุฃุฑูุฏ') || lowerMessage.includes('ุฃุญุชุงุฌ')) {
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย userMessage = message;
ย ย ย ย ย ย ย ย chatState = 'waiting_phone';
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ููุชุงุฒ! ุณุฃุญุชุงุฌ ุฑูู ูุงุชูู ูุฃุชูุงุตู ูุนู ูุฃูุฏู ูู ุนุฑุถุงู ูุฎุตุตุงู ๐ฑ\n\nูุฑุฌู ูุชุงุจุฉ ุฑูู ูุงุชูู:',
ย ย ย ย ย ย ย ย ย ย suggestions: []
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุจุนุฏ 4-5 ุฑุณุงุฆูุ ุงูุณุคุงู ุนู ุฑูู ุงููุงุชู ุฃููุงู (ูุฑุฉ ูุงุญุฏุฉ ููุท ูู ุงูุฌูุณุฉ)
ย ย ย ย ย ย if (messageCount >= 4 && chatState === 'normal' && !hasShownExpertMessage && !expertMessageShown) {
ย ย ย ย ย ย ย ย hasShownExpertMessage = true;
ย ย ย ย ย ย ย ย expertMessageShown = true; // ุญูุงูุฉ ุฅุถุงููุฉ
ย ย ย ย ย ย ย ย userMessage = message;
ย ย ย ย ย ย ย ย chatState = 'waiting_phone';
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ูุจุฏู ุฅูู ููุชู ุจุฎุฏูุงุชูุง! ๐\n\nูุฃูุฏู ูู ุฃูุถู ุฎุฏูุฉ ููุณุงุนุฏุฉ ุดุฎุตูุฉ ุฃูุซุฑุ ุณุฃูุตูู ูุน ุฃุญุฏ ุฎุจุฑุงุฆูุง ุนุจุฑ ุงููุงุชุณุงุจ ๐ฌ\n\nุณูููู ูุนู ุชูุงุตูู ูุญุงุฏุซุชูุง ูุณููุฏุฑ ูุณุงุนุฏู ุจุดูู ุฃูุถู! ๐ฏ\n\nูุฑุฌู ูุชุงุจุฉ ุฑูู ูุงุชูู ููุชูุงุตู:',
ย ย ย ย ย ย ย ย ย ย suggestions: []
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฑุฏ ุงูุชุฑุงุถู ุฐูู - ุฅุฐุง ูู ูุชู ุนุฑุถู ูู ูุจูุ ุงุนุฑุถู ูุงูุชุธุฑ ุงูุฑุฏ
ย ย ย ย ย ย if (!hasReceivedDefaultResponse) {
ย ย ย ย ย ย ย ย hasReceivedDefaultResponse = true;
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: 'ุดูุฑุงู ูุณุคุงูู! ๐\n\nูุฃูุฏู ูู ุฃูุถู ุงูุชุฑุงุญุ ุฃุฎุจุฑูู:\nโข ูุง ููุน ูุนุงููุชูุ (ูุนุฑุถุ ูุคุชูุฑุ ุชุฏุดูู...)\nโข ูู ุนุฏุฏ ุงูุญุถูุฑ ุงููุชููุนุ\nโข ูู ุงููููุน ุฏุงุฎูู ุฃู ุฎุงุฑุฌูุ\n\nุฃู ููููู ุงุฎุชูุงุฑ ูู ุงูุฃุณุฆูุฉ ุงูุณุฑูุนุฉ ุฃุนูุงู! ๐',
ย ย ย ย ย ย ย ย ย ย suggestions: ['ุชูุงุตู ูุจุงุดุฑ', 'ุงุญุฌุฒ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย // ุฑุฏ ุนุงู ููุฑุณุงุฆู ุบูุฑ ุงููููููุฉ
ย ย ย ย ย ย ย ย const generalResponses = [
ย ย ย ย ย ย ย ย ย ย 'ูููุช! ๐ค ุฏุนูู ุฃุณุงุนุฏู ุฃูุซุฑ...\n\nูู ููููู ุชูุถูุญ ููุน ุงููุนุงููุฉ ุฃู ุงูุฎุฏูุฉ ุงููู ุชุญุชุงุฌูุงุ',
ย ย ย ย ย ย ย ย ย ย 'ููุชุงุฒ! ๐ ุฃูุฏุฑ ุฃุณุงุนุฏู ุจุดูู ุฃูุถู ูู ุนุฑูุช:\n\nโข ููุน ุงููุนุงููุฉ\nโข ุนุฏุฏ ุงูุญุถูุฑ ุงููุชููุน\nโข ุงููููุน ูุงูุชุงุฑูุฎ',
ย ย ย ย ย ย ย ย ย ย 'ุฃููุฏ ูููููู ูุณุงุนุฏุชู! ๐\n\nุจุณ ุฃุญุชุงุฌ ุฃุนุฑู ุชูุงุตูู ุฃูุซุฑ ุนู ุงุญุชูุงุฌุงุชู ุนุดุงู ุฃูุฏู ูู ุฃูุถู ุญู ๐ฏ'
ย ย ย ย ย ย ย ย ];
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย const randomResponse = generalResponses[Math.floor(Math.random() * generalResponses.length)];
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย return {
ย ย ย ย ย ย ย ย ย ย text: randomResponse,
ย ย ย ย ย ย ย ย ย ย suggestions: ['ูุนุฑุถ ุชุฌุงุฑู', 'ูุคุชูุฑ ุฃู ูุฏูุฉ', 'ุชุฏุดูู ููุชุฌ', 'ุฃุฑูุฏ ุงูุชูุงุตู ุงููุจุงุดุฑ']
ย ย ย ย ย ย ย ย };
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย // ุฏุงูุฉ ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู Formspree
ย ย ย ย async function submitChatToFormspree(conversationHistory, phone) {
ย ย ย ย ย ย try {
ย ย ย ย ย ย ย ย const formData = new FormData();
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย // ุชุญููู ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ ุฅูู ูุต ููุณู
ย ย ย ย ย ย ย ย const conversationText = conversationHistory.map((entry, index) => {
ย ย ย ย ย ย ย ย ย ย const time = new Date(entry.timestamp).toLocaleTimeString('ar-SA', {
ย ย ย ย ย ย ย ย ย ย ย ย hour: '2-digit',
ย ย ย ย ย ย ย ย ย ย ย ย minute: '2-digit'
ย ย ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย ย ย ย ย return `${index + 1}. [${time}] ${entry.message}`;
ย ย ย ย ย ย ย ย }).join('\n');
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย formData.append('conversation_history', conversationText);
ย ย ย ย ย ย ย ย formData.append('phone', phone);
ย ย ย ย ย ย ย ย formData.append('source', 'Smart Assistant Chat - ุนุงุฑู');
ย ย ย ย ย ย ย ย formData.append('total_messages', conversationHistory.length.toString());
ย ย ย ย ย ย ย ย formData.append('session_start', conversationHistory[0]?.timestamp || new Date().toISOString());
ย ย ย ย ย ย ย ย formData.append('session_end', new Date().toISOString());
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย // ุฅุถุงูุฉ ููุฎุต ุณุฑูุน ูููุญุงุฏุซุฉ
ย ย ย ย ย ย ย ย const lastMessage = conversationHistory[conversationHistory.length - 1]?.message || '';
ย ย ย ย ย ย ย ย const summary = generateConversationSummary(conversationHistory);
ย ย ย ย ย ย ย ย formData.append('conversation_summary', summary);
ย ย ย ย ย ย ย ย formData.append('last_message', lastMessage);
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย const response = await fetch('https://formspree.io/f/mdkpqkgy', {
ย ย ย ย ย ย ย ย ย ย method: 'POST',
ย ย ย ย ย ย ย ย ย ย body: formData,
ย ย ย ย ย ย ย ย ย ย headers: {
ย ย ย ย ย ย ย ย ย ย ย ย 'Accept': 'application/json'
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย ย ย 
ย ย ย ย ย ย ย ย if (response.ok) {
ย ย ย ย ย ย ย ย ย ย console.log('ุชู ุฅุฑุณุงู ุชุงุฑูุฎ ุงููุญุงุฏุซุฉ ุจูุฌุงุญ ุฅูู Formspree');
ย ย ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย ย ย console.error('ูุดู ูู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู Formspree');
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย } catch (error) {
ย ย ย ย ย ย ย ย console.error('ุฎุทุฃ ูู ุฅุฑุณุงู ุงูุจูุงูุงุช:', error);
ย ย ย ย ย ย }
ย ย ย ย }
ย ย ย ย 
ย ย ย ย // ุฏุงูุฉ ุฅูุดุงุก ููุฎุต ูููุญุงุฏุซุฉ
ย ย ย ย function generateConversationSummary(history) {
ย ย ย ย ย ย if (history.length === 0) return 'ูุญุงุฏุซุฉ ูุงุฑุบุฉ';
ย ย ย ย ย ย 
ย ย ย ย ย ย const messages = history.map(h => h.message.toLowerCase());
ย ย ย ย ย ย let interests = [];
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุชุญููู ุงูุชูุงูุงุช ุงูุนููู
ย ย ย ย ย ย if (messages.some(m => m.includes('ูุนุฑุถ'))) interests.push('ูุนุงุฑุถ');
ย ย ย ย ย ย if (messages.some(m => m.includes('ูุคุชูุฑ') || m.includes('ูุฏูุฉ'))) interests.push('ูุคุชูุฑุงุช');
ย ย ย ย ย ย if (messages.some(m => m.includes('ุชุฏุดูู') || m.includes('ุงูุชุชุงุญ'))) interests.push('ุชุฏุดูู');
ย ย ย ย ย ย if (messages.some(m => m.includes('ุณุนุฑ') || m.includes('ุชูููุฉ'))) interests.push('ุงุณุชูุณุงุฑ ุฃุณุนุงุฑ');
ย ย ย ย ย ย if (messages.some(m => m.includes('ุดุงุดุฉ') || m.includes('ุฌูุงุฒ'))) interests.push('ุฃุฌูุฒุฉ');
ย ย ย ย ย ย if (messages.some(m => m.includes('ุชุตููุฑ'))) interests.push('ุชุตููุฑ ุงุญุชุฑุงูู');
ย ย ย ย ย ย if (messages.some(m => m.includes('ุจุฑุงูุฏูุบ'))) interests.push('ุจุฑุงูุฏูุบ');
ย ย ย ย ย ย 
ย ย ย ย ย ย const interestsSummary = interests.length > 0 ? interests.join('ุ ') : 'ุงุณุชูุณุงุฑ ุนุงู';
ย ย ย ย ย ย 
ย ย ย ย ย ย return `ุงูุนููู ุฃุธูุฑ ุงูุชูุงูุงู ุจู: ${interestsSummary} | ุนุฏุฏ ุงูุฑุณุงุฆู: ${history.length} | ุงููุฏุฉ: ${Math.round((new Date(history[history.length - 1]?.timestamp) - new Date(history[0]?.timestamp)) / 60000)} ุฏูููุฉ`;
ย ย ย ย }

ย ย ย ย // ุฏุงูุฉ ุงุฎุชูุงุฑ ุฑูู ูุงุชุณุงุจ ุนุดูุงุฆู
ย ย ย ย function getRandomWhatsAppContact() {
ย ย ย ย ย ย const contacts = [
ย ย ย ย ย ย ย ย { name: 'ุญูุฏ', number: '96898567383' },
ย ย ย ย ย ย ย ย { name: 'ุนุจุฏุงูุนุฒูุฒ', number: '96877220363' }
ย ย ย ย ย ย ];
ย ย ย ย ย ย 
ย ย ย ย ย ย const randomIndex = Math.floor(Math.random() * contacts.length);
ย ย ย ย ย ย return contacts[randomIndex];
ย ย ย ย }

ย ย ย ย function handleSuggestion(suggestion) {
ย ย ย ย ย ย if (suggestion.includes('ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู Moment+')) {
ย ย ย ย ย ย ย ย addChatMessage('ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู Moment+', 'user');
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย const response = analyzeMessage('ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู Moment+');
ย ย ย ย ย ย ย ย ย ย addChatMessage(response.text, 'assistant', response.showWhatsAppContact);
ย ย ย ย ย ย ย ย }, 500);
ย ย ย ย ย ย } else if (suggestion.includes('ูุงุ ููุท Event+')) {
ย ย ย ย ย ย ย ย addChatMessage('ูุงุ ููุท Event+', 'user');
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย const response = analyzeMessage('ูุงุ ููุท Event+');
ย ย ย ย ย ย ย ย ย ย addChatMessage(response.text, 'assistant', response.showWhatsAppContact);
ย ย ย ย ย ย ย ย }, 500);
ย ย ย ย ย ย } else if (suggestion.includes('ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ')) {
ย ย ย ย ย ย ย ย addChatMessage('ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ', 'user');
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย const response = analyzeMessage('ูุนูุ ุฃุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ');
ย ย ย ย ย ย ย ย ย ย addChatMessage(response.text, 'assistant');
ย ย ย ย ย ย ย ย }, 500);
ย ย ย ย ย ย } else if (suggestion.includes('ูุงุ ุดูุฑุงู')) {
ย ย ย ย ย ย ย ย addChatMessage('ูุงุ ุดูุฑุงู', 'user');
ย ย ย ย ย ย ย ย setTimeout(() => {
ย ย ย ย ย ย ย ย ย ย const response = analyzeMessage('ูุงุ ุดูุฑุงู');
ย ย ย ย ย ย ย ย ย ย addChatMessage(response.text, 'assistant');
ย ย ย ย ย ย ย ย ย ย if (response.suggestions && response.suggestions.length > 0) {
ย ย ย ย ย ย ย ย ย ย ย ย addSuggestionButtons(response.suggestions);
ย ย ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย ย ย }, 500);
ย ย ย ย ย ย } else if (suggestion.includes('ุงูุชูู ููุธุงู ุงูุญุฌุฒ')) {
ย ย ย ย ย ย ย ย scrollToSection('booking');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุชูุฌููู ููุธุงู ุงูุญุฌุฒ! ๐', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุดูุฑุงู ููู')) {
ย ย ย ย ย ย ย ย scrollToSection('booking');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุชูุฌููู ููุธุงู ุงูุญุฌุฒ! ๐', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุฃุถู ุงูุดุงุดุฉ ุงููุชูููุฉ')) {
ย ย ย ย ย ย ย ย addDeviceToSelection('ูููุฉ ุชู โ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ', 45, 400);
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุฅุถุงูุฉ ุงูุดุงุดุฉ ุงููุชูููุฉ ุงูุฐููุฉ ูุทูุจู! โ', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุฃุถู ุงูุชุตููุฑ')) {
ย ย ย ย ย ย ย ย const photographyCheckbox = document.querySelector('.addon-checkbox[data-addon="ุชุตููุฑ ุงุญุชุฑุงูู"]');
ย ย ย ย ย ย ย ย if (photographyCheckbox) {
ย ย ย ย ย ย ย ย ย ย photographyCheckbox.checked = true;
ย ย ย ย ย ย ย ย ย ย updateAddonSelection();
ย ย ย ย ย ย ย ย ย ย addChatMessage('ุชู ุฅุถุงูุฉ ุงูุชุตููุฑ ุงูุงุญุชุฑุงูู ูุทูุจู! ๐ธ', 'assistant');
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย } else if (suggestion.includes('ุฃุฑูุฏ ุฑุคูุฉ ุฃุนูุงููู')) {
ย ย ย ย ย ย ย ย window.open('https://mnt.wsal.ai', '_blank');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ูุชุญ ุจุทุงูุชูุง ุงูุชุนุฑูููุฉ! ุดุงูุฏ ุฃุนูุงููุง ูุฅุจุฏุงุนุงุชูุง ๐ฌโจ', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุชูุงุตู ููุชูุซูู ุงูุงุญุชุฑุงูู')) {
ย ย ย ย ย ย ย ย const message = encodeURIComponent('ูุฑุญุจุงูุ ุฃุฑุบุจ ูู ุงูุงุณุชูุณุงุฑ ุนู ุฎุฏูุงุช ุงูุชูุซูู ุงูุงุญุชุฑุงูู ูุงูุชุตููุฑ ููุนุงููุชู ๐ธ\n\nูุฑุฌู ุชุฒููุฏู ุจุชูุงุตูู ุงูุฎุฏูุงุช ูุงูุฃุณุนุงุฑ');
ย ย ย ย ย ย ย ย const whatsappUrl = `https://wa.me/96898567383?text=${message}`;
ย ย ย ย ย ย ย ย window.open(whatsappUrl, '_blank');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุชูุฌููู ูููุงุชุณุงุจ ููุงุณุชูุณุงุฑ ุนู ุงูุชูุซูู ุงูุงุญุชุฑุงูู! ๐ฌ', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุฃุถู ุจุฑุงูุฏูุบ')) {
ย ย ย ย ย ย ย ย const brandingCheckbox = document.querySelector('.addon-checkbox[data-addon="ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ"]');
ย ย ย ย ย ย ย ย if (brandingCheckbox) {
ย ย ย ย ย ย ย ย ย ย brandingCheckbox.checked = true;
ย ย ย ย ย ย ย ย ย ย updateAddonSelection();
ย ย ย ย ย ย ย ย ย ย addChatMessage('ุชู ุฅุถุงูุฉ ุจุฑุงูุฏูุบ ุงูุฃุฌูุฒุฉ ูุทูุจู! ๐จ', 'assistant');
ย ย ย ย ย ย ย ย }
ย ย ย ย ย ย } else if (suggestion.includes('ุจุงูุฉ Premium Complete')) {
ย ย ย ย ย ย ย ย selectPremiumCompletePackage();
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุงุฎุชูุงุฑ ุจุงูุฉ Premium Complete! ุงุฎุชุฑ ุดุงุดุชูู ุงูุขู ๐ฏ', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุชูุงุตู ูุจุงุดุฑ')) {
ย ย ย ย ย ย ย ย scrollToSection('contact');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุชูุฌููู ููุณู ุงูุชูุงุตู! ๐', 'assistant');
ย ย ย ย ย ย } else if (suggestion.includes('ุงุญุฌุฒ ุงุณุชุดุงุฑุฉ')) {
ย ย ย ย ย ย ย ย const message = encodeURIComponent('ูุฑุญุจุงูุ ุฃุฑุบุจ ูู ุญุฌุฒ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ ูุน ูุฑูู EventPlus ูููุงูุดุฉ ุงุญุชูุงุฌุงุช ูุนุงููุชู ๐ฏ');
ย ย ย ย ย ย ย ย const whatsappUrl = `https://wa.me/96898567383?text=${message}`;
ย ย ย ย ย ย ย ย window.open(whatsappUrl, '_blank');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุชูุฌููู ูููุงุชุณุงุจ ูุญุฌุฒ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ! ๐ฌ', 'assistant');
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย scrollToSection('booking');
ย ย ย ย ย ย ย ย addChatMessage('ุชู ุชูุฌููู ููุณู ุงูุญุฌุฒ! ๐', 'assistant');
ย ย ย ย ย ย }
ย ย ย ย }

ย ย ย ย // (ูุตุญุญ) ุฑุจุท ุงูุฃุญุฏุงุซ ุงูุฑุฆูุณูุฉ
ย ย ย ย document.addEventListener('DOMContentLoaded', function() {
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฑุจุท ุงูุฅุถุงูุงุช
ย ย ย ย ย ย document.querySelectorAll('.addon-checkbox').forEach(checkbox => {
ย ย ย ย ย ย ย ย checkbox.addEventListener('change', updateAddonSelection);
ย ย ย ย ย ย });
ย ย ย ย ย ย 
ย ย ย ย ย ย // (ุฌุฏูุฏ ูููู) ุฑุจุท ุญููู ุงูุฃุฌูุฒุฉ ุจุงูุชุญุฏูุซ ุงูููุฑู
ย ย ย ย ย ย document.querySelectorAll('.device-checkbox, .device-quantity, .device-days').forEach(element => {
ย ย ย ย ย ย ย ย element.addEventListener('change', function() {
ย ย ย ย ย ย ย ย ย ย updateDeviceSelection(); 
ย ย ย ย ย ย ย ย });
ย ย ย ย ย ย });

ย ย ย ย ย ย // (ุฌุฏูุฏ) ุฑุจุท ุฒุฑ ุชุทุจูู ุงูุฎุตู ุจุงูุฏุงูุฉ
ย ย ย ย ย ย const applyDiscountBtn = document.querySelector('button[onclick="applyDiscount()"]');
ย ย ย ย ย ย if(applyDiscountBtn) {
ย ย ย ย ย ย ย ย applyDiscountBtn.addEventListener('click', applyDiscount);
ย ย ย ย ย ย }
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุฑุจุท ุฃุฒุฑุงุฑ ุงูุฅุฑุณุงู
ย ย ย ย ย ย const emailBtn = document.getElementById('email-submit-btn');
ย ย ย ย ย ย const waBtn = document.getElementById('whatsapp-submit-btn');
ย ย ย ย ย ย if (emailBtn) emailBtn.addEventListener('click', submitViaEmail);
ย ย ย ย ย ย if (waBtn) waBtn.addEventListener('click', submitViaWhatsApp);
ย ย ย ย ย ย 
ย ย ย ย ย ย // ุชููุฆุฉ ุฑูุงุจุท ุงูุงุชุตุงู
ย ย ย ย ย ย const whatsappNum = (defaultConfig.whatsapp_number || '').replace(/[^0-9]/g,'');
ย ย ย ย ย ย const email = defaultConfig.email_address || '';
ย ย ย ย ย ย const waURL = `https://wa.me/${whatsappNum}`;

ย ย ย ย ย ย const waHero = document.getElementById('whatsapp-hero-btn');
ย ย ย ย ย ย const waContact = document.getElementById('whatsapp-contact-btn');
ย ย ย ย ย ย const emailContact = document.getElementById('email-contact-btn');
ย ย ย ย ย ย const waDisplay = document.getElementById('whatsapp-display');
ย ย ย ย ย ย const emailDisplay = document.getElementById('email-display');

ย ย ย ย ย ย if (waHero) waHero.href = waURL;
ย ย ย ย ย ย if (waContact) waContact.href = waURL;
ย ย ย ย ย ย if (emailContact) emailContact.href = `mailto:${email}`;
ย ย ย ย ย ย if (waDisplay) waDisplay.textContent = defaultConfig.whatsapp_number;
ย ย ย ย ย ย if (emailDisplay) emailDisplay.textContent = email;

ย ย ย ย ย ย // ุงุณุชุฏุนุงุก ุชููุฆุฉ ุงูู SDK
ย ย ย ย ย ย initializeApp().catch(console.error);
ย ย ย ย });
// Auto-check + Accordion
document.addEventListener('DOMContentLoaded', () => {
  const bindAutoCheck = (selector) => {
    document.querySelectorAll(selector).forEach(inp => {
      const deviceName = inp.getAttribute('data-device');
      const apply = () => {
        const val = parseInt(inp.value || '0', 10);
        if (!deviceName) return;
        const cb = document.querySelector(`.device-checkbox[data-device="${deviceName}"]`);
        if (cb && val >= 1) cb.checked = true;
        if (typeof updateBookingSummary === 'function') updateBookingSummary();
      };
      inp.addEventListener('input', apply);
      inp.addEventListener('change', apply);
    });
  };
  bindAutoCheck('.device-quantity');
  bindAutoCheck('.device-days');

  // Accordion: ุฏุงุฎู #booking
  const booking = document.getElementById('booking');
  if (booking) {
    const panels = booking.querySelectorAll('details');
    panels.forEach((d, i) => d.open = (i === 0));
    panels.forEach((d) => {
      d.addEventListener('toggle', () => {
        if (d.open) panels.forEach(x => { if (x !== d) x.open = false; });
      });
    });
  }
});
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ad64b286c0d1e0',t:'MTc2MjUyNDQwOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
